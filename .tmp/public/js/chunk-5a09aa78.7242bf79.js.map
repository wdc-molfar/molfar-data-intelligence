{"version":3,"sources":["webpack:///./src/components/widgets/image-viewer/image-viewer.vue?7965","webpack:///./src/components/widgets/image-viewer/image-viewer-config.vue?1623","webpack:///src/components/widgets/image-viewer/image-viewer-config.vue","webpack:///./src/components/widgets/image-viewer/image-viewer-config.vue?f2cf","webpack:///./src/components/widgets/image-viewer/image-viewer-config.vue","webpack:///src/components/widgets/image-viewer/image-viewer.vue","webpack:///./src/components/widgets/image-viewer/image-viewer.vue?4535","webpack:///./src/components/widgets/image-viewer/image-viewer.vue"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","options","images","on","inited","_e","staticRenderFns","props","submit","name","components","computed","icon","config","title","id","editorTree","children","editor","component","mixins","viewer","data","methods","mode","override","extend","temp","widgetConfig","$dialogManager","showAndWait","width","$viewer","show","embedded","$emit"],"mappings":"kJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAW,QAAEE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACG,IAAI,SAASD,YAAY,SAASE,MAAM,CAAC,QAAUN,EAAIO,QAAQA,QAAQ,OAASP,EAAIO,QAAQC,OAAO,QAAU,IAAIC,GAAG,CAAC,OAAST,EAAIU,WAAW,GAAGV,EAAIW,MAEvRC,EAAkB,G,oCCFlB,EAAS,WAAkB,IAAIZ,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAACI,MAAM,CAAC,QAAUN,EAAIa,MAAM,OAASb,EAAIc,WAE3H,EAAkB,G,YCIP,GAEbC,KAAM,oBAENC,WAAY,CAAE,gBAAiB,QAE/BH,MAAO,CAAC,UAAW,UAEnBI,SAAU,CACR,QACE,MAAO,CACLC,KAAMjB,KAAKM,QAAQY,OAAOD,KAC1BE,MAAO,uBAAuBnB,KAAKM,QAAQY,OAAOE,MAAMpB,KAAKM,QAAQY,OAAOJ,OAC5EI,OAAQlB,KAAKM,QAAQY,OACrBG,WAAYrB,KAAKqB,cAMvB,OACE,MAAO,CACLA,WAAY,CAAC,CACXP,KAAM,gBACNQ,SAAU,CAAC,CACPR,KAAM,SACNS,OAAQ,IAAM,iDAEhB,CACET,KAAM,UACNS,OAAQ,IAAM,sFAEhB,CACMT,KAAM,QACNS,OAAQ,IAAM,uDCxC8Y,I,YCOxaC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCSA,G,UAAA,CAEXV,KAAM,sBAENG,KAAM,6BAENQ,OAAQ,CAAC,OAAY,QAErBb,MAAO,CAAC,UAERG,WAAY,CACVW,OAAS,IAAM,iDAIjBC,KAAM,KAAM,CACRrB,QAAS,OAebsB,QAAS,CAGL,UAAS,KAAED,GAAQE,GAEbA,GACEA,EAAKC,UACP,iBAAI9B,KAAM6B,EAAKC,SAAUH,GAGvBE,EAAKE,QACP,iBAAI/B,KAAM6B,EAAKE,OAAQ,oBAAO,iBAAI/B,KAAM6B,EAAKE,QAASJ,KAGxD3B,KAAKM,QAAUqB,EAEjB,IAAIK,EAAO,oBAAO,GAAGhC,KAAKM,SAC1BN,KAAKM,QAAU,KAETN,KAAKM,QAAU0B,GAOvB,cAAcC,GACN,OAAOjC,KAAKkC,eAAeC,YAAY,EAAc,CAAEC,MAAO,OAAS,CAAElB,OAAQe,KAG3F,OAAQP,GACN1B,KAAKqC,QAAUX,GAGjB,OACK1B,KAAKqC,SAASrC,KAAKqC,QAAQC,SAKlC,UACItC,KAAKM,QAAUN,KAAKkB,OAAOS,KAAKY,UAAY,MAGhD,gBACIvC,KAAKwC,MAAM,WCvGkZ,ICOja,EAAY,eACd,EACA1C,EACAa,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-5a09aa78.7242bf79.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.options)?_c('div',{staticClass:\"viewer-wrapper\"},[_c('viewer',{ref:\"viewer\",staticClass:\"viewer\",attrs:{\"options\":_vm.options.options,\"images\":_vm.options.images,\"rebuild\":\"\"},on:{\"inited\":_vm.inited}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <config-dialog :options=\"props\" :submit=\"submit\"></config-dialog>\r\n</template>\r\n<script>\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\";\r\n\r\nexport default {\r\n\r\n  name: \"ImageViewerConfig\",\r\n\r\n  components: { \"config-dialog\": configDialog },\r\n\r\n  props: [\"options\", \"submit\"],\r\n\r\n  computed: {\r\n    props() {\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `file-viewer-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  data() {\r\n    return {\r\n      editorTree: [{\r\n        name: \"Configuration\",\r\n        children: [{\r\n            name: 'Widget',\r\n            editor: () => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n          },\r\n          {\r\n            name: \"Options\",\r\n            editor: () => import(\"@/components/dialogs/config/parts/options-editor.vue\")\r\n          },\r\n          {\r\n                name: 'Style',\r\n                editor: () => import(\"@/components/dialogs/config/parts/css-editor.vue\")\r\n          }\r\n\r\n        ]\r\n      }],\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./image-viewer-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./image-viewer-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-viewer-config.vue?vue&type=template&id=d7f1bae4&\"\nimport script from \"./image-viewer-config.vue?vue&type=script&lang=js&\"\nexport * from \"./image-viewer-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div v-if=\"options\" class=\"viewer-wrapper\">\r\n      <viewer\r\n        ref=\"viewer\"\r\n        :options=\"options.options\"\r\n        :images=\"options.images\"\r\n        rebuild\r\n        class=\"viewer\"\r\n        @inited=\"inited\"\r\n      ></viewer>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\n\r\nimport { ref, onMounted } from \"vue\";\r\n\r\nimport { set, get, isString, extend} from \"lodash\"\r\n\r\nimport configDialog from \"./image-viewer-config.vue\";\r\n\r\nimport 'viewerjs/dist/viewer.css'\r\n\r\nexport default {\r\n\r\n    name: \"image-viewer-widget\",\r\n\r\n    icon: \"mdi-image-multiple-outline\",\r\n\r\n    mixins: [djvueMixin, listenerMixin],\r\n\r\n    props: [\"config\"],\r\n\r\n    components: {\r\n      viewer : () => import(\"@/components/core/ext/image-viewer.vue\"),\r\n  \r\n    },\r\n\r\n    data: () => ({\r\n        options: null\r\n    }),\r\n\r\n    // watch: {\r\n    //     options: {\r\n    //         handler(newValue, oldValue) {\r\n    //             if (newValue && newValue.url && this.instance) {\r\n    //               // if(oldValue && oldValue.url != newValue.url)\r\n    //                 // this.instance.loadDocument(newValue.url)\r\n    //             }\r\n    //         },\r\n    //         deep: true\r\n    //     }\r\n    // },\r\n\r\n    methods: {\r\n\r\n        \r\n        onUpdate({ data }, mode) {\r\n          \r\n          if( mode ){\r\n            if (mode.override) {\r\n              set(this, mode.override, data)\r\n              // console.log(\"MODE\", this.options)\r\n            }\r\n            if (mode.extend) {\r\n              set(this, mode.extend, extend(get(this, mode.extend), data))\r\n            }\r\n          } else {\r\n            this.options = data  \r\n          }\r\n          let temp = extend({},this.options)\r\n          this.options = null\r\n          // this.$nextTick(() => { \r\n                this.options = temp\r\n                // console.log(\"UPDATE IMAGE VIEWER\",this.options)\r\n                // this.show() \r\n          // })\r\n        },\r\n\r\n   \r\n        onReconfigure(widgetConfig) {\r\n                return this.$dialogManager.showAndWait(configDialog, { width: \"90%\" }, { config: widgetConfig })\r\n        },\r\n\r\n      inited (viewer) {\r\n        this.$viewer = viewer\r\n      },\r\n      \r\n      show () {\r\n        if(this.$viewer) this.$viewer.show()\r\n      }\r\n\r\n    },\r\n\r\n    created() {\r\n        this.options = this.config.data.embedded || null\r\n    },\r\n\r\n    async mounted() {\r\n        this.$emit(\"init\")\r\n    },\r\n}\r\n\r\n</script>","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./image-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./image-viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-viewer.vue?vue&type=template&id=2e2b2528&\"\nimport script from \"./image-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./image-viewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}