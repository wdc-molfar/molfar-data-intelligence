{"version":3,"sources":["webpack:///./src/components/widgets/edu-toc/edu-toc.vue?c1f2","webpack:///./src/components/widgets/edu-toc/edu-toc-config.vue?9e53","webpack:///src/components/widgets/edu-toc/edu-toc-config.vue","webpack:///./src/components/widgets/edu-toc/edu-toc-config.vue?b595","webpack:///./src/components/widgets/edu-toc/edu-toc-config.vue","webpack:///src/components/widgets/edu-toc/edu-toc.vue","webpack:///./src/components/widgets/edu-toc/edu-toc.vue?3f57","webpack:///./src/components/widgets/edu-toc/edu-toc.vue"],"names":["render","_vm","this","_c","_self","staticClass","attrs","items","open","active","on","$event","scopedSlots","_u","key","fn","item","type","select","_v","_s","title","class","itemClass","style","icon","_e","staticRenderFns","props","submit","name","components","computed","options","config","id","editorTree","children","editor","component","mixins","data","selected","methods","event","normalize","toc","map","d","f","$djvue","randomName","embedded","emit","widgetConfig","$dialogManager","showAndWait","width","$emit","VLayout","VTreeview"],"mappings":"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","file":"js/chunk-2d0cc273.e214ee21.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.items)?_c('div',[_c('v-treeview',{staticClass:\"pa-2\",attrs:{\"items\":_vm.items,\"item-key\":\"key\",\"open-all\":\"\",\"open-on-click\":\"\",\"open\":_vm.open,\"active\":_vm.active,\"transition\":\"\",\"item-text\":\"\",\"activatable\":\"\",\"dense\":\"\"},on:{\"update:open\":function($event){_vm.open=$event},\"update:active\":function($event){_vm.active=$event}},scopedSlots:_vm._u([{key:\"prepend\",fn:function({ item }){return [(item.type == 'topic')?_c('div',{staticClass:\"font-weight-bold\",on:{\"click\":function($event){return _vm.select(item)}}},[_vm._v(\"\\n        \"+_vm._s(item.title)+\"\\n      \")]):_c('v-layout',{class:_vm.itemClass(item),style:(item.style || ''),attrs:{\"align-center\":\"\",\"row\":\"\"},on:{\"click\":function($event){return _vm.select(item)}}},[(item.icon)?_c('i',{class:'pr-1 mdi '+item.icon}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(item.title)+\"\\n      \")])]}}],null,false,4249536754)})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <config-dialog :options=\"props\" :submit=\"submit\"></config-dialog>\r\n</template>\r\n<script>\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\"\r\n\r\n\r\nexport default {\r\n\r\n  name: \"EduEditorConfig\",\r\n\r\n  components: { \"config-dialog\": configDialog },\r\n\r\n  props: [\"options\", \"submit\"],\r\n\r\n  computed: {\r\n    props() {\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `edu-editor-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  data() {\r\n    return {\r\n      editorTree: [{\r\n        name: \"Configuration\",\r\n        children: [{\r\n            name: 'Widget',\r\n            editor: () => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n          },\r\n          {\r\n            name: 'Style',\r\n            editor: () => import(\"@/components/dialogs/config/parts/css-editor.vue\")\r\n          }\r\n          ,\r\n          {\r\n            name: \"Options\",\r\n            editor: () => import(\"@/components/dialogs/config/parts/options-editor.vue\")\r\n          }\r\n        ]\r\n      }],\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./edu-toc-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./edu-toc-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edu-toc-config.vue?vue&type=template&id=e25ac494&\"\nimport script from \"./edu-toc-config.vue?vue&type=script&lang=js&\"\nexport * from \"./edu-toc-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-if=\"items\">\r\n    <v-treeview \r\n      class=\"pa-2\" \r\n      :items=\"items\" \r\n      item-key=\"key\"  \r\n      open-all \r\n      open-on-click \r\n      :open.sync=\"open\" \r\n      :active.sync=\"active\" \r\n      transition \r\n      item-text=\"\" \r\n      activatable\r\n      dense\r\n\r\n    >\r\n      <template slot=\"prepend\" slot-scope=\"{ item }\">\r\n        <div v-if=\"item.type == 'topic'\" class=\"font-weight-bold\"  @click=\"select(item)\">\r\n          {{item.title}}\r\n        </div>\r\n        <v-layout align-center row v-else :class=\"itemClass(item)\" @click=\"select(item)\" :style=\"item.style || ''\">\r\n          <i v-if=\"item.icon\" :class=\"'pr-1 mdi '+item.icon\"></i>\r\n          {{item.title}}\r\n        </v-layout>\r\n      </template>\r\n    </v-treeview>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\n  import listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\n\r\n\r\n  \r\n  import TocConfig from \"./edu-toc-config.vue\";\r\n\r\n\r\n\r\n  export default  {\r\n    \r\n    name:\"edu-toc-widget\",\r\n\r\n    icon: \"mdi-file-outline\",\r\n\r\n    mixins:[djvueMixin, listenerMixin],\r\n\r\n    data: () => ({\r\n      items: null,\r\n      open: [],\r\n      active: [],\r\n      selected: null\r\n    }),\r\n\r\n    methods:{\r\n\r\n\r\n      onUpdate ({data}) {\r\n        if(!data) return\r\n        this.event = data.event\r\n        this.items = this.normalize(data.toc)\r\n        this.open = this.items.map( d => d.key)\r\n   \r\n      },\r\n\r\n      normalize(data) {\r\n\r\n        let f = d => {\r\n          d = d.map(item => {\r\n            if (item.children) {\r\n              item.children = f(item.children)\r\n            } else {\r\n              item.children = []\r\n            }\r\n            item.key = this.$djvue.randomName()\r\n            return item\r\n          })\r\n          return d\r\n        }\r\n\r\n        return f(data)\r\n      },\r\n\r\n      select(item) {\r\n        this.selected = item;\r\n        let event = this.config.data.embedded.event || \"select-toc\"\r\n        this.emit(event, item)\r\n        // if (!this.selected) {\r\n        //   this.selected = item\r\n        // } else {\r\n        //   this.selected = item //(this.selected.id == item.id) ? null : item\r\n        // }\r\n      },\r\n\r\n      itemClass(item) {\r\n        return (!this.selected) ?\r\n          'font-weight-normal' :\r\n          (item.key != this.selected.key) ? 'font-weight-normal secondary--text' : 'font-weight-normal primary--text'\r\n      },\r\n      \r\n\r\n\r\n      onReconfigure (widgetConfig) {\r\n       return this.$dialogManager.showAndWait(TocConfig, {width:\"90%\"},{config:widgetConfig})\r\n      }\r\n            \r\n\r\n      \r\n    },\r\n\r\n    \r\n    props:[\"config\"],\r\n\r\n    \r\n    created(){\r\n      // if (this.config.data.embedded.active) this.addListeners()\r\n    },\r\n\r\n    mounted(){ this.$emit(\"init\") }\r\n\r\n  }\r\n\r\n</script> \r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./edu-toc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./edu-toc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edu-toc.vue?vue&type=template&id=16eb0288&\"\nimport script from \"./edu-toc.vue?vue&type=script&lang=js&\"\nexport * from \"./edu-toc.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VLayout,VTreeview})\n"],"sourceRoot":""}