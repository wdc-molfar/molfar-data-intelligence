(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18bb8606"],{7679:function(e,t,a){"use strict";a("c79c");var i=a("e4d3"),s=a("7560"),n=a("80d2"),l=a("afdd"),o=a("326d"),r=a("58df");t["a"]=Object(r["a"])(i["a"],s["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data(){return{isActive:!1}},watch:{isActive(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel(){this.isActive=!1,this.$emit("cancel")},focus(){const e=this.$refs.content.querySelector("input");e&&e.focus()},genButton(e,t){return this.$createElement(l["a"],{props:{text:!0,color:"primary",light:!0},on:{click:e}},t)},genActions(){return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(()=>{this.save(this.returnValue),this.$emit("save")},this.saveText)])},genContent(){return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:e=>{e.keyCode===n["z"].esc&&this.cancel(),e.keyCode===n["z"].enter&&(this.save(this.returnValue),this.$emit("save"))}},ref:"content"},[this.$slots.input])}},render(e){return e(o["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:e=>this.isActive=e},scopedSlots:{activator:({on:t})=>e("div",{staticClass:"v-small-dialog__activator",on:t},[e("span",{staticClass:"v-small-dialog__activator__content"},this.$slots.default)])}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(e,t,a){},e251:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("v-card",{attrs:{flat:""}},[t("key-value-editor",{attrs:{object:e.form.metadata,value:"value"}})],1)},s=[],n=a("c555"),l=a("4e14"),o=function(){var e=this,t=e._self._c;return e.items?t("div",[t("v-data-table",{staticStyle:{display:"inline-grid"},attrs:{headers:e.headers,items:e.items,dense:"","show-select":"","hide-default-footer":"","items-per-page":Number.POSITIVE_INFINITY},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-row",{staticClass:"mx-2 my-0"},[t("v-spacer"),t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t("v-btn",e._g({staticClass:"primary--text pr-1",attrs:{icon:"",small:""},on:{click:function(t){return e.add()}}},a),[t("v-icon",[e._v("mdi-plus")])],1)]}}],null,!1,4198300025)},[t("span",[e._v("Add")])]),t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t("v-btn",e._g({staticClass:"primary--text pr-1",attrs:{icon:"",small:"",disabled:0==e.selected.length},on:{click:function(t){return e.remove()}}},a),[t("v-icon",[e._v("mdi-trash-can-outline")])],1)]}}],null,!1,4157316921)},[t("span",[e._v("Remove")])])],1),t("v-divider")]},proxy:!0},{key:"item.key",fn:function(a){return[t("v-edit-dialog",{attrs:{"return-value":e.key_},on:{"update:returnValue":function(t){e.key_=t},"update:return-value":function(t){e.key_=t},save:function(t){return e.onSave(a.item)},open:function(t){return e.onEdit(a.item)}},scopedSlots:e._u([{key:"input",fn:function(){return[t("v-text-field",{attrs:{rules:[e.required,e.unique],required:"",label:"Edit","single-line":""},model:{value:e.key_,callback:function(t){e.key_=t},expression:"key_"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(a.item.key)+"\n        ")])]}},{key:"item.value",fn:function(a){return[t("v-edit-dialog",{attrs:{"return-value":e.value_},on:{"update:returnValue":function(t){e.value_=t},"update:return-value":function(t){e.value_=t},save:e.onSave,open:function(t){return e.onEdit(a.item)}},scopedSlots:e._u([{key:"input",fn:function(){return[t("v-text-field",{attrs:{label:"Edit","single-line":""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(a.item.value)+"\n        ")])]}}],null,!1,2433788578),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),t("pre",{staticClass:"caption"},[e._v(e._s(e.object))])],1):e._e()},r=[],u=a("2ef0"),c={name:"KeyValueEditor",props:["object","value"],mixins:[n["a"]],data(){return{selected:[],editedItem:null,headers:[{text:"Key",value:"key",class:"text-xs-left"},{text:"Value",value:"value",class:"text-xs-left"}],key_:null,value_:null,required:e=>!!e&&""!=e||"Required",unique:e=>0==this.items.filter(t=>t.key!=this.editedItem.key&&t.key==e).length||"Doublicate key!",items:null}},methods:{onEdit(e){this.editedItem=e,this.key_=this.editedItem.key,this.value_=this.editedItem.value},onSave(){setTimeout(()=>{if(1!=this.unique(this.key_)||1!=this.required(this.key_))return;let e=Object(u["extend"])({},this.object[this.editedItem.key]);e[this.value]=this.value_,delete this.object[this.editedItem.key],this.object[this.key_]=e,this.items=Object(u["toPairs"])(this.object).map(e=>({key:e[0],value:e[1][this.value]}))},0)}},created(){this.items=Object(u["toPairs"])(this.object).map(e=>({key:e[0],value:this.value?e[1][this.value]:e[1]}))}},d=c,h=a("2877"),v=a("fef8"),m=a.n(v),p=a("8336"),f=a("8fea"),y=a("ce7e"),k=a("7679"),_=a("132d"),g=a("0fd9"),b=a("2fa4"),x=a("8654"),w=a("3a2f"),V=Object(h["a"])(d,o,r,!1,null,null,null),C=V.exports;m()(V,{VBtn:p["a"],VDataTable:f["a"],VDivider:y["a"],VEditDialog:k["a"],VIcon:_["a"],VRow:g["a"],VSpacer:b["a"],VTextField:x["a"],VTooltip:w["a"]});var M={mixins:[n["a"],l["a"]],props:["form"],components:{"key-value-editor":C},computed:{},methods:{cancelNewMetadata(){this.newMetadataKey=null,this.newMetadataValue=null,this.showNewMetadataDialog=!1},validate(){return!!this.newMetadataKey&&!(Object(u["findIndex"])(this.items,e=>e.key==this.newMetadataKey)>=0)},commitNewMetadata(){this.validate()&&(this.form.metadata[this.newMetadataKey]={value:this.newMetadataValue,required:!1,editable:!0}),this.newMetadataKey=null,this.newMetadataValue=null,this.$emit("update",this.form.metadata),this.prepare(),this.showNewMetadataDialog=!1},updateMetadata(){let e={};this.items.forEach(t=>{e[t.key]=JSON.parse(JSON.stringify(t)),e[t.key].key=void 0}),this.$emit("update",e)},prepare(){this.form&&(this.items=Object(u["toPairs"])(this.form.metadata).map(e=>({key:e[0],value:e[1].value,required:e[1].required,editable:e[1].editable})))},onSelect(){this.selection=this.items.filter(e=>e.selected)},deleteMetadata(){this.selection.forEach(e=>{let t=Object(u["findIndex"])(this.items,t=>e.key==t.key);this.items.splice(t,1)}),this.updateMetadata()}},watch:{form(){this.prepare()}},created(){this.prepare()},data:()=>({newMetadataKey:null,newMetadataValue:null,showNewMetadataDialog:!1,items:[],selection:[]})},S=M,j=a("b0af"),I=Object(h["a"])(S,i,s,!1,null,null,null);t["default"]=I.exports;m()(I,{VCard:j["a"]})}}]);
//# sourceMappingURL=chunk-18bb8606.e3fca27e.js.map