{"version":3,"sources":["webpack:///./src/components/widgets/nlp-annotator/nlp-annotator.vue?06bf","webpack:///./src/components/widgets/nlp-annotator/nlp-annotator-config.vue?e7ec","webpack:///src/components/widgets/nlp-annotator/nlp-annotator-config.vue","webpack:///./src/components/widgets/nlp-annotator/nlp-annotator-config.vue?b547","webpack:///./src/components/widgets/nlp-annotator/nlp-annotator-config.vue","webpack:///src/components/widgets/nlp-annotator/nlp-annotator.vue","webpack:///./src/components/widgets/nlp-annotator/nlp-annotator.vue?0907","webpack:///./src/components/widgets/nlp-annotator/nlp-annotator.vue"],"names":["render","_vm","this","_c","_self","ref","attrs","config","id","options","document","getOptions","on","onSelectNodes","_e","staticRenderFns","props","submit","name","components","computed","icon","title","editorTree","children","editor","component","compile","_template","context","interpolate","result","annotator","mixins","data","methods","decoration","availableAnnotation","selection","events","utils","event","select","emit","annotation","length","parent","start","childs","node","stop","splice","newAnnotation","type","concept","value","map","join","pos","$nextTick","$refs","create","change","a","nestedIn","includes","forEach","child","nestingTest","_remove","remove","onUpdate","self","action","removeAnnotation","color","filter","key","item","createAnnotation","split","trim","classes","label","tooltip","mode","override","extend","temp","widgetConfig","$dialogManager","showAndWait","width","$emit"],"mappings":"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","file":"js/chunk-2d0efc63.dc079751.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.options)?_c('annotator',{ref:\"annotator\",attrs:{\"id\":_vm.config.id,\"data\":_vm.options.document,\"options\":_vm.getOptions},on:{\"select\":_vm.onSelectNodes}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <config-dialog \r\n      :options=\"props\"\r\n      :submit=\"submit\"\r\n    ></config-dialog>  \r\n </template> \r\n\r\n\r\n\r\n\r\n<script>\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\";\r\n\r\n\r\n\r\n\r\nexport default {\r\n\t\r\n  name: \"NlpAnnotatorConfig\",\r\n  \r\n  components:{ \"config-dialog\": configDialog},\r\n  \r\n\tprops:[\"options\", \"submit\"],\r\n\r\n  computed:{\r\n    props(){\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `html-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n  data () {\r\n      return {\r\n\r\n        \r\n        editorTree:[\r\n          {\r\n            name: \"Configuration\",\r\n            children: [\r\n              {\r\n                name: 'Widget',\r\n                editor:() => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n              },\r\n              {\r\n                name: 'Style',\r\n                editor: () => import(\"@/components/dialogs/config/parts/css-editor.vue\")\r\n              }\r\n              ,\r\n              {\r\n                name: \"Options\",\r\n                editor: () => import(\"@/components/dialogs/config/parts/options-editor.vue\")\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n}\r\n\r\n</script>","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-annotator-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-annotator-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nlp-annotator-config.vue?vue&type=template&id=290e115e&\"\nimport script from \"./nlp-annotator-config.vue?vue&type=script&lang=js&\"\nexport * from \"./nlp-annotator-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <annotator\r\n      v-if=\"options\" \r\n      ref=\"annotator\"\r\n      :id=\"config.id\" \r\n      :data=\"options.document\" \r\n      :options=\"getOptions\"\r\n      @select = \"onSelectNodes\"\r\n    ></annotator>\r\n</template>\r\n\r\n<script>\r\n\r\n  import annotator from \"@/components/core/ext/nlp/annotator.vue\"\r\n  import * as utils from \"@/components/core/ext/nlp/utils.js\"\r\n\r\n  import djvueMixin from \"@/mixins/core/djvue.mixin\";\r\n  import listenerMixin from \"@/mixins/core/listener.mixin\";\r\n  import { extend, template, templateSettings, isArray, keys, findIndex, flattenDeep, set, get } from \"lodash\"\r\n  import { v4 } from \"uuid/dist\"\r\n\r\n\r\n  \r\n  import NlpAnnotatorConfig from \"./nlp-annotator-config.vue\";\r\n  \r\n  \r\n  \r\n\r\n  \r\n\r\n  let compile = (_template,context) => {\r\n     templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\r\n\r\n    let result = template(_template)(context)\r\n\r\n    templateSettings.interpolate = /<%=([\\s\\S]+?)%>/g;\r\n\r\n    return result\r\n    \r\n  }\r\n\r\n  \r\n\r\n export default  {\r\n    \r\n    name:\"nlp-annotator-widget\",\r\n\r\n    components:{\r\n      annotator\r\n    },\r\n\r\n    icon: \"mdi-format-color-highlight\",\r\n\r\n    mixins:[djvueMixin, listenerMixin],\r\n\r\n    props:[\"config\"],\r\n\r\n    data:  ()=>({\r\n      options: null\r\n    }),\r\n\r\n    methods:{\r\n\r\n\r\n    getDocument(){\r\n      return this.options.document \r\n    },\r\n    \r\n    getDecoration(){\r\n      return this.options.decoration \r\n    },\r\n\r\n    getAvailableAnnotation(){\r\n      return this.options.availableAnnotation \r\n    },\r\n\r\n    getSelection(){\r\n      return this.options.selection\r\n    },\r\n\r\n    getEvents(){\r\n      return this.options.events\r\n    },\r\n\r\n    getUtils(){\r\n      return utils\r\n    },\r\n\r\n    getData(){\r\n      return this.options\r\n    },\r\n\r\n\r\n    onSelectNodes(selection){\r\n      if(this.options.events){\r\n        let event = this.options.events.select || \"select-nodes\"\r\n        this.emit(event, selection, this)  \r\n      }\r\n    },\r\n\r\n\r\n    createAnnotation(annotation){\r\n      return selection => {\r\n        if(selection.length == 0) return\r\n\r\n        let parent = utils.getParent(selection[0], this.options.document)\r\n        let start = findIndex(parent.childs, node => node.id == selection[0].id)\r\n        let stop = findIndex(parent.childs, node => node.id == selection[selection.length-1].id)\r\n        let childs = parent.childs.splice(start, stop-start+1)\r\n        \r\n\r\n        let newAnnotation = {\r\n          type: annotation,\r\n          childs,\r\n          concept:\"SEMANTIC\",\r\n          id: `${this.config.id}-${v4()}`,\r\n          value: childs.map(node => node.value).join(\"\") \r\n        }\r\n\r\n        if(childs[0].pos) {\r\n            newAnnotation.pos = [childs[0].pos[0],childs[childs.length-1].pos[1]]\r\n        \r\n        }\r\n\r\n        parent.childs.splice(start, 0, newAnnotation)\r\n\r\n\r\n        this.$nextTick(() => {this.$refs.annotator.select(newAnnotation)})\r\n\r\n        if(this.options.events){\r\n          let event = this.options.events.create || \"create-annotation\"\r\n          this.emit(event, newAnnotation, this)  \r\n        }\r\n\r\n        if(this.options.events){\r\n          let event = this.options.events.change || \"change-document\"\r\n          this.emit(event, this.options.document, this)  \r\n        }\r\n    \r\n      }\r\n  \r\n    },\r\n\r\n    nestingTest( node, annotation){\r\n      let a = this.options.availableAnnotation[annotation]\r\n      if(!a) return true\r\n      a.nestedIn = a.nestedIn || [] \r\n      let parent = utils.getParent(node, this.options.document)\r\n      return (parent && a.nestedIn.includes(parent.type)) || a.nestedIn.length == 0\r\n    },\r\n\r\n    _remove(selection){\r\n      if(selection.length == 0 || selection.length > 1) return\r\n\r\n        \r\n      let parent = utils.getParent(selection[0], this.options.document)\r\n      if(parent){\r\n        let pos = findIndex(parent.childs, node => node.id == selection[0].id)\r\n        parent.childs.splice(pos,1)\r\n        parent.childs.splice(pos,0,selection[0].childs)\r\n        parent.childs = flattenDeep(parent.childs)\r\n        \r\n        parent.childs.forEach( child => {\r\n          if (!this.nestingTest(child, child.type)) this._remove([child])\r\n        })  \r\n      }\r\n     \r\n      if(this.options.events){\r\n        let event = this.options.events.remove || \"remove-annotation\"\r\n        this.emit(event, selection[0], this, parent)  \r\n      }\r\n\r\n      if(this.options.events){\r\n        let event = this.options.events.change || \"change-document\"\r\n        this.emit(event, this.options.document, this)  \r\n      }\r\n  \r\n    \r\n\r\n\r\n    },\r\n\r\n    removeAnnotation(selection){\r\n      // console.log(this.$refs)\r\n      this._remove(selection)\r\n      // this.$nextTick(() => {\r\n        this.$refs.annotator.select(selection[0].childs)\r\n      // })\r\n      this.onUpdate({data:this.options})\r\n    },\r\n      \r\n    getOptions(){\r\n      if(!this.options) return {}\r\n      let self = this  \r\n      return {\r\n\r\n            availableSelectionMode(){\r\n              return [\"singly\", \"bundly\"]\r\n            },\r\n\r\n            menu(node){\r\n              if(!node) return\r\n              if (!keys(self.options.selection).includes(node.type)) return\r\n  \r\n              if(self.options.availableAnnotation[node.type]){\r\n                return [{\r\n                  title:node.type,\r\n                  action: self.removeAnnotation,\r\n                  icon:\"mdi-pen-off\",\r\n                  color:\"#ff9999\"\r\n                }]\r\n              } else {\r\n                return keys(self.options.availableAnnotation)\r\n                        .filter( key => self.nestingTest(node, key))\r\n                        .map( item =>({\r\n                          icon: \"mdi-pen\",\r\n                          title:item,\r\n                          action: self.createAnnotation(item),\r\n                          color:self.options.decoration.color[item] || \"#aaaaaa\"\r\n                        })\r\n                )\r\n              }\r\n            }, \r\n\r\n            \r\n            selectable(node){ \r\n              return  (node)\r\n                        ?  (self.options && self.options.selection) \r\n                            ? ( self.options.selection[node.type] )\r\n                                ? ( isArray( self.options.selection[node.type] ) )\r\n                                    ? self.options.selection[node.type]\r\n                                    : self.options.selection[node.type].split(\",\").map( item => item.trim())\r\n                                : null\r\n                            : null\r\n                        : null                \r\n            },\r\n\r\n            classes(node){ \r\n              return   (node)\r\n                        ?  (self.options && self.options.decoration.classes) \r\n                                ? compile(self.options.decoration.classes[node.type], {node} ) \r\n                                : null\r\n                        : null        \r\n            },\r\n\r\n            color(node){\r\n              return   (node)\r\n                        ?  (self.options && self.options.decoration.color) \r\n                                ? compile(self.options.decoration.color[node.type], {node} )  \r\n                                : null\r\n                        : null        \r\n            },\r\n            \r\n            label(node){\r\n              // console.log(node.type)\r\n              // if(node.type == \"BRANCH\"){\r\n              //   console.log(self.options.decoration.label[node.type], {node})\r\n              //   console.log(compile(self.options.decoration.label[node.type], {node} ))\r\n                 \r\n              // }\r\n              return   (node)\r\n                        ?  (self.options && self.options.decoration.label) \r\n                                ? compile(self.options.decoration.label[node.type], {node} )\r\n                                : null\r\n                        : null        \r\n            },\r\n            \r\n            tooltip(node){\r\n              if (!self.options) return null\r\n              return   (node)\r\n                        ?  (self.config && self.options.decoration.tooltip && self.options.decoration.tooltip[node.type]) \r\n                                ? compile(self.options.decoration.tooltip[node.type], {node} ) \r\n                                : null\r\n                        : null        \r\n            }\r\n        \r\n      }       \r\n    },  \r\n\r\n    onUpdate ({data}, mode) {\r\n      \r\n      if( mode ){\r\n        if (mode.override) {\r\n          set(this, mode.override, data)\r\n        }\r\n        if (mode.extend) {\r\n          set(this, mode.extend, extend(get(this, mode.extend), data))\r\n        }\r\n      } else {\r\n        this.options = data  \r\n      }\r\n      \r\n      let temp = this.options\r\n   \r\n      this.options = null\r\n   \r\n\r\n      this.$nextTick(() => {\r\n        this.options = temp\r\n        // console.log(\"ANNOTATOR\",this.options)\r\n        if(this.options.events){\r\n          let event = this.options.events.change || \"change-document\"\r\n          this.emit(event, this.options.document, this)  \r\n        }\r\n      \r\n      })\r\n    },\r\n\r\n\r\n      onReconfigure (widgetConfig) {\r\n       return this.$dialogManager.showAndWait(NlpAnnotatorConfig,{width:\"90%\"}, {config:widgetConfig})  \r\n      },\r\n      \r\n\r\n  },\r\n\r\n    created(){ \r\n    },\r\n\r\n    mounted(){ this.$emit(\"init\") },\r\n    \r\n      \r\n\r\n  }\r\n\r\n</script>\t\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-annotator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-annotator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nlp-annotator.vue?vue&type=template&id=08e42ba5&\"\nimport script from \"./nlp-annotator.vue?vue&type=script&lang=js&\"\nexport * from \"./nlp-annotator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}