{"version":3,"sources":["webpack:///./src/components/widgets/data-legend/data-legend.vue?8254","webpack:///./src/components/widgets/data-legend/data-legend-config.vue?1d45","webpack:///src/components/widgets/data-legend/data-legend-config.vue","webpack:///./src/components/widgets/data-legend/data-legend-config.vue?b135","webpack:///./src/components/widgets/data-legend/data-legend-config.vue","webpack:///src/components/widgets/data-legend/data-legend.vue","webpack:///./src/components/widgets/data-legend/data-legend.vue?5bbe","webpack:///./src/components/widgets/data-legend/data-legend.vue"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","title","_l","item","index","key","on","$event","select","class","decoration","attrs","control","timer","staticRenderFns","props","submit","name","components","computed","icon","options","config","id","editorTree","children","editor","component","mixins","source","methods","data","JSON","parse","e","error","toString","stop","items","event","$nextTick","selection","widgetConfig","$dialogManager","showAndWait","width","onUpdate","start","clearInterval","interval","setInterval","length","watch","value","emit","callback","console","log","rule","emitter","$emit","VBtn","VIcon","VRow","VSpacer"],"mappings":"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","file":"js/chunk-2d2375c0.6837eb97.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-row',{staticClass:\"pa-2 mx-0\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('div',{staticClass:\"primary--text caption pr-5\"},[_vm._v(_vm._s(_vm.title))]),_c('div',_vm._l((_vm.items),function(item,index){return _c('a',{key:index,on:{\"click\":function($event){return _vm.select(index)}}},[_c('span',{class:_vm.decoration(index)},[_vm._v(_vm._s(item))])])}),0)]),_c('v-spacer'),_c('div',[_c('v-btn',{staticClass:\"ma-3\",attrs:{\"text\":\"\",\"outlined\":\"\",\"color\":\"primary\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.control()}}},[_c('span',{staticClass:\"caption\"},[_vm._v(\"\\n      \"+_vm._s((!_vm.timer) ? \"play\" : \"stop\")+\"\\n      \"),_c('v-icon',{staticClass:\"primary--text\",attrs:{\"small\":\"\"}},[_vm._v(_vm._s((!_vm.timer) ? \"mdi-play\" : \"mdi-stop\"))])],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <config-dialog :options=\"props\" :submit=\"submit\"></config-dialog>\r\n</template>\r\n<script>\r\n\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\"\r\n\r\n\r\nexport default {\r\n\r\n  name: \"DataLegendConfig\",\r\n\r\n  props: [\"options\", \"submit\"],\r\n\r\n  components: {\r\n    \"config-dialog\": configDialog\r\n  },\r\n\r\n  computed: {\r\n    props() {\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `data-legend-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      editorTree: [{\r\n        name: \"Configuration\",\r\n        children: [{\r\n            name: 'Widget',\r\n            editor: () => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n          },\r\n          {\r\n            name: \"Data\",\r\n            editor: () => import(\"@/components/dialogs/config/parts/source-editor.vue\")\r\n          }\r\n\r\n        ]\r\n      }]\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./data-legend-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./data-legend-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./data-legend-config.vue?vue&type=template&id=72567be9&\"\nimport script from \"./data-legend-config.vue?vue&type=script&lang=js&\"\nexport * from \"./data-legend-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-row class=\"pa-2 mx-0\">\r\n    <div class=\"d-flex align-center\">\r\n      <div class=\"primary--text caption pr-5\">{{title}}</div>\r\n      <div>\r\n        <a v-for=\"(item, index) in items\" :key=\"index\" @click=\"select(index)\">\r\n          <span :class=\"decoration(index)\">{{item}}</span>\r\n        </a>\r\n      </div>\r\n    </div>  \r\n    <v-spacer></v-spacer>\r\n    <div>\r\n      <v-btn text outlined color=\"primary\" x-small class=\"ma-3\" @click=\"control()\">\r\n        <span class=\"caption\">\r\n        {{(!timer) ? \"play\" : \"stop\"}}\r\n        <v-icon small class=\"primary--text\">{{(!timer) ? \"mdi-play\" : \"mdi-stop\"}}</v-icon>\r\n        </span>\r\n      </v-btn>\r\n    </div>\r\n  </v-row>\r\n</template>\r\n<script>\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport DataLegendConfigDialog from \"./data-legend-config.vue\";\r\nimport { isArray, sortBy, includes, findIndex, isUndefined, isNull, isString } from \"lodash\"\r\n\r\nexport default {\r\n\r\n  props: [\"config\"],\r\n\r\n  mixins: [djvueMixin, listenerMixin],\r\n\r\n  computed: {\r\n    items() {\r\n      if (!this.source) return\r\n      return this.source\r\n    }\r\n  },\r\n\r\n\r\n  methods: {\r\n\r\n    onValidate(data,options){\r\n      if( isString(data) ) {\r\n          try {\r\n            data = JSON.parse(data)\r\n            return data\r\n          } catch (e) {\r\n            return { error: e.toString() }\r\n          }\r\n        }\r\n      return data  \r\n    },\r\n\r\n\r\n    onUpdate({ data }) {\r\n      this.stop()\r\n      this.title = data.title || \"\"\r\n      this.source = data.items\r\n      this.event = data.event\r\n      this.$nextTick(() => {\r\n        this.selection = 0\r\n      })\r\n\r\n    },\r\n\r\n    onReconfigure(widgetConfig) {\r\n      return this.$dialogManager.showAndWait(DataLegendConfigDialog, { width: \"90%\" }, { config: widgetConfig })\r\n    },\r\n\r\n    onClear() {\r\n      this.onUpdate({\r\n        data: []\r\n      })\r\n    },\r\n\r\n    decoration(index) {\r\n      return ` body-1 px-1  ${(this.selection == index) ? 'primary--text font-weight-bold' : 'secondary--text font-weight-light'}`\r\n    },\r\n\r\n    select(index) {\r\n      this.stop()\r\n      this.selection = index\r\n    },\r\n\r\n    control() {\r\n      if (this.timer) {\r\n        this.stop()\r\n      } else {\r\n        this.start()\r\n      }\r\n    },\r\n\r\n    stop() {\r\n      if (!this.timer) return\r\n      clearInterval(this.timer)\r\n      this.timer = null\r\n    },\r\n\r\n    start(interval) {\r\n      this.stop()\r\n      interval = interval || 2000\r\n      this.timer = setInterval(() => {\r\n        this.selection = (this.selection < this.items.length - 1) ? this.selection + 1 : 0\r\n      }, interval)\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n    selection(value) {\r\n      if (isNull(value) || isNull(this.event)) return\r\n      this.emit(this.event, this, this.items[value])\r\n    }\r\n  },\r\n\r\n  data: () => ({\r\n    selection: null,\r\n    source: null,\r\n    timer: null,\r\n    event: null,\r\n    title: \"\"\r\n  }),\r\n\r\n\r\n  mounted() {\r\n\r\n    this.on({\r\n      event: \"page-stop\",\r\n      callback: () => {\r\n        this.stop()\r\n        console.log(\"page-stop\")\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"start-timer\",\r\n      callback: (emitter, data) => {\r\n        // console.log(\"start-timer\", data)\r\n        this.start()\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"stop-timer\",\r\n      callback: (emitter, data) => {\r\n        // console.log(\"stop-timer\", data)\r\n        this.stop()\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.$emit(\"init\")\r\n\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./data-legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./data-legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./data-legend.vue?vue&type=template&id=22dbd268&\"\nimport script from \"./data-legend.vue?vue&type=script&lang=js&\"\nexport * from \"./data-legend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VIcon,VRow,VSpacer})\n"],"sourceRoot":""}