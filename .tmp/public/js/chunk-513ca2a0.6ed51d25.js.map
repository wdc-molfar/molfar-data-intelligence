{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/components/VCombobox/VCombobox.js","webpack:///./src/components/widgets/form/parts/access-tab.vue?5105","webpack:///src/components/widgets/form/parts/access-tab.vue","webpack:///./src/components/widgets/form/parts/access-tab.vue?34fe","webpack:///./src/components/widgets/form/parts/access-tab.vue"],"names":["extend","name","props","delimiters","type","Array","default","returnObject","Boolean","data","editingIndex","computed","this","multiple","selectedItems","length","internalSearch","toString","options","hasSlot","call","isFocused","hasDisplayedItems","$slots","hideNoData","methods","val","delimiter","find","d","endsWith","slice","updateTags","updateMenuDimensions","input","genInput","attrs","on","paste","onPaste","item","index","chip","genChipSelection","componentOptions","listeners","dblclick","getText","selectedIndex","onChipInput","e","preventDefault","getMenuIndex","$nextTick","updateSelf","keyCode","ctrlKey","home","end","includes","onKeyDown","left","$refs","selectionStart","enter","onEnterDown","changeSelectedIndex","stopPropagation","onTabDown","updateEditing","selectItem","toLocaleLowerCase","internalValue","value","setValue","undefined","findIndex","Object","assign","splice","push","searchIsDirty","isUsingSlot","$scopedSlots","selection","hasChips","updateCombobox","menuIndex","itemToSelect","event","_a","$emit","pastedItemText","clipboardData","getData","findExistingIndex","clearableCallback","render","_vm","_c","_self","staticClass","accessModes","$event","onUpdateAccess","scopedSlots","_u","key","fn","_v","_s","icon","text","model","callback","$$v","expression","form","config","access","timeAgo","lastNotificatedAt","questions","$set","_e","users","staticRenderFns","mixins","Date","fromNow","m","watch","component","VCard","VCardText","VCombobox","VDivider","VFlex","VIcon","VLayout","VSwitch"],"mappings":"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","file":"js/chunk-513ca2a0.6ed51d25.js","sourcesContent":["// Styles\nimport \"../../../src/components/VAutocomplete/VAutocomplete.sass\"; // Extensions\n\nimport VSelect from '../VSelect/VSelect';\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'; // Utils\n\nimport { keyCodes } from '../../util/helpers';\n/* @vue/component */\n\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => []\n    },\n    returnObject: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: () => ({\n    editingIndex: -1\n  }),\n  computed: {\n    computedCounterValue() {\n      return this.multiple ? this.selectedItems.length : (this.internalSearch || '').toString().length;\n    },\n\n    hasSlot() {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple;\n    },\n\n    isAnyValueAllowed() {\n      return true;\n    },\n\n    menuCanShow() {\n      if (!this.isFocused) return false;\n      return this.hasDisplayedItems || !!this.$slots['no-data'] && !this.hideNoData;\n    },\n\n    searchIsDirty() {\n      return this.internalSearch != null;\n    }\n\n  },\n  methods: {\n    onInternalSearchChanged(val) {\n      if (val && this.multiple && this.delimiters.length) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d));\n\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length);\n          this.updateTags();\n        }\n      }\n\n      this.updateMenuDimensions();\n    },\n\n    genInput() {\n      const input = VAutocomplete.options.methods.genInput.call(this);\n      delete input.data.attrs.name;\n      input.data.on.paste = this.onPaste;\n      return input;\n    },\n\n    genChipSelection(item, index) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index); // Allow user to update an existing value\n\n      if (this.multiple) {\n        chip.componentOptions.listeners = { ...chip.componentOptions.listeners,\n          dblclick: () => {\n            this.editingIndex = index;\n            this.internalSearch = this.getText(item);\n            this.selectedIndex = -1;\n          }\n        };\n      }\n\n      return chip;\n    },\n\n    onChipInput(item) {\n      VSelect.options.methods.onChipInput.call(this, item);\n      this.editingIndex = -1;\n    },\n\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown(e) {\n      e.preventDefault(); // If has menu index, let v-select-list handle\n\n      if (this.getMenuIndex() > -1) return;\n      this.$nextTick(this.updateSelf);\n    },\n\n    onKeyDown(e) {\n      const keyCode = e.keyCode;\n\n      if (e.ctrlKey || ![keyCodes.home, keyCodes.end].includes(keyCode)) {\n        VSelect.options.methods.onKeyDown.call(this, e);\n      } // If user is at selection index of 0\n      // create a new tag\n\n\n      if (this.multiple && keyCode === keyCodes.left && this.$refs.input.selectionStart === 0) {\n        this.updateSelf();\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e);\n      } // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n\n\n      this.changeSelectedIndex(keyCode);\n    },\n\n    onTabDown(e) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple && this.internalSearch && this.getMenuIndex() === -1) {\n        e.preventDefault();\n        e.stopPropagation();\n        return this.updateTags();\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e);\n    },\n\n    selectItem(item) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing();\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item); // if selected item contains search value,\n        // remove the search string\n\n        if (this.internalSearch && this.multiple && this.getText(item).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())) {\n          this.internalSearch = null;\n        }\n      }\n    },\n\n    setSelectedItems() {\n      if (this.internalValue == null || this.internalValue === '') {\n        this.selectedItems = [];\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue];\n      }\n    },\n\n    setValue(value) {\n      VSelect.options.methods.setValue.call(this, value === undefined ? this.internalSearch : value);\n    },\n\n    updateEditing() {\n      const value = this.internalValue.slice();\n      const index = this.selectedItems.findIndex(item => this.getText(item) === this.internalSearch); // If user enters a duplicate text on chip edit,\n      // don't add it, move it to the end of the list\n\n      if (index > -1) {\n        const item = typeof value[index] === 'object' ? Object.assign({}, value[index]) : value[index];\n        value.splice(index, 1);\n        value.push(item);\n      } else {\n        value[this.editingIndex] = this.internalSearch;\n      }\n\n      this.setValue(value);\n      this.editingIndex = -1;\n      this.internalSearch = null;\n    },\n\n    updateCombobox() {\n      // If search is not dirty, do nothing\n      if (!this.searchIsDirty) return; // The internal search is not matching\n      // the internal value, update the input\n\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue(); // Reset search if using slot to avoid a double input\n\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips;\n      if (isUsingSlot) this.internalSearch = null;\n    },\n\n    updateSelf() {\n      this.multiple ? this.updateTags() : this.updateCombobox();\n    },\n\n    updateTags() {\n      const menuIndex = this.getMenuIndex(); // If the user is not searching\n      // and no menu item is selected\n      // or if the search is empty\n      // do nothing\n\n      if (menuIndex < 0 && !this.searchIsDirty || !this.internalSearch) return;\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing();\n      }\n\n      const index = this.selectedItems.findIndex(item => this.internalSearch === this.getText(item)); // If the duplicate item is an object,\n      // copy it, so that it can be added again later\n\n      const itemToSelect = index > -1 && typeof this.selectedItems[index] === 'object' ? Object.assign({}, this.selectedItems[index]) : this.internalSearch; // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n\n      if (index > -1) {\n        const internalValue = this.internalValue.slice();\n        internalValue.splice(index, 1);\n        this.setValue(internalValue);\n      } // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n\n\n      if (menuIndex > -1) return this.internalSearch = null;\n      this.selectItem(itemToSelect);\n      this.internalSearch = null;\n    },\n\n    onPaste(event) {\n      var _a;\n\n      this.$emit('paste', event);\n      if (!this.multiple || this.searchIsDirty) return;\n      const pastedItemText = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData('text/vnd.vuetify.autocomplete.item+plain');\n\n      if (pastedItemText && this.findExistingIndex(pastedItemText) === -1) {\n        event.preventDefault();\n        VSelect.options.methods.selectItem.call(this, pastedItemText);\n      }\n    },\n\n    clearableCallback() {\n      this.editingIndex = -1;\n      VAutocomplete.options.methods.clearableCallback.call(this);\n    }\n\n  }\n});\n//# sourceMappingURL=VCombobox.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-combobox',{staticClass:\"xs4\",attrs:{\"items\":_vm.accessModes,\"label\":\"Access for\"},on:{\"input\":function($event){return _vm.onUpdateAccess()}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-icon',[_vm._v(_vm._s(data.item.icon))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(_vm._s(data.item.text))])]}},{key:\"item\",fn:function(data){return [_c('v-icon',[_vm._v(_vm._s(data.item.icon))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(_vm._s(data.item.text))])]}}]),model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}})],1),_c('v-switch',{attrs:{\"label\":`${(_vm.form.config.access.enabled)?'was opened':'was closed'} ${(_vm.form.config.access.lastNotificatedAt)?_vm.timeAgo(_vm.form.config.access.lastNotificatedAt):''}`,\"disabled\":!_vm.form.config.questions},on:{\"change\":function($event){return _vm.onUpdateAccess()}},model:{value:(_vm.form.config.access.enabled),callback:function ($$v) {_vm.$set(_vm.form.config.access, \"enabled\", $$v)},expression:\"form.config.access.enabled\"}}),(!_vm.form.config.questions)?_c('v-layout',{staticClass:\"warning darken-1\",attrs:{\"column\":\"\",\"wrap\":\"\"}},[_c('v-card-text',{staticClass:\"pa-1 white--text subheading\"},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-alert-outline\")]),_vm._v(\"\\n      No questions detected\\n    \")],1),_c('v-card-text',{staticClass:\"pa-1 pt-0 pb-0 white--text caption\"},[_vm._v(\"No questions detected on this page. Add one or more question widgets.\")])],1):_vm._e(),(_vm.form.config.access.type=='invited' && (!_vm.form.config.access.users || _vm.form.config.access.users.length == 0))?_c('v-layout',{attrs:{\"column\":\"\",\"wrap\":\"\"}},[_c('v-divider'),_c('h3',{staticClass:\"headline info--text font-weight-light pl-3 pt-3\"},[_vm._v(\"Manage your invited respondents on Respondents tab.\")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card flat>\r\n    <v-flex xs4>\r\n      <v-combobox v-model=\"selection\" :items=\"accessModes\" label=\"Access for\" class=\"xs4\" @input=\"onUpdateAccess()\">\r\n        <template v-slot:selection=\"data\">\r\n          <v-icon>{{data.item.icon}}</v-icon>\r\n          <span class=\"pl-1\">{{data.item.text}}</span>\r\n        </template>\r\n        <template v-slot:item=\"data\">\r\n          <v-icon>{{data.item.icon}}</v-icon>\r\n          <span class=\"pl-1\">{{data.item.text}}</span>\r\n        </template>\r\n      </v-combobox>\r\n    </v-flex>\r\n    <v-switch :label=\"`${(form.config.access.enabled)?'was opened':'was closed'} ${(form.config.access.lastNotificatedAt)?timeAgo(form.config.access.lastNotificatedAt):''}`\" v-model=\"form.config.access.enabled\" @change=\"onUpdateAccess()\" :disabled=\"!form.config.questions\"></v-switch>\r\n    <v-layout column wrap class=\"warning darken-1\" v-if=\"!form.config.questions\">\r\n      <v-card-text class=\"pa-1 white--text subheading\">\r\n        <v-icon color=\"white\">mdi-alert-outline</v-icon>\r\n        No questions detected\r\n      </v-card-text>\r\n      <v-card-text class=\"pa-1 pt-0 pb-0 white--text caption\">No questions detected on this page. Add one or more question widgets.</v-card-text>\r\n    </v-layout>\r\n    <v-layout column wrap v-if=\"form.config.access.type=='invited' && (!form.config.access.users || form.config.access.users.length == 0)\">\r\n      <v-divider></v-divider>\r\n      <h3 class=\"headline info--text font-weight-light pl-3 pt-3\">Manage your invited respondents on Respondents tab.</h3>\r\n    </v-layout>\r\n    <!-- <v-layout column wrap class=\"info\" v-if=\"form.config.access.type=='invited'\">\r\n      <v-card-text class=\"pa-1 white--text subheading\">\r\n        <v-icon color=\"white\">mdi-information-outline</v-icon>\r\n        Invited Respondents\r\n      </v-card-text>\r\n      <v-card-text class=\"pa-1 pt-0 pb-0 white--text caption\">Manage your invited respondents on Respondents tab.</v-card-text>\r\n    </v-layout> -->\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport moment from \"moment\"\r\nimport { find } from \"lodash\"\r\n\r\nexport default {\r\n\r\n  mixins: [djvueMixin, listenerMixin],\r\n  props: [\"form\"],\r\n\r\n  methods: {\r\n\r\n    timeAgo(d) {\r\n      return moment(new Date(d)).fromNow();\r\n    },\r\n\r\n    onUpdateAccess() {\r\n      this.form.config.access.type = this.selection.key;\r\n      this.$emit(\"update\", this.form.config.access)\r\n    }\r\n\r\n  },\r\n\r\n  created() {\r\n    this.selection = find(this.accessModes, m => m.key == this.form.config.access.type)\r\n  },\r\n\r\n  watch: {\r\n    form(value) {\r\n      this.selection = find(this.accessModes, m => m.key == value.config.access.type)\r\n    }\r\n  },\r\n\r\n  data: () => ({\r\n\r\n    accessModes: [\r\n      { key: \"any\", icon: \"mdi-account\", text: \"Any respondents\" },\r\n      { key: \"users\", icon: \"mdi-account-key\", text: \"Logged user\" },\r\n      { key: \"invited\", icon: \"mdi-account-star\", text: \"Invited respondents\" },\r\n    ],\r\n\r\n    selection: null\r\n\r\n    // newMetadataKey: null,\r\n    // newMetadataValue: null,\r\n    // showNewMetadataDialog: false,\r\n    // items:[],\r\n    // selection:[]\r\n  })\r\n\r\n\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../../build/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../build/jace-loader/src/parser.js??ref--33-1!./access-tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../build/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../build/jace-loader/src/parser.js??ref--33-1!./access-tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./access-tab.vue?vue&type=template&id=ba8e26b6&\"\nimport script from \"./access-tab.vue?vue&type=script&lang=js&\"\nexport * from \"./access-tab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VCard,VCardText,VCombobox,VDivider,VFlex,VIcon,VLayout,VSwitch})\n"],"sourceRoot":""}