(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1aa5c19e","chunk-c2702fe6"],{"0e3b":function(t,i,e){},"36ae":function(t,i,e){"use strict";e("7d82")},"3c5a":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"echart",style:t.style})},s=[],n=e("313e"),r=e("4e14"),o={name:"echart",mixins:[r["a"]],computed:{style(){return{height:(this.height||250)+"px"}}},methods:{initChart(t){this.chart=n["init"](this.$el,null,{height:this.height,width:"auto"}),this.resizeHandler=()=>{this.width=this.$el.clientWidth,this.chart.resize()},window.attachEvent?window.attachEvent("onresize",this.resizeHandler):window.addEventListener("resize",this.resizeHandler),t&&setTimeout(()=>{this.chart.setOption(t),this.chart.on("click",t=>{this.$emit("chart-event",t)})},10),this.on({event:"slide-start",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0}),this.on({event:"update-dialog-view",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0})}},props:["options","height"],watch:{options:{handler:function(t){t&&this.chart&&setTimeout(()=>{this.chart.setOption(t,!0),this.chart.resize()},10)},deep:!0},height(t){setTimeout(()=>{this.chart.resize({height:t},10)})}},mounted(){this.initChart(this.options)},beforeDestroy(){window.attachEvent?window.detachEvent("onresize",this.resizeHandler):window.removeEventListener("resize",this.resizeHandler,!1),this.off()},data:()=>({chart:null,resizeHandler:null})},l=o,h=(e("36ae"),e("2877")),d=Object(h["a"])(l,a,s,!1,null,"7d96c1a5",null);i["default"]=d.exports},5927:function(t,i,e){"use strict";var a=function(){var t=this,i=t._self._c;return i("div",[i("v-row",{staticClass:"mx-0 pa-5"},[i("v-col",[i("div",{class:"title font-weight-light "+(1!=t.validation?"warning--text":"primary--text"),staticStyle:{"line-height":"1.2em"}},[t._v(t._s(t.title)+"\n      ")]),i("p",{staticClass:"body-2 py-1 pl-5 pr-2 my-0 font-weight-light",staticStyle:{"line-height":"1.2em"}},[t._v(t._s(t.note))])])],1),i("v-divider"),1!=t.validation?i("v-row",{staticClass:"caption",attrs:{color:"warning"}},[i("v-spacer"),i("div",[i("span",{staticClass:"warning--text caption pa-2 font-weight-light font-italic"},[t._v(t._s(t.validation))])])],1):t._e()],1)},s=[],n=e("4e14"),r={props:["id","title","note","validation"],mixins:[n["a"]],watch:{validation(t){this.emit("layout-change-state",this.id,t)}},created(){this.emit("layout-change-state",this.id,this.validation)}},o=r,l=e("2877"),h=e("fef8"),d=e.n(h),c=e("62ad"),p=e("ce7e"),u=e("0fd9"),m=e("2fa4"),g=Object(l["a"])(o,a,s,!1,null,null,null);i["a"]=g.exports;d()(g,{VCol:c["a"],VDivider:p["a"],VRow:u["a"],VSpacer:m["a"]})},6633:function(t,i,e){"use strict";var a=e("3c5a");i["a"]={components:{echart:a["default"]},methods:{truncate(t,i){return i=i||50,t.toString().length<=i?t.toString():t.toString().length-i>10?t.toString().substring(0,i)+"...":t.toString()},redrawStat(){if(this.statOptions){let t=JSON.parse(JSON.stringify(this.statOptions));this.statOptions=null,setTimeout(()=>{this.statOptions=t},1e3)}}},watch:{active(t){t>0&&(this.emit("form-get-stat"),setTimeout(()=>{this.redrawStat()},10))},stat(){this.statOptions=this.calculateStat(),this.statOptions.redraw=!1}},data:()=>({statOptions:null})}},"6aed":function(t,i,e){"use strict";e("0e3b")},"769a":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t._self._c;return i("div",[t.options&&t.answer?i("v-card",{attrs:{flat:"",color:"transparent"}},[i("v-container",{attrs:{"pa-2":""}},[t.isValid?i("q-view",{attrs:{id:t.config.id,title:t.options.title,note:t.options.note,validation:t.isValid}}):t._e(),i("v-tabs",{model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},[i("v-tab",{key:"response",attrs:{ripple:""}},[t._v(t._s(t.translate("Your_Response")))]),t.options.showResponsesStat?i("v-tab",{key:"statistic",attrs:{ripple:""}},[t._v(t._s(t.translate("Report")))]):t._e(),i("v-tab-item",{key:"response",attrs:{ripple:""}},[t.options.nominals&&0!=t.options.nominals.length?t._e():i("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[i("h3",{staticClass:"headline warning--text font-weight-light"},[t._v(t._s(t.translate("Answer_not_configured")))])]),t.answer?i("dj-priority",{staticClass:"mx-5",attrs:{list:t.answer.data},on:{update:t.onUpdateAnswer}}):t._e()],1),t.options.showResponsesStat?i("v-tab-item",{key:"statistic",attrs:{ripple:""}},[t.options.nominals&&0!=t.options.nominals.length||t.options.addEnabled?i("echart",{attrs:{options:t.statOptions,height:t.height}}):i("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[i("h3",{staticClass:"headline warning--text font-weight-light"},[t._v(t._s(t.translate("No_data_available")))])])],1):t._e()],1)],1)],1):i("div",{staticClass:"text-xs-center"})],1)},s=[],n=e("2ef0"),r=e("c555"),o=e("4e14"),l=e("6633"),h=e("852a"),d=e("5927"),c=function(){var t=this,i=t._self._c;return i("div",[t.items?i("v-container",{attrs:{"mt-2":"","mx-5":""}},[i("draggable",{staticClass:"list-group",attrs:{element:"div",options:t.dragOptions,move:t.onMove},on:{start:t.onStartDrag,end:t.onEndDrag},model:{value:t.items,callback:function(i){t.items=i},expression:"items"}},[i("transition-group",{attrs:{type:"transition",name:t.title,tag:"div"}},t._l(t.items,(function(e,a){return i("v-layout",{key:a,staticClass:"mx-0 list-group-item",staticStyle:{"padding-bottom":"0.5em"},attrs:{row:""}},[i("v-flex",{staticClass:"handle subheading py-2",staticStyle:{margin:"auto","line-height":"1.2em"},attrs:{xs12:""}},[e.priority?i("span",{staticClass:"accent white--text font-weight-black pl-1 pr-1"},[t._v(t._s(e.priority))]):i("span",[i("v-icon",{staticClass:"warning--text"},[t._v("mdi-help-circle-outline")])],1),t._v("\n            "+t._s(e.title)+"\n          ")])],1)})),1)],1)],1):t._e()],1)},p=[],u=e("b76a"),m=e.n(u),g={mixins:[r["a"]],props:["list"],components:{draggable:m.a},computed:{dragOptions(){return{animation:150,group:{name:this.title},ghostClass:"ghost",dragClass:"drag",handle:".handle"}}},methods:{onStartDrag(){this.isDragging=!0},onEndDrag(){this.isDragging=!1,this.items=this.items.map((t,i)=>(t.priority=i+1,t)),this.$emit("update",this.items)},onMove(){return!0}},data:()=>({items:null,title:null}),watch:{list(t){t&&(this.items=Object(n["orderBy"])(JSON.parse(JSON.stringify(t)),"priority"))}},created(){this.list&&(this.items=Object(n["orderBy"])(JSON.parse(JSON.stringify(this.list)),"priority")),this.title=this.$djvue.randomName()}},v=g,f=(e("f92e"),e("2877")),y=e("fef8"),w=e.n(y),_=e("a523"),b=e("0e8f"),O=e("132d"),x=e("a722"),S=Object(f["a"])(v,c,p,!1,null,"4bfc3059",null),C=S.exports;w()(S,{VContainer:_["a"],VFlex:b["a"],VIcon:O["a"],VLayout:x["a"]});var k={mixins:[r["a"],o["a"],l["a"],h["a"]],components:{"q-view":d["a"],"dj-priority":C},props:["config","options","answer","stat"],computed:{isValid(){return this.options?this.answer?!(this.options.required&&this.answer.data.filter(t=>null==t.priority).length>0)||this.translate("Validation_Error"):"No response data":"Not configured"}},methods:{onUpdateAnswer(t){this.answer.data=JSON.parse(JSON.stringify(t)),this.$emit("update:answer")},calculateStat(){if(!this.options)return{};if(!this.options.nominals)return{};let t=this.stat.responses.filter(t=>t),i=[];t.forEach(t=>{i=i.concat(t)});let e=this.options.nominals.map(t=>{let e=i.filter(i=>i.id==t.id);return t.data=this.options.nominals.map((t,i)=>({priority:i+1,value:e.filter(t=>t.priority==i+1).length/e.length})),t.priority=Object(n["sumBy"])(t.data,t=>t.priority*t.value),t});e=e.map(t=>(t.data=t.data.map(i=>(i.value=i.value*t.priority,i)),t)),e=Object(n["orderBy"])(e,"priority"),e.reverse();let a={legend:{data:this.options.nominals.map((t,i)=>(i+1).toFixed(0))},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:e.map(t=>this.truncate(t.title))},series:e.map((t,i)=>({name:(i+1).toFixed(0),type:"bar",stack:"1",itemStyle:{opacity:.75},data:e.map(t=>t.data[i].value)}))};return this.height=this.options.nominals?36*this.options.nominals.length+70:70,a}},watch:{answer(t){if(t){let i=this.options.nominals.map(i=>{let e=Object(n["find"])(t.data,t=>t.id==i.id);return i.priority=e?e.priority:null,i}),e=!1;i=Object(n["orderBy"])(i,"priority").map((t,i)=>{let a=t.priority;return t.priority=t.priority?i+1:null,e|=t.priority!=a,t}),this.answer.data=i,e&&this.$emit("update:answer",this.answer)}}},data:()=>({active:null,height:null,ss:null,i18n:{en:{Your_Response:"Your Response",Report:"Report",Validation_Error:"Undefined priorities detected",Answer_not_configured:"Structure of answer not configured",No_data_available:"No data available",Alt_label:'Type your response and press "Enter"'},uk:{Your_Response:"Ваша відповідь",Report:"Звіт",Validation_Error:"Є невизначені пріорітети.",Answer_not_configured:"Структура відповіді не визначена",No_data_available:"Дані відсутні",Alt_label:'Надрукуйте Вашу відповідь та натисніть "Enter"'}}}),mounted(){this.$emit("init")}},j=k,V=(e("6aed"),e("b0af")),$=e("71a3"),N=e("c671"),z=e("fe57"),E=Object(f["a"])(j,a,s,!1,null,null,null);i["default"]=E.exports;w()(E,{VCard:V["a"],VContainer:_["a"],VTab:$["a"],VTabItem:N["a"],VTabs:z["a"]})},"7d82":function(t,i,e){},"852a":function(t,i,e){"use strict";var a=e("2ef0");i["a"]={methods:{translate(t){return this.$t(`${this.id}_${t}`)},_initI18n(){if(!this.i18n)return;this.$i18n_id=this.$djvue.randomName();let t={en:Object(a["mapKeys"])(this.i18n.en,(t,i)=>`${this.id}_${i}`),uk:Object(a["mapKeys"])(this.i18n.uk,(t,i)=>`${this.id}_${i}`)};this.$i18n.mergeLocaleMessage("en",t.en),this.$i18n.mergeLocaleMessage("uk",t.uk)},_destroyI18n(){}},created(){this._initI18n()},beforeDestroy(){this._destroyI18n()}}},a523:function(t,i,e){"use strict";e("20f6"),e("4b85");var a=e("e8f2"),s=e("d9f7");i["a"]=Object(a["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:i,data:e,children:a}){let n;const{attrs:r}=e;return r&&(e.attrs={},n=Object.keys(r).filter(t=>{if("slot"===t)return!1;const i=r[t];return t.startsWith("data-")?(e.attrs[t]=i,!1):i||"string"===typeof i})),i.id&&(e.domProps=e.domProps||{},e.domProps.id=i.id),t(i.tag,Object(s["a"])(e,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(n||[])}),a)}})},c671:function(t,i,e){"use strict";var a=e("1e6c");i["a"]=a["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=a["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},d40c:function(t,i,e){},f92e:function(t,i,e){"use strict";e("d40c")}}]);
//# sourceMappingURL=chunk-1aa5c19e.11be47a7.js.map