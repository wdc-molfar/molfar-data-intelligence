(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c6f16d2","chunk-c2702fe6"],{1261:function(t,e,i){"use strict";i("e85f")},"2c64":function(t,e,i){},"36ae":function(t,e,i){"use strict";i("7d82")},"3c5a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"echart",style:t.style})},a=[],n=i("313e"),o=i("4e14"),r={name:"echart",mixins:[o["a"]],computed:{style(){return{height:(this.height||250)+"px"}}},methods:{initChart(t){this.chart=n["init"](this.$el,null,{height:this.height,width:"auto"}),this.resizeHandler=()=>{this.width=this.$el.clientWidth,this.chart.resize()},window.attachEvent?window.attachEvent("onresize",this.resizeHandler):window.addEventListener("resize",this.resizeHandler),t&&setTimeout(()=>{this.chart.setOption(t),this.chart.on("click",t=>{this.$emit("chart-event",t)})},10),this.on({event:"slide-start",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0}),this.on({event:"update-dialog-view",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0})}},props:["options","height"],watch:{options:{handler:function(t){t&&this.chart&&setTimeout(()=>{this.chart.setOption(t,!0),this.chart.resize()},10)},deep:!0},height(t){setTimeout(()=>{this.chart.resize({height:t},10)})}},mounted(){this.initChart(this.options)},beforeDestroy(){window.attachEvent?window.detachEvent("onresize",this.resizeHandler):window.removeEventListener("resize",this.resizeHandler,!1),this.off()},data:()=>({chart:null,resizeHandler:null})},l=r,d=(i("36ae"),i("2877")),h=Object(d["a"])(l,s,a,!1,null,"7d96c1a5",null);e["default"]=h.exports},"3d86":function(t,e,i){},"43a6":function(t,e,i){"use strict";i("ec29"),i("3d86");var s=i("c37a"),a=i("604c"),n=i("58df");const o=Object(n["a"])(a["a"],s["a"]);e["a"]=o.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},s["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=s["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=s["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:a["a"].options.methods.onClick},render(t){const e=s["a"].options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}})},5927:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("v-row",{staticClass:"mx-0 pa-5"},[e("v-col",[e("div",{class:"title font-weight-light "+(1!=t.validation?"warning--text":"primary--text"),staticStyle:{"line-height":"1.2em"}},[t._v(t._s(t.title)+"\n      ")]),e("p",{staticClass:"body-2 py-1 pl-5 pr-2 my-0 font-weight-light",staticStyle:{"line-height":"1.2em"}},[t._v(t._s(t.note))])])],1),e("v-divider"),1!=t.validation?e("v-row",{staticClass:"caption",attrs:{color:"warning"}},[e("v-spacer"),e("div",[e("span",{staticClass:"warning--text caption pa-2 font-weight-light font-italic"},[t._v(t._s(t.validation))])])],1):t._e()],1)},a=[],n=i("4e14"),o={props:["id","title","note","validation"],mixins:[n["a"]],watch:{validation(t){this.emit("layout-change-state",this.id,t)}},created(){this.emit("layout-change-state",this.id,this.validation)}},r=o,l=i("2877"),d=i("fef8"),h=i.n(d),c=i("62ad"),u=i("ce7e"),p=i("0fd9"),m=i("2fa4"),v=Object(l["a"])(r,s,a,!1,null,null,null);e["a"]=v.exports;h()(v,{VCol:c["a"],VDivider:u["a"],VRow:p["a"],VSpacer:m["a"]})},6633:function(t,e,i){"use strict";var s=i("3c5a");e["a"]={components:{echart:s["default"]},methods:{truncate(t,e){return e=e||50,t.toString().length<=e?t.toString():t.toString().length-e>10?t.toString().substring(0,e)+"...":t.toString()},redrawStat(){if(this.statOptions){let t=JSON.parse(JSON.stringify(this.statOptions));this.statOptions=null,setTimeout(()=>{this.statOptions=t},1e3)}}},watch:{active(t){t>0&&(this.emit("form-get-stat"),setTimeout(()=>{this.redrawStat()},10))},stat(){this.statOptions=this.calculateStat(),this.statOptions.redraw=!1}},data:()=>({statOptions:null})}},"67b6":function(t,e,i){"use strict";i("2c64");var s=i("ba87"),a=i("9d26"),n=i("c37a"),o=i("7e2b"),r=i("a9ad"),l=i("4e82"),d=i("5311"),h=i("7560"),c=i("fe09"),u=i("80d2"),p=i("58df"),m=i("d9f7");const v=Object(p["a"])(o["a"],r["a"],d["a"],Object(l["a"])("radioGroup"),h["a"]);e["a"]=v.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return c["a"].options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return n["a"].options.computed.computedId.call(this)},hasLabel:n["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return c["a"].options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return c["a"].options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(s["a"],{on:{click:c["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(u["t"])(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:Object(m["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}})},"7d82":function(t,e,i){},"852a":function(t,e,i){"use strict";var s=i("2ef0");e["a"]={methods:{translate(t){return this.$t(`${this.id}_${t}`)},_initI18n(){if(!this.i18n)return;this.$i18n_id=this.$djvue.randomName();let t={en:Object(s["mapKeys"])(this.i18n.en,(t,e)=>`${this.id}_${e}`),uk:Object(s["mapKeys"])(this.i18n.uk,(t,e)=>`${this.id}_${e}`)};this.$i18n.mergeLocaleMessage("en",t.en),this.$i18n.mergeLocaleMessage("uk",t.uk)},_destroyI18n(){}},created(){this._initI18n()},beforeDestroy(){this._destroyI18n()}}},a523:function(t,e,i){"use strict";i("20f6"),i("4b85");var s=i("e8f2"),a=i("d9f7");e["a"]=Object(s["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:s}){let n;const{attrs:o}=i;return o&&(i.attrs={},n=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,Object(a["a"])(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(n||[])}),s)}})},c671:function(t,e,i){"use strict";var s=i("1e6c");e["a"]=s["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=s["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},ddd5:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t.options&&t.answer?e("v-card",{attrs:{flat:"",color:"transparent"}},[e("v-container",{attrs:{"pa-2":""}},[t.isValid?e("q-view",{attrs:{id:t.config.id,title:t.options.title,note:t.options.note,validation:t.isValid}}):t._e(),e("v-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("v-tab",{key:"response",attrs:{ripple:""}},[t._v(t._s(t.translate("Your_Response")))]),t.options.showResponsesStat?e("v-tab",{key:"statistic",attrs:{ripple:""}},[t._v(t._s(t.translate("Report")))]):t._e(),e("v-tab-item",{key:"response",attrs:{ripple:""}},[t.options.nominals&&0!=t.options.nominals.length||t.options.addEnabled?e("v-radio-group",{staticStyle:{width:"100%"},model:{value:t.answer.data[0],callback:function(e){t.$set(t.answer.data,0,e)},expression:"answer.data[0]"}},t._l(t.nominals,(function(i,s){return e("v-layout",{key:s,staticStyle:{"padding-bottom":"0.5em",cursor:"pointer"},attrs:{"align-center":"","justify-end":"",row:"","fill-height":""},on:{click:function(e){return t.select(i.id)}}},[e("div",{staticStyle:{width:"2em"}},[e("v-radio",{key:i.id,attrs:{value:i.id}})],1),e("div",{staticClass:"col-10 pa-0",staticStyle:{"line-height":"1.2em"}},[e("div",{staticClass:"body-1 pl-3"},[t._v(t._s(i.title))])]),t.options.showUserInfo?e("v-flex",{attrs:{xs1:""}},[i.user?e("v-layout",{attrs:{column:""}},[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-avatar",t._g({},s),[e("dj-img",{staticStyle:{margin:"auto"},attrs:{src:i.user.photo,icon:i.user.icon?i.user.icon:"mdi-account"}})],1)]}}],null,!0)},[e("span",[t._v(t._s(i.user.name))])])],1):t._e()],1):t._e()],1)})),1):e("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[e("h3",{staticClass:"headline warning--text font-weight-light"},[t._v(t._s(t.translate("Answer_not_configured")))])]),e("v-divider"),t.options.addEnabled?e("v-text-field",{staticClass:"px-2",attrs:{label:t.translate("Alt_label"),disabled:t.customAltCount>=t.options.maxCustomResponses},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addAlternative.apply(null,arguments)}},model:{value:t.newAltTitle,callback:function(e){t.newAltTitle=e},expression:"newAltTitle"}}):t._e()],1),t.options.showResponsesStat?e("v-tab-item",{key:"statistic",attrs:{ripple:""}},[t.options.nominals&&0!=t.options.nominals.length||t.options.addEnabled?e("echart",{attrs:{options:t.statOptions,height:t.height}}):e("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[e("h3",{staticClass:"headline warning--text font-weight-light"},[t._v(t._s(t.translate("No_data_available")))])])],1):t._e()],1)],1)],1):e("div",{staticClass:"text-xs-center"})],1)},a=[],n=i("2ef0"),o=i("c555"),r=i("4e14"),l=i("6633"),d=i("852a"),h=i("5927"),c={mixins:[o["a"],r["a"],l["a"],d["a"]],components:{"q-view":h["a"]},props:["config","options","answer","stat"],computed:{isValid(){return this.options?this.answer?!this.options.required||0!=this.answer.data.length||this.translate("Validation_Error"):"No response data":"Not configured"},nominals(){return this.options.userCollaboration?this.options.nominals:this.options.nominals.filter(t=>!t.user||(t.user.id?t.user.id==this.app.user.id:t.user.apikey?t.user.apikey==this.app.user.apikey:void 0))}},methods:{addAlternative(){let t={id:this.$djvue.randomName(),title:this.newAltTitle,user:this.app.user};this.options.nominals=this.options.nominals||[],this.options.nominals.push(t),this.newAltTitle=null,this.$emit("extend:options",this.options),this.select(t.id),this.$nextTick(()=>{this.customAltCount++})},select(t){this.answer.data=[],this.answer.data.push(t),this.answer.valid=this.isValid,this.$emit("update:answer")},calculateStat(){if(!this.options)return{};if(!this.options.nominals)return{};let t=this.stat.responses.filter(t=>t&&Object(n["find"])(this.options.nominals,e=>e.id==t[0])),e=this.options.nominals.map(e=>{let i=Object(n["countBy"])(t,t=>t[0])[e.id];return{id:e.id,title:e.title,value:(i||0)/(0==t.length?1:t.length)}}),i={color:[this.$vuetify.theme.themes.light.primary],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",min:0,max:1},yAxis:{type:"category",data:[]},series:[{name:"",type:"bar",data:[],itemStyle:{opacity:.5}}]};return i.yAxis.data=e.map(t=>this.truncate(t.title)).reverse(),i.series[0].data=e.map(t=>t.value).reverse(),this.height=this.options.nominals?36*this.options.nominals.length+70:70,i}},watch:{answer(){this.answer.data=this.answer.data?this.answer.data.filter(t=>Object(n["find"])(this.options.nominals,e=>e.id==t)):[]}},data:()=>({active:null,newAltTitle:null,selection:[],height:null,customAltCount:0,i18n:{en:{Your_Response:"Your Response",Report:"Report",Validation_Error:"No response for this question but it is required.",Answer_not_configured:"Structure of answer not configured",No_data_available:"No data available",Alt_label:'Type your response and press "Enter"'},uk:{Your_Response:"Ваша відповідь",Report:"Звіт",Validation_Error:"Відсутня відповідь на обов'язкове запитання.",Answer_not_configured:"Структура відповіді не визначена",No_data_available:"Дані відсутні",Alt_label:'Надрукуйте Вашу відповідь та натисніть "Enter"'}}}),mounted(){this.$emit("init")}},u=c,p=(i("1261"),i("2877")),m=i("fef8"),v=i.n(m),f=i("8212"),g=i("b0af"),b=i("a523"),w=i("ce7e"),y=i("0e8f"),_=i("a722"),S=i("67b6"),x=i("43a6"),C=i("71a3"),k=i("c671"),O=i("fe57"),$=i("8654"),A=i("3a2f"),I=Object(p["a"])(u,s,a,!1,null,null,null);e["default"]=I.exports;v()(I,{VAvatar:f["a"],VCard:g["a"],VContainer:b["a"],VDivider:w["a"],VFlex:y["a"],VLayout:_["a"],VRadio:S["a"],VRadioGroup:x["a"],VTab:C["a"],VTabItem:k["a"],VTabs:O["a"],VTextField:$["a"],VTooltip:A["a"]})},e85f:function(t,e,i){}}]);
//# sourceMappingURL=chunk-0c6f16d2.6eb0e536.js.map