(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-343796d2","chunk-c2702fe6"],{"36ae":function(t,e,i){"use strict";i("7d82")},"3c5a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"echart",style:t.style})},s=[],n=i("313e"),o=i("4e14"),r={name:"echart",mixins:[o["a"]],computed:{style(){return{height:(this.height||250)+"px"}}},methods:{initChart(t){this.chart=n["init"](this.$el,null,{height:this.height,width:"auto"}),this.resizeHandler=()=>{this.width=this.$el.clientWidth,this.chart.resize()},window.attachEvent?window.attachEvent("onresize",this.resizeHandler):window.addEventListener("resize",this.resizeHandler),t&&setTimeout(()=>{this.chart.setOption(t),this.chart.on("click",t=>{this.$emit("chart-event",t)})},10),this.on({event:"slide-start",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0}),this.on({event:"update-dialog-view",callback:()=>{setTimeout(()=>{this.chart&&this.options&&this.chart.setOption(this.options,!0),this.chart.resize()},10)},rule:()=>!0})}},props:["options","height"],watch:{options:{handler:function(t){t&&this.chart&&setTimeout(()=>{this.chart.setOption(t,!0),this.chart.resize()},10)},deep:!0},height(t){setTimeout(()=>{this.chart.resize({height:t},10)})}},mounted(){this.initChart(this.options)},beforeDestroy(){window.attachEvent?window.detachEvent("onresize",this.resizeHandler):window.removeEventListener("resize",this.resizeHandler,!1),this.off()},data:()=>({chart:null,resizeHandler:null})},l=r,p=(i("36ae"),i("2877")),c=Object(p["a"])(l,a,s,!1,null,"7d96c1a5",null);e["default"]=c.exports},6633:function(t,e,i){"use strict";var a=i("3c5a");e["a"]={components:{echart:a["default"]},methods:{truncate(t,e){return e=e||50,t.toString().length<=e?t.toString():t.toString().length-e>10?t.toString().substring(0,e)+"...":t.toString()},redrawStat(){if(this.statOptions){let t=JSON.parse(JSON.stringify(this.statOptions));this.statOptions=null,setTimeout(()=>{this.statOptions=t},1e3)}}},watch:{active(t){t>0&&(this.emit("form-get-stat"),setTimeout(()=>{this.redrawStat()},10))},stat(){this.statOptions=this.calculateStat(),this.statOptions.redraw=!1}},data:()=>({statOptions:null})}},"7d82":function(t,e,i){},a523:function(t,e,i){"use strict";i("20f6"),i("4b85");var a=i("e8f2"),s=i("d9f7");e["a"]=Object(a["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:a}){let n;const{attrs:o}=i;return o&&(i.attrs={},n=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,Object(s["a"])(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(n||[])}),a)}})},c24b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[t.options?e("v-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("v-tab",{key:"general",attrs:{ripple:""}},[t._v("General")]),e("v-tab",{key:"rate",attrs:{ripple:""}},[t._v("Range")]),e("v-tab",{key:"statistic",attrs:{ripple:""}},[t._v("Statistic")]),e("v-tab-item",{key:"general",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("h3",{staticClass:"headline"},[t._v("Range")]),e("v-switch",{attrs:{hint:t.options.required?"All constraints will be checked":"Response validation will be disabled","persistent-hint":"",label:"Required"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.required,callback:function(e){t.$set(t.options,"required",e)},expression:"options.required"}}),e("v-divider"),e("v-textarea",{attrs:{label:"Question"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}}),e("v-textarea",{attrs:{label:"Note"},model:{value:t.options.note,callback:function(e){t.$set(t.options,"note",e)},expression:"options.note"}})],1)],1)],1),e("v-tab-item",{key:"rate",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("v-row",{staticClass:"mx-0 px-3"},[e("v-col",{staticClass:"mx-0 px-3",attrs:{cols:"6"}},[t._v("\n              Options\n              "),e("v-container",[e("v-input",{attrs:{label:"Min","persistent-hint":"",hint:"Min value"}},[e("div",{staticStyle:{padding:"0 0 0 1em"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.range[0],expression:"options.range[0]"}],staticStyle:{border:"1px solid #e0e0e0"},attrs:{type:"number",max:t.options.range[1]},domProps:{value:t.options.range[0]},on:{input:[function(e){e.target.composing||t.$set(t.options.range,0,e.target.value)},function(e){return t.$emit("update:options",t.options)}]}})])]),e("v-divider"),e("v-input",{staticClass:"mt-2",attrs:{label:"Max","persistent-hint":"",hint:"Max value"}},[e("div",{staticStyle:{padding:"0 0 0 1em"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.range[1],expression:"options.range[1]"}],staticStyle:{border:"1px solid #e0e0e0"},attrs:{type:"number",min:t.options.range[0]},domProps:{value:t.options.range[1]},on:{input:[function(e){e.target.composing||t.$set(t.options.range,1,e.target.value)},function(e){return t.$emit("update:options",t.options)}]}})])]),e("v-divider"),e("v-input",{staticClass:"mt-2",attrs:{label:"Step","persistent-hint":"",hint:"step value"}},[e("div",{staticStyle:{padding:"0 0 0 1em"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.step,expression:"options.step"}],staticStyle:{border:"1px solid #e0e0e0"},attrs:{type:"number",min:0,max:t.options.range[1]-t.options.range[0]},domProps:{value:t.options.step},on:{input:[function(e){e.target.composing||t.$set(t.options,"step",e.target.value)},function(e){return t.$emit("update:options",t.options)}]}})])]),e("v-divider")],1)],1),e("v-col",{staticClass:"mx-0 px-3",attrs:{cols:"6"}},[e("v-container",[t._v("\n                Preview\n                "),t.options?e("v-layout",{staticClass:"mt-4",attrs:{column:""}},[e("v-range-slider",{attrs:{max:t.options.range[1],min:t.options.range[0],step:t.options.step,"thumb-size":"24","thumb-label":"always","thumb-color":"accent",ticks:"always","tick-size":"2"},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1):t._e()],1)],1)],1)],1)],1)],1),e("v-tab-item",{key:"statistic",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("v-switch",{attrs:{hint:t.options.showResponsesStat?"Show statistical distribution in production mode":"","persistent-hint":"",label:"Statistical hints"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showResponsesStat,callback:function(e){t.$set(t.options,"showResponsesStat",e)},expression:"options.showResponsesStat"}}),e("v-divider"),e("echart",{attrs:{options:t.statOptions,height:t.height}})],1)],1)],1)],1):e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"secondary ligten-2"}})],1)],1)},s=[],n=i("2ef0"),o=i("c555"),r=i("4e14"),l=i("6633"),p={mixins:[o["a"],r["a"],l["a"]],props:["config","options","stat"],methods:{calculateStat(){let t=this.stat.responses.filter(t=>t),e=[];t.forEach(t=>{e=e.concat(t)});let i=e.map(t=>t[0]),a=e.map(t=>t[1]),s=Object(n["union"])(Object(n["uniq"])(i),Object(n["uniq"])(a)).sort((t,e)=>t-e).map(t=>({title:t})),o=s.map(t=>{let e=Object(n["countBy"])(i)[t.title],s=Object(n["countBy"])(a)[t.title];return{title:t.title,left:e||0,right:s||0}});if(0==o.length)return{};let r={legend:{data:["Left boundary","Right boundary"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"value"},series:[]};return r.series.push({name:"Left boundary",type:"line",step:"middle",areaStyle:{opacity:.25},data:o.map(t=>[t.title,t.left]),markLine:{data:[{xAxis:Object(n["sum"])(i)/i.length}]}}),r.series.push({name:"Right boundary",type:"line",step:"middle",areaStyle:{opacity:.25},data:o.map(t=>[t.title,t.right]),markLine:{data:[{xAxis:Object(n["sum"])(a)/a.length}]}}),this.height=250,r},onChange(){this.$emit("update:options",this.options)}},data:()=>({active:null,height:null,range:[0,1]}),watch:{options:{handler(t){t&&t.range&&(this.range=[t.range[0],t.range[0]])},deep:!0}},mounted(){this.options&&this.options.range&&(this.range=[this.options.range[0],this.options.range[0]]),this.$emit("init")}},c=p,d=i("2877"),h=i("fef8"),u=i.n(h),m=i("b0af"),v=i("62ad"),g=i("a523"),b=i("ce7e"),f=i("b675"),w=i("a722"),y=i("490a"),x=i("5963"),S=i("0fd9"),O=i("b73d"),k=i("71a3"),z=i("c671"),C=i("fe57"),$=i("a844"),V=Object(d["a"])(c,a,s,!1,null,null,null);e["default"]=V.exports;u()(V,{VCard:m["a"],VCol:v["a"],VContainer:g["a"],VDivider:b["a"],VInput:f["a"],VLayout:w["a"],VProgressCircular:y["a"],VRangeSlider:x["a"],VRow:S["a"],VSwitch:O["a"],VTab:k["a"],VTabItem:z["a"],VTabs:C["a"],VTextarea:$["a"]})},c671:function(t,e,i){"use strict";var a=i("1e6c");e["a"]=a["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=a["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})}}]);
//# sourceMappingURL=chunk-343796d2.a5122e5e.js.map