{"version":3,"sources":["webpack:///./src/components/widgets/nlp-highlight/nlp-highlight.vue?8d5f","webpack:///./src/components/widgets/nlp-highlight/nlp-highlight-config.vue?c934","webpack:///src/components/widgets/nlp-highlight/nlp-highlight-config.vue","webpack:///./src/components/widgets/nlp-highlight/nlp-highlight-config.vue?859b","webpack:///./src/components/widgets/nlp-highlight/nlp-highlight-config.vue","webpack:///src/components/widgets/nlp-highlight/nlp-highlight.vue","webpack:///./src/components/widgets/nlp-highlight/nlp-highlight.vue?67a7","webpack:///./src/components/widgets/nlp-highlight/nlp-highlight.vue"],"names":["render","_vm","this","_c","_self","ref","attrs","config","id","options","document","getOptions","_e","staticRenderFns","props","submit","name","components","computed","icon","title","editorTree","children","editor","component","compile","_template","context","interpolate","result","annotator","mixins","data","methods","decoration","availableAnnotation","selection","events","utils","self","node","classes","type","color","label","tooltip","mode","override","extend","temp","$nextTick","event","change","emit","widgetConfig","$dialogManager","showAndWait","width","$emit"],"mappings":"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","file":"js/chunk-2d2245cb.e6e347a4.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.options)?_c('annotator',{ref:\"annotator\",attrs:{\"id\":_vm.config.id,\"data\":_vm.options.document,\"options\":_vm.getOptions}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <config-dialog \r\n      :options=\"props\"\r\n      :submit=\"submit\"\r\n    ></config-dialog>  \r\n </template> \r\n\r\n\r\n\r\n\r\n<script>\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\";\r\n\r\n\r\n\r\n\r\nexport default {\r\n\t\r\n  name: \"HtmlConfig\",\r\n  \r\n  components:{ \"config-dialog\": configDialog},\r\n  \r\n\tprops:[\"options\", \"submit\"],\r\n\r\n  computed:{\r\n    props(){\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `html-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n  data () {\r\n      return {\r\n\r\n        \r\n        editorTree:[\r\n          {\r\n            name: \"Configuration\",\r\n            children: [\r\n              {\r\n                name: 'Widget',\r\n                editor:() => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n              },\r\n              {\r\n                name: 'Style',\r\n                editor: () => import(\"@/components/dialogs/config/parts/css-editor.vue\")\r\n              }\r\n              ,\r\n              {\r\n                name: \"Options\",\r\n                editor: () => import(\"@/components/dialogs/config/parts/options-editor.vue\")\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n}\r\n\r\n</script>","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-highlight-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-highlight-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nlp-highlight-config.vue?vue&type=template&id=66846260&\"\nimport script from \"./nlp-highlight-config.vue?vue&type=script&lang=js&\"\nexport * from \"./nlp-highlight-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <annotator \r\n      v-if=\"options\"\r\n      ref=\"annotator\" \r\n      :id=\"config.id\"\r\n      :data=\"options.document\" \r\n      :options=\"getOptions\"\r\n    ></annotator>\r\n</template>\r\n\r\n<script>\r\n\r\n  import annotator from \"@/components/core/ext/nlp/annotator.vue\"\r\n  import * as utils from \"@/components/core/ext/nlp/utils.js\"\r\n\r\n  import djvueMixin from \"@/mixins/core/djvue.mixin\";\r\n  import listenerMixin from \"@/mixins/core/listener.mixin\";\r\n  import { extend, template, templateSettings, set, get } from \"lodash\"\r\n\r\n  \r\n  import NlpHighlightConfig from \"./nlp-highlight-config.vue\";\r\n  \r\n  \r\n  \r\n\r\n  \r\n\r\n  let compile = (_template,context) => {\r\n     templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\r\n\r\n    let result = template(_template)(context)\r\n\r\n    templateSettings.interpolate = /<%=([\\s\\S]+?)%>/g;\r\n\r\n    return result\r\n    \r\n  }\r\n\r\n  \r\n\r\n export default  {\r\n    \r\n    name:\"nlp-highlight-widget\",\r\n\r\n    components:{\r\n      annotator\r\n    },\r\n\r\n    icon: \"mdi-format-color-highlight\",\r\n\r\n    mixins:[djvueMixin, listenerMixin],\r\n\r\n    props:[\"config\"],\r\n\r\n    data: () => ({\r\n      options:null\r\n    }),\r\n\r\n    methods:{\r\n\r\n    getDocument(){\r\n      return this.options.document \r\n    },\r\n    \r\n    getDecoration(){\r\n      return this.options.decoration \r\n    },\r\n\r\n    getAvailableAnnotation(){\r\n      return this.options.availableAnnotation \r\n    },\r\n\r\n    getSelection(){\r\n      return this.options.selection\r\n    },\r\n\r\n    getEvents(){\r\n      return this.options.events\r\n    },\r\n\r\n    getUtils(){\r\n      return utils\r\n    },\r\n\r\n    getData(){\r\n      return this.options\r\n    },\r\n\r\n\r\n    getOptions(){\r\n      if(!this.options) return {}\r\n      let self = this  \r\n      return {\r\n            \r\n            \r\n            classes(node){ \r\n              return (self.options && self.options.decoration.classes) \r\n                                ? self.options.decoration.classes[node.type] \r\n                                : null\r\n            },\r\n\r\n            color(node){\r\n              return (self.options && self.options.decoration.color) \r\n                                ? self.options.decoration.color[node.type] \r\n                                : null\r\n            },\r\n            \r\n            label(node){\r\n              return (self.options && self.options.decoration.label) \r\n                                ? compile(self.options.decoration.label[node.type], {node} ) //self.config.data.embedded.decoration.label[node.type] \r\n                                : null\r\n            },\r\n            \r\n            tooltip(node){\r\n              if (!self.options) return null\r\n              return (self.options && self.options.decoration.tooltip && self.options.decoration.tooltip[node.type]) \r\n                                ? compile(self.options.decoration.tooltip[node.type], {node} ) \r\n                                : null\r\n            }\r\n        \r\n      }       \r\n    },  \r\n\r\n    onUpdate ({data}, mode) {\r\n   \r\n      if( mode ){\r\n        if (mode.override) {\r\n          set(this, mode.override, data)\r\n        }\r\n        if (mode.extend) {\r\n          set(this, mode.extend, extend(get(this, mode.extend), data))\r\n        }\r\n      } else {\r\n        this.options = data  \r\n      }\r\n      let temp = this.options\r\n   \r\n      this.options = null\r\n      \r\n      this.$nextTick(() => {\r\n        this.options = temp\r\n        if(this.options.events){\r\n          let event = this.options.events.change || \"change-document\"\r\n          this.emit(event, this.options.document, this)  \r\n        }\r\n      })\r\n    },\r\n\r\n\r\n      onReconfigure (widgetConfig) {\r\n       return this.$dialogManager.showAndWait(NlpHighlightConfig,{width:\"90%\"}, {config:widgetConfig})  \r\n      },\r\n      \r\n\r\n  },\r\n\r\n    created(){ \r\n    },\r\n\r\n    mounted(){ this.$emit(\"init\") },\r\n    \r\n      \r\n\r\n  }\r\n\r\n</script>\t\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-highlight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./nlp-highlight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nlp-highlight.vue?vue&type=template&id=035ea3f4&\"\nimport script from \"./nlp-highlight.vue?vue&type=script&lang=js&\"\nexport * from \"./nlp-highlight.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}