{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/components/VCombobox/VCombobox.js","webpack:///./src/components/core/ext/echart.vue?b856","webpack:///./src/components/core/ext/echart.vue?d5db","webpack:///src/components/core/ext/echart.vue","webpack:///./src/components/core/ext/echart.vue?b538","webpack:///./src/components/core/ext/echart.vue?e824","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer.vue?f0e2","webpack:///./src/components/widgets/ds-value-explorer/io.mixin.js","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer-config.vue?08cb","webpack:///src/components/widgets/ds-value-explorer/ds-value-explorer-config.vue","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer-config.vue?e34d","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer-config.vue","webpack:///src/components/widgets/ds-value-explorer/ds-value-explorer.vue","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer.vue?a855","webpack:///./src/components/widgets/ds-value-explorer/ds-value-explorer.vue"],"names":["extend","name","props","delimiters","type","Array","default","returnObject","Boolean","data","editingIndex","computed","this","multiple","selectedItems","length","internalSearch","toString","options","hasSlot","call","isFocused","hasDisplayedItems","$slots","hideNoData","methods","val","delimiter","find","d","endsWith","slice","updateTags","updateMenuDimensions","input","genInput","attrs","on","paste","onPaste","item","index","chip","genChipSelection","componentOptions","listeners","dblclick","getText","selectedIndex","onChipInput","e","preventDefault","getMenuIndex","$nextTick","updateSelf","keyCode","ctrlKey","home","end","includes","onKeyDown","left","$refs","selectionStart","enter","onEnterDown","changeSelectedIndex","stopPropagation","onTabDown","updateEditing","selectItem","toLocaleLowerCase","internalValue","value","setValue","undefined","findIndex","Object","assign","splice","push","searchIsDirty","isUsingSlot","$scopedSlots","selection","hasChips","updateCombobox","menuIndex","itemToSelect","event","_a","$emit","pastedItemText","clipboardData","getData","findExistingIndex","clearableCallback","render","_vm","_c","_self","staticClass","style","staticRenderFns","mixins","height","chart","echarts","$el","width","resizeHandler","clientWidth","resize","window","attachEvent","addEventListener","setTimeout","setOption","params","callback","rule","watch","handler","deep","initChart","detachEvent","removeEventListener","off","component","error1","error2","error3","_v","_s","message","indicators","countries","years","staticStyle","config","title","note","_e","dataSelectEmitters","filter","model","$$v","country_selection","expression","indicator_select","year_select","chartOptions","widget","concepts","Promise","resolve","reject","$dps","run","script","then","res","concept","collections","metadata","mapper","id","JSON","stringify","submit","components","icon","editorTree","children","editor","echart","parse","series","label","normal","formatter","tooltip","values","range","split","map","Number","parseFloat","trim","rows","r","cls","norm","row","keys","k","toFixed","getName","join","code","f","c","indexOf","tempOptions","updateOptions","queryText","toLowerCase","widgetConfig","$dialogManager","showAndWait","wrapper","_updateConfig","emitter","s","selected","entity","msg","progress","text","getTree","year","cancel","getIndicatorList","getCountryList","catch","getYearList","loadTree","initiate","indicator_filter","completed","VAutocomplete","VCombobox","VFlex","VLayout"],"mappings":"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","file":"js/chunk-2c022d14.b18f67b6.js","sourcesContent":["// Styles\nimport \"../../../src/components/VAutocomplete/VAutocomplete.sass\"; // Extensions\n\nimport VSelect from '../VSelect/VSelect';\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'; // Utils\n\nimport { keyCodes } from '../../util/helpers';\n/* @vue/component */\n\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => []\n    },\n    returnObject: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: () => ({\n    editingIndex: -1\n  }),\n  computed: {\n    computedCounterValue() {\n      return this.multiple ? this.selectedItems.length : (this.internalSearch || '').toString().length;\n    },\n\n    hasSlot() {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple;\n    },\n\n    isAnyValueAllowed() {\n      return true;\n    },\n\n    menuCanShow() {\n      if (!this.isFocused) return false;\n      return this.hasDisplayedItems || !!this.$slots['no-data'] && !this.hideNoData;\n    },\n\n    searchIsDirty() {\n      return this.internalSearch != null;\n    }\n\n  },\n  methods: {\n    onInternalSearchChanged(val) {\n      if (val && this.multiple && this.delimiters.length) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d));\n\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length);\n          this.updateTags();\n        }\n      }\n\n      this.updateMenuDimensions();\n    },\n\n    genInput() {\n      const input = VAutocomplete.options.methods.genInput.call(this);\n      delete input.data.attrs.name;\n      input.data.on.paste = this.onPaste;\n      return input;\n    },\n\n    genChipSelection(item, index) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index); // Allow user to update an existing value\n\n      if (this.multiple) {\n        chip.componentOptions.listeners = { ...chip.componentOptions.listeners,\n          dblclick: () => {\n            this.editingIndex = index;\n            this.internalSearch = this.getText(item);\n            this.selectedIndex = -1;\n          }\n        };\n      }\n\n      return chip;\n    },\n\n    onChipInput(item) {\n      VSelect.options.methods.onChipInput.call(this, item);\n      this.editingIndex = -1;\n    },\n\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown(e) {\n      e.preventDefault(); // If has menu index, let v-select-list handle\n\n      if (this.getMenuIndex() > -1) return;\n      this.$nextTick(this.updateSelf);\n    },\n\n    onKeyDown(e) {\n      const keyCode = e.keyCode;\n\n      if (e.ctrlKey || ![keyCodes.home, keyCodes.end].includes(keyCode)) {\n        VSelect.options.methods.onKeyDown.call(this, e);\n      } // If user is at selection index of 0\n      // create a new tag\n\n\n      if (this.multiple && keyCode === keyCodes.left && this.$refs.input.selectionStart === 0) {\n        this.updateSelf();\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e);\n      } // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n\n\n      this.changeSelectedIndex(keyCode);\n    },\n\n    onTabDown(e) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple && this.internalSearch && this.getMenuIndex() === -1) {\n        e.preventDefault();\n        e.stopPropagation();\n        return this.updateTags();\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e);\n    },\n\n    selectItem(item) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing();\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item); // if selected item contains search value,\n        // remove the search string\n\n        if (this.internalSearch && this.multiple && this.getText(item).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())) {\n          this.internalSearch = null;\n        }\n      }\n    },\n\n    setSelectedItems() {\n      if (this.internalValue == null || this.internalValue === '') {\n        this.selectedItems = [];\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue];\n      }\n    },\n\n    setValue(value) {\n      VSelect.options.methods.setValue.call(this, value === undefined ? this.internalSearch : value);\n    },\n\n    updateEditing() {\n      const value = this.internalValue.slice();\n      const index = this.selectedItems.findIndex(item => this.getText(item) === this.internalSearch); // If user enters a duplicate text on chip edit,\n      // don't add it, move it to the end of the list\n\n      if (index > -1) {\n        const item = typeof value[index] === 'object' ? Object.assign({}, value[index]) : value[index];\n        value.splice(index, 1);\n        value.push(item);\n      } else {\n        value[this.editingIndex] = this.internalSearch;\n      }\n\n      this.setValue(value);\n      this.editingIndex = -1;\n      this.internalSearch = null;\n    },\n\n    updateCombobox() {\n      // If search is not dirty, do nothing\n      if (!this.searchIsDirty) return; // The internal search is not matching\n      // the internal value, update the input\n\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue(); // Reset search if using slot to avoid a double input\n\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips;\n      if (isUsingSlot) this.internalSearch = null;\n    },\n\n    updateSelf() {\n      this.multiple ? this.updateTags() : this.updateCombobox();\n    },\n\n    updateTags() {\n      const menuIndex = this.getMenuIndex(); // If the user is not searching\n      // and no menu item is selected\n      // or if the search is empty\n      // do nothing\n\n      if (menuIndex < 0 && !this.searchIsDirty || !this.internalSearch) return;\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing();\n      }\n\n      const index = this.selectedItems.findIndex(item => this.internalSearch === this.getText(item)); // If the duplicate item is an object,\n      // copy it, so that it can be added again later\n\n      const itemToSelect = index > -1 && typeof this.selectedItems[index] === 'object' ? Object.assign({}, this.selectedItems[index]) : this.internalSearch; // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n\n      if (index > -1) {\n        const internalValue = this.internalValue.slice();\n        internalValue.splice(index, 1);\n        this.setValue(internalValue);\n      } // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n\n\n      if (menuIndex > -1) return this.internalSearch = null;\n      this.selectItem(itemToSelect);\n      this.internalSearch = null;\n    },\n\n    onPaste(event) {\n      var _a;\n\n      this.$emit('paste', event);\n      if (!this.multiple || this.searchIsDirty) return;\n      const pastedItemText = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData('text/vnd.vuetify.autocomplete.item+plain');\n\n      if (pastedItemText && this.findExistingIndex(pastedItemText) === -1) {\n        event.preventDefault();\n        VSelect.options.methods.selectItem.call(this, pastedItemText);\n      }\n    },\n\n    clearableCallback() {\n      this.editingIndex = -1;\n      VAutocomplete.options.methods.clearableCallback.call(this);\n    }\n\n  }\n});\n//# sourceMappingURL=VCombobox.js.map","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=style&index=0&id=7d96c1a5&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"echart\",style:(_vm.style)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"echart\" :style=\"style\"></div>\r\n</template>\r\n<script>\r\n\r\nimport * as echarts from 'echarts'\r\n\r\n// import echarts from \"echarts/dist/echarts.esm\"//\"echarts/dist/echarts-en\"\r\n\r\n// import registerWordCloud from \"@/modules/echarts-wordcloud\"\r\n// registerWordCloud(echarts)\r\n\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\"\r\n\r\nexport default {\r\n\r\n  name: \"echart\",\r\n\r\n  mixins: [listenerMixin],\r\n\r\n  computed: {\r\n    style() {\r\n      return {\r\n        height: (this.height || 250) + \"px\"\r\n      }\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n    initChart(options){\r\n      \r\n      this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n      \r\n      this.resizeHandler = () => {\r\n        this.width = this.$el.clientWidth\r\n        this.chart.resize()\r\n      }  \r\n\r\n      if (window.attachEvent) {\r\n        window.attachEvent('onresize', this.resizeHandler);\r\n      } else {\r\n        window.addEventListener('resize', this.resizeHandler);\r\n      }\r\n\r\n      if (options) {\r\n       setTimeout(()=>{\r\n          this.chart.setOption(options)\r\n          this.chart.on('click', params => { \r\n            // console.log(\"echart component\", params)\r\n            this.$emit(\"chart-event\", params)\r\n          })\r\n\r\n        },10)  \r\n      }\r\n\r\n      this.on({\r\n        event: \"slide-start\",\r\n        callback: () => {\r\n          // console.log(this._uid, \"SLIDE START\",this.$el.clientWidth)\r\n         setTimeout(()=>{\r\n         // this.$nextTick(()=>{ \r\n            // console.log(\"Slide start\",this._uid)\r\n            // if(!this.chart && this.$el.clientWidth > 0){\r\n            //   this.initChart(this.options)\r\n            //   return\r\n            //   console.log(\"Create chart\", _uid)\r\n            //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n            // }\r\n            if (this.chart && this.options)\r\n              // console.log(\"Slide start\", this._uid, this.options) \r\n              this.chart.setOption(this.options, true)\r\n              this.chart.resize()\r\n              // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n          }, 10)   \r\n        },\r\n        rule: () => true\r\n      })\r\n\r\n     this.on({\r\n        event: \"update-dialog-view\",\r\n        callback: () => {\r\n          // console.log(this._uid, \"UPDATE-DIALOG-VIEW\")\r\n         setTimeout(()=>{\r\n         // this.$nextTick(()=>{ \r\n            // console.log(\"Slide start\",this._uid)\r\n            // if(!this.chart && this.$el.clientWidth > 0){\r\n            //   this.initChart(this.options)\r\n            //   return\r\n            //   console.log(\"Create chart\", _uid)\r\n            //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n            // }\r\n            if (this.chart && this.options)\r\n              // console.log(\"Slide start\", this._uid, this.options) \r\n              this.chart.setOption(this.options, true)\r\n              this.chart.resize()\r\n              // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n          }, 10)   \r\n        },\r\n        rule: () => true\r\n      })\r\n\r\n    }\r\n  },\r\n\r\n\r\n  props: [\"options\", \"height\"],\r\n\r\n  watch: {\r\n    options: {\r\n      handler: function(value) {\r\n\r\n        if (value) {\r\n          // // this.$nextTick(() => {\r\n          // if(!this.chart && this.$el.clientWidth > 0){\r\n          //   this.initChart()\r\n          //   return\r\n          //   // console.log(\"Create chart\")\r\n          //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n          // }\r\n          if (this.chart) {\r\n            setTimeout(()=>{\r\n              // console.log(\"set options\", this._uid, value)\r\n              this.chart.setOption(value, true)\r\n              this.chart.resize()\r\n            },10)\r\n            // this.chart.resize()\r\n          }  \r\n        // })\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n\r\n   \r\n    height(value) {\r\n      // this.$nextTick(() => {\r\n     // if(!this.chart && this.$el.clientWidth > 0){\r\n     //    this.initChart()\r\n     //    return\r\n     //    // console.log(\"Create chart\")\r\n     //    // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n     //  }\r\n      setTimeout(()=>{\r\n        this.chart.resize({\r\n          height: value\r\n        },10)\r\n      })\r\n      \r\n      // })\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n\r\n    // console.log(\"MOUNTED\", this)\r\n    \r\n    // if( this.$el.clientWidth > 0 ) {\r\n      this.initChart(this.options)  \r\n      // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n      \r\n      // this.resizeHandler = () => {\r\n      //   this.width = this.$el.clientWidth\r\n      //   this.chart.resize()\r\n      // }  \r\n\r\n      // if (window.attachEvent) {\r\n      //   window.attachEvent('onresize', this.resizeHandler);\r\n      // } else {\r\n      //   window.addEventListener('resize', this.resizeHandler);\r\n      // }\r\n\r\n      // if (this.options) {\r\n      //   this.chart.setOption(this.options)\r\n      // }\r\n\r\n      // this.on({\r\n      //   event: \"slide-start\",\r\n      //   callback: () => {\r\n      //     // console.log(this._uid, \"SLIDE START\",this.$el.clientWidth)\r\n      //    setTimeout(()=>{\r\n      //    // this.$nextTick(()=>{ \r\n      //       // console.log(\"Slide start\",this.$el.clientWidth)\r\n      //       if(!this.chart && this.$el.clientWidth > 0){\r\n      //         // console.log(\"Create chart\")\r\n      //         this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n      //       }\r\n      //       if (this.chart && this.options) \r\n      //           this.chart.setOption(value, true)\r\n      //         // this.chart.resize()\r\n      //         // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n      //     }, 10)   \r\n      //   },\r\n      //   rule: () => true\r\n      // })\r\n    // }  \r\n\r\n  },\r\n\r\n  beforeDestroy() {\r\n    if (window.attachEvent) {\r\n      window.detachEvent('onresize', this.resizeHandler);\r\n    } else {\r\n      window.removeEventListener('resize', this.resizeHandler, false);\r\n    }\r\n    this.off()\r\n  },\r\n\r\n\r\n  data: () => ({\r\n    chart: null,\r\n    resizeHandler: null\r\n  })\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.echart {\r\n  width: 100% !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./echart.vue?vue&type=template&id=7d96c1a5&scoped=true&\"\nimport script from \"./echart.vue?vue&type=script&lang=js&\"\nexport * from \"./echart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echart.vue?vue&type=style&index=0&id=7d96c1a5&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d96c1a5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.error1 || _vm.error2 || _vm.error3 || !_vm.options)?_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"warning--text font-weight-light headline\"},[_vm._v(_vm._s(_vm.message))])])],1):_c('div',[(_vm.indicators && _vm.countries && _vm.years)?_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\",\"justify-center\":\"\"}},[_c('h3',{staticClass:\"primary--text body-2 pt-2 pb-0\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.config.title)+\"\\n          \")]),(_vm.options)?_c('p',{staticClass:\"caption font-italic font-weight-light ma-0 pa-0\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.config.note)+\"\\n          \")]):_vm._e()])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-layout',{staticClass:\"mx-0 px-1\",attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\",\"pr-1\":\"\",\"pl-1\":\"\"}},[(!this.config.dataSelectEmitters || (this.config.dataSelectEmitters.length == 0))?_c('v-autocomplete',{staticClass:\"caption\",attrs:{\"items\":_vm.countries,\"item-text\":\"name\",\"color\":\"primary\",\"filter\":_vm.filter,\"label\":\"Select entity\",\"multiple\":\"\"},model:{value:(_vm.country_selection),callback:function ($$v) {_vm.country_selection=$$v},expression:\"country_selection\"}}):_vm._e()],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"pr-1\":\"\",\"pl-1\":\"\"}},[_c('v-autocomplete',{staticClass:\"caption\",attrs:{\"items\":_vm.indicators,\"item-text\":\"name\",\"item-value\":\"concept\",\"color\":\"primary\",\"filter\":_vm.filter,\"label\":\"Select indicator\"},model:{value:(_vm.indicator_select),callback:function ($$v) {_vm.indicator_select=$$v},expression:\"indicator_select\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\",\"pr-1\":\"\",\"pl-1\":\"\"}},[_c('v-combobox',{staticClass:\"caption\",attrs:{\"items\":_vm.years,\"label\":\"Select year\"},model:{value:(_vm.year_select),callback:function ($$v) {_vm.year_select=$$v},expression:\"year_select\"}})],1)],1)],1),_c('v-flex',{staticStyle:{\"border\":\"1px solid #dedede\",\"background\":\"#ffffff\"},attrs:{\"xs12\":\"\"}},[(_vm.options)?_c('echart',{attrs:{\"options\":_vm.chartOptions,\"height\":_vm.options.widget.height}}):_vm._e()],1)],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n\tmethods:{\r\n\t\tgetIndicatorList(concepts){\r\n\t\t\treturn new Promise(( resolve, reject) => {\r\n\t\t\t\tthis.$dps.run({\r\n\t\t\t\t\tscript:`\r\n\t\t\t\t\t\t<?javascript\r\n\t\t\t\t\t\t    $scope.mapper = d => ({\r\n\t\t\t\t\t\t        concept: d.value.concept,\r\n\t\t\t\t\t\t        name: d.value.name,\r\n\t\t\t\t\t\t        type: d.value.type\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t?>\r\n\t\t\t\t\t\tdml.select(from:\"${concepts}\", map:{{mapper}})\r\n\t\t\t\t\t\tc.order(by:\"type\")\r\n\t\t\t\t\t`\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.type == \"error\"){\r\n\t\t\t\t\t\treject(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\t\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tgetYearList(concept, concepts, collections){\r\n\t\t\treturn new Promise( (resolve,reject) => {\r\n\t\t\t\tthis.$dps.run({\r\n\t\t\t\t\tscript:`\r\n\t\t\t\t\t\t<?javascript\r\n\t\t\t\t\t\t    // input parameters\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    $scope.rootConcept = \"${concept}\";\r\n\t\t\t\t\t\t    $scope.conceptFilter = d => d.value.concept == $scope.rootConcept\r\n\t\t\t\t\t\t    $scope.collectionFilter = d => d.value.def == \"${concepts}.\"+ $scope.rootConcept;\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\tdml.select(from:\"${concepts}\", return:\"value\", where:{{conceptFilter}})\r\n\t\t\t\t\t\tset(\"indicator\")\r\n\r\n\t\t\t\t\t\tdml.select(from:\"${collections}\", return:\"value\", where:{{collectionFilter}})\r\n\t\t\t\t\t\tset(\"collection\")\r\n\r\n\t\t\t\t\t\t<?javascript\r\n\t\t\t\t\t\t    $scope.dataCollection = $scope.collection[0].concept.split(\".\")[0];\r\n\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\tdml.select(from:{{dataCollection}}, return: \"value\")\r\n\t\t\t\t\t\tc.unique(\"year\")\r\n\t\t\t\t\t\tc.order()\r\n\t\t\t\t\t`\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.type == \"error\"){\r\n\t\t\t\t\t\treject(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tgetCountryList(concept, concepts, collections, countries){\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.$dps.run({\r\n\t\t\t\t\tscript:`\r\n\t\t\t\t\t\t<?javascript\r\n\t\t\t\t\t\t    // input parameters\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    $scope.rootConcept = \"${concept}\";\r\n\t\t\t\t\t\t    $scope.conceptFilter = d => d.value.concept == $scope.rootConcept\r\n\t\t\t\t\t\t    $scope.collectionFilter = d => d.value.def == \"${concepts}.\"+ $scope.rootConcept;\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\tdml.select(from:\"${concepts}\", return:\"value\", where:{{conceptFilter}})\r\n\t\t\t\t\t\tset(\"indicator\")\r\n\r\n\t\t\t\t\t\tdml.select(from:\"${collections}\", return:\"value\", where:{{collectionFilter}})\r\n\t\t\t\t\t\tset(\"collection\")\r\n\r\n\t\t\t\t\t\t<?javascript\r\n\t\t\t\t\t\t    $scope.dataCollection = $scope.collection[0].concept.split(\".\")[0];\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    $scope.joinOn = (a, b) => a == b[\"${this.config.metadata.mapper.id}\"]\r\n\t\t\t\t\t\t    $scope.joinMapper = d => ({\r\n\t\t\t\t\t\t        id: d.left,\r\n\t\t\t\t\t\t        name: d.right[\"${this.config.metadata.mapper.name}\"]\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t?>\r\n\r\n\t\t\t\t\t\tdml.select(from:\"${countries}\", return:\"value\")\r\n\t\t\t\t\t\tset(\"countries\")\r\n\r\n\t\t\t\t\t\tdml.select(from:{{dataCollection}}, return: \"value\")\r\n\t\t\t\t\t\tc.unique(\"${this.config.metadata.mapper.id}\")\r\n\r\n\t\t\t\t\t\tc.innerJoin(with:{{countries}}, on:{{joinOn}})\r\n\r\n\t\t\t\t\t\tc.map({{joinMapper}})\r\n\t\t\t\t\t\tc.order(by:\"name\")\r\n\t\t\t\t\t`\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.type == \"error\"){\r\n\t\t\t\t\t\treject(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tgetTree(concept, concepts, collections, filter){\r\n\t\t\t// console.log(filter)\r\n\t\t\treturn this.$dps.run({\r\n\t\t\t\tscript:`\r\n\t\t\t\t\t<?javascript\r\n\t\t\t\t    // input parameters\r\n\t\t\t\t\t    $scope.rootConcept = \"${concept}\";\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    $scope.filters = ${JSON.stringify(filter)}\r\n\t\t\t\t\r\n\t\t\t\t\t?>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\tdml.select(from:\"${concepts}\", return:\"value\")\r\n\t\t\t\t\tset(\"indicators\")\r\n\t\t\t\t\t\r\n\t\t\t\t\tdml.select(from:\"${collections}\", return:\"value\")\r\n\t\t\t\t\tset(\"collections\")\r\n\r\n\t\t\t\t\t<?javascript\r\n\t\t\t\t\t    $scope.datapoints = []\r\n\r\n\t\t\t\t\t    let getTree = concept => {\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        let f = _.find($scope.indicators,d => d.concept == concept)\r\n\t\t\t\t\t        let children = (f && f.args) ? f.args.split(\",\").map(d => d.trim()) :[]\r\n\t\t\t\t\t        let datapoint = _.find($scope.collections, c => c.def && c.def.split(\".\")[1] == concept )\r\n\t\t\t\t\t        let names = []\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        if(datapoint){\r\n\t\t\t\t\t            names = datapoint.concept.split(\".\")  \r\n\t\t\t\t\t            $scope.datapoints.push({\r\n\t\t\t\t\t                collection: names[0],\r\n\t\t\t\t\t                field: names[1]\r\n\t\t\t\t\t            })\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        return {\r\n\t\t\t\t\t            concept: concept,\r\n\t\t\t\t\t            name: (f) ? f.name : \"n/a\",\r\n\t\t\t\t\t            range:(f) ? f.range : \"n/a\",\r\n\t\t\t\t\t            datapoint: {\r\n\t\t\t\t\t                collection: names[0],\r\n\t\t\t\t\t                field: names[1]\r\n\t\t\t\t\t            },\r\n\t\t\t\t\t            children : children.map(getTree)\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    };\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    $scope.res = getTree($scope.rootConcept);\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    $scope.valuesScript = $scope.datapoints.map( d => \r\n\t\t\t\t\t    'dml.select(from:\"'+d.collection+'\",return:\"value\"); set(\"data.'+d.collection+'\");').join(\"\")+\"return('data')\"\r\n\t\t\t\t\t \r\n\r\n\t\t\t\t\t?>\r\n\t\t\t\t\trun({{valuesScript}})\r\n\t\t\t\t\tset(\"data\")\r\n\r\n\t\t\t\t\t<?javascript\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    \r\n\t\t\t\t\t    let findValues = node => {\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        if(node.datapoint.collection){\r\n\t\t\t\t\t            \r\n\t\t\t\t\t            node.values = \r\n\t\t\t\t\t            $scope.filters.map( f => {\r\n\t\t\t\t\t                let r = Object.assign({}, f)\r\n\t\t\t\t\t                let founded = _.find($scope.data[node.datapoint.collection], f)\r\n\t\t\t\t\t                if(founded){\r\n\t\t\t\t\t                    \r\n\t\t\t\t\t                    r[\"${this.config.metadata.mapper.id}\"] = undefined\r\n\t\t\t\t\t                    r.id = founded[\"${this.config.metadata.mapper.id}\"]\r\n\t\t\t\t\t                    r.value = founded[node.datapoint.field] || \"n/a\"\r\n\t\t\t\t\t                   \r\n\t\t\t\t\t                } \r\n\t\t\t\t\t                return r\r\n\t\t\t\t\t            })\r\n\t\t\t\t\t            \r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        if(node.children){\r\n\t\t\t\t\t            node.children.forEach( c => {findValues(c)})\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    };\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    res = findValues($scope.res);\r\n\t\t\t\t\t?>\r\n\r\n\t\t\t\t\treturn (\"res\")\r\n\t\t\t\t`\r\n\t\t\t}).then(res => res.data)\t\r\n\t\t}\r\n\t}\t\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('config-dialog',{attrs:{\"options\":_vm.props,\"submit\":_vm.submit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n    <config-dialog \r\n      :options=\"props\"\r\n      :submit=\"submit\"\r\n    ></config-dialog>  \r\n </template> \r\n\r\n\r\n\r\n\r\n<script>\r\n\r\nimport configDialog from \"@/components/dialogs/config/config-dialog.vue\"\r\n\r\n\r\nexport default {\r\n  \r\n  name: \"DataExplorerConfig\",\r\n  \r\n  components:{ \"config-dialog\": configDialog},\r\n\r\n  props:[\"options\", \"submit\"],\r\n\r\n  computed:{\r\n    props(){\r\n      return {\r\n        icon: this.options.config.icon,\r\n        title: `data-explorer-widget: ${this.options.config.id} ${this.options.config.name}`,\r\n        config: this.options.config,\r\n        editorTree: this.editorTree\r\n      }\r\n    }\r\n  },\r\n\r\n  \r\n  data () {\r\n      return {\r\n        editorTree:[\r\n          {\r\n            name: \"Configuration\",\r\n            children: [\r\n              {\r\n                name: 'Widget',\r\n                editor:() => import(\"@/components/dialogs/config/parts/name-editor.vue\")\r\n              },\r\n              {\r\n                name: \"Metadata\",\r\n                editor:() => import(\"./parts/dataset-metadata-settings.vue\")\r\n              },\r\n              {\r\n                name: \"Data management\",\r\n                editor:() => import(\"../ds-share/dataset-management.vue\")\r\n              },\r\n              {\r\n                name: \"Decoration\",\r\n                editor:() => import(\"../ds-share/decoration-editor.vue\")\r\n              },\r\n            ]\r\n          }\r\n        ],\r\n      }\r\n    }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./ds-value-explorer-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./ds-value-explorer-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ds-value-explorer-config.vue?vue&type=template&id=7f17043c&\"\nimport script from \"./ds-value-explorer-config.vue?vue&type=script&lang=js&\"\nexport * from \"./ds-value-explorer-config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <v-layout v-if=\"error1 || error2 || error3 || !options\">\r\n      <v-flex xs12>\r\n        <h2 class=\"warning--text font-weight-light headline\">{{message}}</h2>\r\n      </v-flex>\r\n    </v-layout>\r\n    <div v-else>\r\n      <v-layout column v-if=\"indicators && countries && years\">\r\n        <v-flex xs12>\r\n          <v-layout column justify-center>\r\n            <h3 class=\"primary--text body-2 pt-2 pb-0\" style=\"text-align: center;\">\r\n              {{config.title}}\r\n            </h3>\r\n            <p v-if=\"options\" class=\"caption font-italic font-weight-light ma-0 pa-0\" style=\"text-align: center;\">\r\n              {{config.note}}\r\n            </p>\r\n          </v-layout>\r\n        </v-flex>\r\n        <v-flex xs12>\r\n          <v-layout row class=\"mx-0 px-1\">\r\n            <v-flex xs4 pr-1 pl-1>\r\n              <v-autocomplete v-model=\"country_selection\" :items=\"countries\" item-text=\"name\" color=\"primary\" :filter=\"filter\" label=\"Select entity\" multiple class=\"caption\" v-if=\"!this.config.dataSelectEmitters || (this.config.dataSelectEmitters.length == 0)\">\r\n              </v-autocomplete>\r\n            </v-flex>\r\n            <v-flex xs6 pr-1 pl-1>\r\n              <v-autocomplete class=\"caption\" v-model=\"indicator_select\" :items=\"indicators\" item-text=\"name\" item-value=\"concept\" color=\"primary\" :filter=\"filter\" label=\"Select indicator\"></v-autocomplete>\r\n            </v-flex>\r\n            <v-flex xs2 pr-1 pl-1>\r\n              <v-combobox class=\"caption\" v-model=\"year_select\" :items=\"years\" label=\"Select year\"></v-combobox>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-flex>\r\n        <v-flex xs12 style=\"border:1px solid #dedede; background:#ffffff;\">\r\n          <echart v-if=\"options\" :options=\"chartOptions\" :height=\"options.widget.height\"></echart>\r\n        </v-flex>\r\n      </v-layout>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport ioMixin from \"./io.mixin.js\";\r\n\r\n\r\n\r\n  import DsValueExplorerConfigDialog from \"./ds-value-explorer-config.vue\";\r\n\r\n\r\n\r\nimport echart from \"@/components/core/ext/echart.vue\"\r\nimport { find, includes } from \"lodash\"\r\n\r\nexport default {\r\n\r\n  name: \"ds-value-explorer-widget\",\r\n\r\n  icon: \"mdi-triforce\",\r\n\r\n  mixins: [djvueMixin, listenerMixin, ioMixin],\r\n\r\n  components: { echart },\r\n\r\n  computed: {\r\n\r\n    chartOptions() {\r\n\r\n      if (!this.options) return {}\r\n\r\n      let res = JSON.parse(JSON.stringify(this.options));\r\n\r\n\r\n      res.series[0].label.normal.formatter = d => {\r\n        let tooltip = `{title|${d.data.name}}` + \"\\n\"\r\n        if (d.data.values) {\r\n          let range = (d.data.range) ?\r\n            d.data.range.split(\",\").map(d => Number.parseFloat(d.trim())) :\r\n            undefined;\r\n\r\n          let rows = d.data.values.map(r => {\r\n\r\n            let cls = \"norange\"\r\n\r\n            if (range && r.value != \"n/a\") {\r\n\r\n              let norm;\r\n\r\n              if ((range[1] - range[0]) >= 0) {\r\n                norm = (r.value - range[0]) / (range[1] - range[0])\r\n              } else {\r\n                norm = -(r.value - range[1]) / (range[0] - range[1])\r\n              }\r\n\r\n              // r.norm= norm.toFixed(3)\r\n\r\n              if (norm >= 0) {\r\n                cls = (norm <= 0.25) ? \"low\" : (norm >= 0.75) ? \"high\" : \"middle\"\r\n              } else {\r\n                cls = (norm <= -0.75) ? \"low\" : (norm >= -0.25) ? \"high\" : \"middle\"\r\n              }\r\n            }\r\n\r\n\r\n            let row = Object.keys(r)\r\n              .map(k => (k == \"value\") ?\r\n                (r[k] == \"n/a\") ? r[k] : Number.parseFloat(r[k]).toFixed(3) :\r\n                (k == \"id\") ?\r\n                this.getName(r[k]) :\r\n                r[k]\r\n              )\r\n              .join(\"\\t\\t\\t\")\r\n            return `{${cls}|${row}}`\r\n          }).join(\"\\n\")\r\n\r\n          tooltip += rows\r\n        }\r\n\r\n        return tooltip\r\n      }\r\n\r\n\r\n      return res\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    getName(code) {\r\n      let f = find(this.countries, c => c.id == code)\r\n      return (f) ? f.name : f\r\n    },\r\n\r\n    remove(item) {\r\n      if (this.country_selection.length == 1) return\r\n      const index = this.country_selection.indexOf(item)\r\n      if (index >= 0) this.country_selection.splice(index, 1)\r\n    },\r\n\r\n    updateOptions({ data, options }) {\r\n      if (!data) return\r\n\r\n      const tempOptions = JSON.parse(JSON.stringify(options));\r\n      // const tempData = JSON.parse(JSON.stringify(data));\r\n      this.data = data;\r\n      tempOptions.series[0].data = [data];\r\n\r\n      this.options = tempOptions;\r\n    },\r\n\r\n    onUpdate({ data, options }){\r\n      this.updateOptions({ data: this.data, options: this.config.options })\r\n    },\r\n\r\n\r\n    filter(item, queryText) {\r\n      return includes(((item.name) ? item.name.toLowerCase() : \"\"), ((queryText) ? queryText.toLowerCase() : \"\"))\r\n    },\r\n\r\n\r\n\r\n    onReconfigure(widgetConfig) {\r\n      return this.$dialogManager.showAndWait(DsValueExplorerConfigDialog, { width: \"80%\" }, { config: widgetConfig })\r\n    },\r\n    \r\n \r\n\r\n    onSlideStart(wrapper){\r\n      wrapper._updateConfig()\r\n    },   \r\n\r\n    // onError (error) {\r\n    //   this.template = `<div style=\"color:red; font-weight:bold;\">${error.toString()}</div>`;\r\n    // },\r\n\r\n    onDataSelect(emitter, data) {\r\n      this.country_selection = data.selection\r\n        .filter(s => s.selected)\r\n        .map(d => ({\r\n          id: d.entity.id,\r\n          name: d.entity.title\r\n        }))\r\n    },\r\n\r\n    loadTree() {\r\n      if (\r\n        !this.indicator_select ||\r\n        (this.country_selection.length == 0) ||\r\n        !this.year_select ||\r\n        !this.config.metadata.concepts ||\r\n        !this.config.metadata.countries ||\r\n        !this.config.metadata.collections\r\n      ) return\r\n\r\n      this.msg = this.progress({text:`Loading tree for ${this.indicator_select}...`}) \r\n      // console.log(this.country_selection)  \r\n      this.getTree(\r\n        this.indicator_select,\r\n        this.config.metadata.concepts,\r\n        this.config.metadata.collections,\r\n        this.country_selection.map(c => {\r\n          let filter = {}\r\n          filter[this.config.metadata.mapper.id] = find(this.countries, d => d.name == c).id\r\n          filter.year = this.year_select\r\n          return filter\r\n        })\r\n\r\n      ).then(res => {\r\n        this.msg.cancel()\r\n        this.updateOptions({ data: res, options: this.config.options })\r\n      })\r\n\r\n    },\r\n\r\n    initiate() {\r\n      if (this.config.metadata.concepts && this.config.metadata.collections && this.config.metadata.countries) {\r\n        this.message = \"Loading...\"\r\n        this.getIndicatorList(this.config.metadata.concepts).then(res => {\r\n            this.indicators = res;\r\n            this.indicator_select = res[0].concept\r\n            this.error1 = false\r\n\r\n            this.getCountryList(\r\n                this.indicator_select,\r\n                this.config.metadata.concepts,\r\n                this.config.metadata.collections,\r\n                this.config.metadata.countries\r\n              ).then(res => {\r\n                this.error2 = false\r\n                this.countries = res;\r\n                if (!this.config.dataSelectEmitters || this.config.dataSelectEmitters.length == 0) this.country_selection = [res[0].name]\r\n              })\r\n              .catch(() => {\r\n                this.error2 = true\r\n                this.message = `Entities definition \"${this.config.metadata.countries}\" or definition of dataset collections \"${this.config.metadata.collections}\" not found`\r\n              })\r\n\r\n            this.getYearList(\r\n                this.indicator_select,\r\n                this.config.metadata.concepts,\r\n                this.config.metadata.collections\r\n              ).then(res => {\r\n                this.error3 = false\r\n                this.years = res;\r\n                this.year_select = res[0]\r\n              })\r\n              .catch(() => {\r\n                this.error3 = true\r\n                this.message = `Definition of dataset collections \"${this.config.metadata.collections}\" not found`\r\n              })\r\n\r\n          })\r\n          .catch(() => {\r\n            this.error1 = true\r\n            this.message = `Dataset concepts definition \"${this.config.metadata.concepts}\" not found`\r\n          })\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n\r\n  props: [\"config\"],\r\n\r\n\r\n  mounted() {\r\n    this.$emit(\"init\")\r\n  },\r\n\r\n\r\n  watch: {\r\n\r\n    indicator_select() { this.loadTree() },\r\n\r\n    country_selection() { this.loadTree() },\r\n\r\n    year_select() { this.loadTree() },\r\n\r\n    \"config.options.widget.height\"() {\r\n\r\n      this.$nextTick(() => {\r\n        this.updateOptions({ data: this.data, options: this.config.options })\r\n      })\r\n\r\n    },\r\n\r\n    \"config.metadata\": {\r\n      handler() {\r\n\r\n        this.$nextTick(() => {\r\n          this.initiate()\r\n        })\r\n\r\n      },\r\n      deep: true\r\n    }\r\n\r\n  },\r\n\r\n  created() {\r\n    this.initiate()\r\n  },\r\n\r\n  data: () => ({\r\n\r\n    options: null,\r\n    error1: true,\r\n    error2: true,\r\n    error3: true,\r\n    message: \"No data available\",\r\n    selection: [],\r\n    series: [],\r\n    indicator_select: null,\r\n    country_selection: [],\r\n    year_select: null,\r\n    indicators: null,\r\n    countries: null,\r\n    years: null,\r\n    indicator_filter: '',\r\n    completed: false\r\n\r\n  })\r\n\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./ds-value-explorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./ds-value-explorer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ds-value-explorer.vue?vue&type=template&id=6b3d1a01&\"\nimport script from \"./ds-value-explorer.vue?vue&type=script&lang=js&\"\nexport * from \"./ds-value-explorer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VCombobox,VFlex,VLayout})\n"],"sourceRoot":""}