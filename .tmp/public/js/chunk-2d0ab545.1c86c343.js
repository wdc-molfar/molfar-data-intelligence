(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab545"],{"158c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[t.options?e("v-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("v-tab",{key:"general",attrs:{ripple:""}},[t._v("General")]),e("v-tab",{key:"fe",attrs:{ripple:""}},[t._v("Factors & Effects")]),e("v-tab",{key:"scale",attrs:{ripple:""}},[t._v("Scale")]),e("v-tab",{key:"statistic",attrs:{ripple:""}},[t._v("Statistic")]),e("v-tab-item",{key:"general",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("h3",{staticClass:"headline"},[t._v("Influence")]),e("v-switch",{attrs:{hint:t.options.required?"All constraints will be checked":"Response validation will be disabled","persistent-hint":"",label:"Required"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.required,callback:function(e){t.$set(t.options,"required",e)},expression:"options.required"}}),e("v-divider"),e("v-textarea",{attrs:{label:"Question"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}}),e("v-textarea",{attrs:{label:"Note"},model:{value:t.options.note,callback:function(e){t.$set(t.options,"note",e)},expression:"options.note"}})],1)],1)],1),e("v-tab-item",{key:"fe",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-row",{staticClass:"mx-0 pa-3"},[e("v-col",{staticClass:"mx-0 pa-3",attrs:{cols:"6"}},[e("dj-list",{attrs:{items:t.options.factors,itemField:"title",title:"Factors",label:"Enter factors",draggable:""},on:{update:t.onChangeFactors}})],1),e("v-col",{staticClass:"mx-0 pa-3",attrs:{cols:"6"}},[e("dj-list",{attrs:{items:t.options.effects,itemField:"title",title:"Effects",label:"Enter effects",draggable:""},on:{update:t.onChangeEffects}})],1)],1)],1)],1),e("v-tab-item",{key:"scale",attrs:{ripple:""}},[e("v-card",{staticClass:"mx-0 pa-3",attrs:{flat:""}},[e("v-container",[e("v-select",{attrs:{items:[3,5,7,9],label:"Maximum rate value"},on:{change:t.generateScale},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}}),t._l(t.options.scale,(function(s,i){return e("v-layout",{key:i,attrs:{row:""}},[e("v-text-field",{attrs:{label:s.value+" title"},on:{input:function(e){return t.$emit("update:options",t.options)}},model:{value:s.title,callback:function(e){t.$set(s,"title",e)},expression:"s.title"}})],1)})),e("v-divider"),e("v-switch",{attrs:{label:"Show value"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showValue,callback:function(e){t.$set(t.options,"showValue",e)},expression:"options.showValue"}}),e("v-divider"),e("v-switch",{attrs:{label:"Show title"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showTitle,callback:function(e){t.$set(t.options,"showTitle",e)},expression:"options.showTitle"}}),e("v-divider"),e("palette-picker",{attrs:{value:t.options.palette},on:{change:t.onChangePalette}})],2)],1)],1),e("v-tab-item",{key:"statistic",attrs:{ripple:""}},[e("v-card",{staticClass:"mx-0 pa-3",attrs:{flat:""}},[e("v-container",[e("v-switch",{attrs:{hint:t.options.showResponsesStat?"Show statistical distribution in production mode":"","persistent-hint":"",label:"Statistical hints"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showResponsesStat,callback:function(e){t.$set(t.options,"showResponsesStat",e)},expression:"options.showResponsesStat"}}),e("v-divider"),e("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[e("v-layout",{attrs:{"fill-height":"",row:""}},[e("v-flex",{staticClass:"text-xs-center headline",staticStyle:{"border-left":"1px solid #dedede","border-bottom":"1px solid #dcdcdc","border-top":"1px solid #dcdcdc"},attrs:{xs2:"","pa-2":""}}),t._l(t.options.effects,(function(s,i){return e("v-flex",{key:i,class:t.cellClass+" text-xs-center",style:`\n                    min-height:3em; \n                    border-left:1px solid #dedede; \n                    border-bottom:1px solid #dcdcdc;  \n                    border-top:1px solid #dcdcdc;\n                    ${i==t.options.effects.length-1?"border-right: 1px solid #dcdcdc !important;":""}\n                  `},[e("span",{staticClass:"caption"},[t._v(t._s(s.title))])])}))],2),t._l(t.options.factors,(function(s,i){return e("v-layout",{key:i,attrs:{"fill-height":"",row:""}},[e("v-flex",{staticClass:"caption",staticStyle:{"border-left":"1px solid #dcdcdc","border-bottom":"1px solid #dcdcdc"},attrs:{xs2:"","pa-2":"","align-center":""}},[t._v("\n                "+t._s(s.title)+"\n              ")]),t._l(t.options.effects,(function(i,a){return e("v-flex",{key:a,class:t.cellClass+" text-xs-center",style:`\n                  min-height:3em; \n                  border-left: 1px solid #dcdcdc;\n                  border-bottom:1px solid #dcdcdc; \n                  ${a<t.options.effects.length-1?"":"border-right: 1px solid #dcdcdc !important;"}\n                `,attrs:{"align-center":""}},[e("v-layout",{staticStyle:{height:"100%"},attrs:{"align-center":""},on:{click:function(e){return t.onSetValue(e,s,i)}}},[e("v-flex",{staticClass:"text-xs-center body-2"},[t.getChartOptions(s,i)?e("echart",{attrs:{options:t.getChartOptions(s,i),height:t.height}}):t._e()],1)],1),e("v-layout",{staticStyle:{height:"100%"}})],1)}))],2)}))],2)],1)],1)],1)],1):e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"secondary ligten-2"}})],1)],1)},a=[],o=s("2ef0"),n=s("c555"),l=s("4e14"),r=s("1d99"),c=s("6633"),p=s("c165"),h=s("d502"),d={mixins:[n["a"],l["a"],c["a"]],props:["config","options","stat"],components:{"dj-list":h["a"],"palette-picker":r["a"]},methods:{generateScaleStyle(){this.options.scale&&this.options.palette.color&&(this.options.scale.length>0&&this.options.palette.color.length>0&&this.options.scale.forEach(t=>{t.color=p["a"].color(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light),t.background=p["a"].background(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light),t.style=`color: ${p["a"].color(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light)} !important;background: ${p["a"].background(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light)} !important;`}),this.options.undefinedValue={style:`color: ${p["a"].color(this.options.scale,null,this.options.palette,this.$vuetify.theme.themes.light)} !important;background: ${p["a"].background(this.options.scale,null,this.options.palette,this.$vuetify.theme.themes.light)} !important;`})},onChangeFactors(t){this.options.factors=t.map(t=>(t.id=t.id?t.id:this.randomName(),t)),this.$emit("update:options",this.options)},onChangeEffects(t){this.options.effects=t.map(t=>(t.id=t.id?t.id:this.randomName(),t)),this.$emit("update:options",this.options)},onChangePalette(t){this.options.palette=t,this.$nextTick(()=>{this.generateScaleStyle(),this.$nextTick(()=>{this.$emit("update:options",this.options)})})},onChange(){this.$emit("update:options",this.options)},onSetOptions(){this.generateScaleStyle()},generateScale(t){if(t!=this.options.scale.length){let e=[];for(let s=0;s<t;s++)e.push({value:s+1});this.options.scale=e,this.generateScaleStyle(),this.onChange()}},getChartOptions(t,e){let s=Object(o["find"])(this.statOptions,s=>s.factor.id==t.id&&s.effect.id==e.id);return s?s.chartOptions:null},calculateStat(){if(!this.options)return{};if(!this.options.effects||!this.options.factors)return{};let t=this.stat.responses.filter(t=>t),e=[];t.forEach(t=>{e=e.concat(t)});let s=[];return this.options.factors.forEach(t=>{this.options.effects.forEach(i=>{s.push({factor:t,effect:i,values:e.filter(e=>e.e1==t.id&&e.e2==i.id&&e.value&&Object(o["find"])(this.options.scale,t=>t.value==e.value)).map(t=>t.value)})})}),s=s.filter(t=>t.values.length>0),s.forEach(t=>{let e=Object(o["countBy"])(t.values);t.data=this.options.scale.map(t=>({title:t.value,value:e[t.value]?e[t.value]:0}))}),s.forEach(t=>{t.chartOptions={color:[this.$vuetify.theme.themes.light.primary],angleAxis:{type:"category",data:this.options.scale.map(t=>t.value),axisLabel:{margin:2,fontSize:8,fontWeight:"bold",color:this.$vuetify.theme.themes.light.secondary}},radiusAxis:{splitNumber:1,axisLine:{show:!1},axisLabel:{show:!1}},polar:{},series:[{type:"bar",itemStyle:{opacity:.5},data:t.data.map(t=>t.value),coordinateSystem:"polar"}]}}),this.height=150,s}},computed:{cellClass(){let t=Math.trunc(10/this.options.effects.length);return t=t>3?3:t,"xs"+t},max:{get(){return this.options.scale.length},set(t){this.generateScale(t)}}},data:()=>({active:null,height:null}),mounted(){this.$emit("init")}},u=d,f=s("2877"),v=s("fef8"),m=s.n(v),g=s("b0af"),b=s("62ad"),x=s("a523"),y=s("ce7e"),k=s("0e8f"),w=s("a722"),S=s("490a"),$=s("0fd9"),C=s("b974"),V=s("b73d"),_=s("71a3"),E=s("c671"),O=s("fe57"),T=s("8654"),F=s("a844"),j=Object(f["a"])(u,i,a,!1,null,null,null);e["default"]=j.exports;m()(j,{VCard:g["a"],VCol:b["a"],VContainer:x["a"],VDivider:y["a"],VFlex:k["a"],VLayout:w["a"],VProgressCircular:S["a"],VRow:$["a"],VSelect:C["a"],VSwitch:V["a"],VTab:_["a"],VTabItem:E["a"],VTabs:O["a"],VTextField:T["a"],VTextarea:F["a"]})}}]);
//# sourceMappingURL=chunk-2d0ab545.1c86c343.js.map