(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5ed9"],{9727:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t.options?e("v-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("v-tab",{key:"general",attrs:{ripple:""}},[t._v("General")]),e("v-tab",{key:"fe",attrs:{ripple:""}},[t._v("Entities")]),e("v-tab",{key:"scale",attrs:{ripple:""}},[t._v("Scale")]),e("v-tab",{key:"statistic",attrs:{ripple:""}},[t._v("Statistic")]),e("v-tab-item",{key:"general",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("h3",{staticClass:"headline"},[t._v("Association")]),e("v-switch",{attrs:{hint:t.options.required?"All constraints will be checked":"Response validation will be disabled","persistent-hint":"",label:"Required"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.required,callback:function(e){t.$set(t.options,"required",e)},expression:"options.required"}}),e("v-divider"),e("v-textarea",{attrs:{label:"Question"},model:{value:t.options.title,callback:function(e){t.$set(t.options,"title",e)},expression:"options.title"}}),e("v-textarea",{attrs:{label:"Note"},model:{value:t.options.note,callback:function(e){t.$set(t.options,"note",e)},expression:"options.note"}})],1)],1)],1),e("v-tab-item",{key:"fe",attrs:{ripple:""}},[e("v-card",{staticClass:"mx-2 pa-2",attrs:{flat:""}},[e("dj-list",{attrs:{items:t.options.entities,itemField:"title",title:"Entities",label:"Enter entites",draggable:""},on:{update:t.onChangeEntities}})],1)],1),e("v-tab-item",{key:"scale",attrs:{ripple:""}},[e("v-card",{staticClass:"mx-2 pa-2",attrs:{flat:""}},[e("v-container",[e("v-select",{attrs:{items:[3,5,7,9],label:"Maximum rate value"},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}}),t._l(t.options.scale,(function(i,s){return e("v-layout",{key:s,attrs:{row:""}},[e("v-text-field",{attrs:{label:i.value+" title"},on:{input:function(e){return t.$emit("update:options",t.options)}},model:{value:i.title,callback:function(e){t.$set(i,"title",e)},expression:"s.title"}})],1)})),e("v-divider"),e("v-switch",{attrs:{label:"Show value"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showValue,callback:function(e){t.$set(t.options,"showValue",e)},expression:"options.showValue"}}),e("v-divider"),e("v-switch",{attrs:{label:"Show title"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showTitle,callback:function(e){t.$set(t.options,"showTitle",e)},expression:"options.showTitle"}}),e("v-divider"),e("palette-picker",{attrs:{value:t.options.palette},on:{change:t.onChangePalette}})],2)],1)],1),e("v-tab-item",{key:"statistic",attrs:{ripple:""}},[e("v-card",{attrs:{flat:""}},[e("v-container",[e("v-switch",{attrs:{hint:t.options.showResponsesStat?"Show statistical distribution in production mode":"","persistent-hint":"",label:"Statistical hints"},on:{change:function(e){return t.$emit("update:options",t.options)}},model:{value:t.options.showResponsesStat,callback:function(e){t.$set(t.options,"showResponsesStat",e)},expression:"options.showResponsesStat"}}),e("v-divider"),e("v-card",{staticClass:"mt-3",attrs:{flat:"",color:"transparent"}},[e("v-layout",{attrs:{"fill-height":"",row:""}},[e("v-flex",{staticClass:"text-xs-center headline",staticStyle:{"border-left":"1px solid #dedede","border-bottom":"1px solid #dcdcdc","border-top":"1px solid #dcdcdc"},attrs:{xs2:"","pa-2":""}}),t._l(t.options.entities,(function(i,s){return e("v-flex",{key:s,class:t.cellClass+" text-xs-center",style:`\n                    min-height:3em; \n                    border-left:1px solid #dedede; \n                    border-bottom:1px solid #dcdcdc;  \n                    border-top:1px solid #dcdcdc;\n                    ${s==t.options.entities.length-1?"border-right: 1px solid #dcdcdc !important;":""}\n                  `},[e("span",{staticClass:"caption"},[t._v(t._s(i.title))])])}))],2),t._l(t.options.entities,(function(i,s){return e("v-layout",{key:s,attrs:{"fill-height":"",row:""}},[e("v-flex",{staticClass:"caption",staticStyle:{"border-left":"1px solid #dcdcdc","border-bottom":"1px solid #dcdcdc"},attrs:{xs2:"","pa-2":"","align-center":""}},[t._v("\n                "+t._s(i.title)+"\n              ")]),t._l(t.options.entities,(function(a,o){return e("v-flex",{key:o,class:t.cellClass+" text-xs-center",style:`\n                  min-height:3em; \n                  border-left: 1px solid #dcdcdc;\n                  border-bottom:1px solid #dcdcdc; \n                  ${o<t.options.entities.length-1?"":"border-right: 1px solid #dcdcdc !important;"}\n                `,attrs:{"align-center":""}},[o>s?e("v-layout",{staticStyle:{height:"100%"},attrs:{"align-center":""}},[e("v-flex",{staticClass:"text-xs-center body-2"},[t.getChartOptions(i,a)?e("echart",{attrs:{options:t.getChartOptions(i,a),height:t.height}}):t._e()],1)],1):t._e(),e("v-layout",{staticStyle:{height:"100%"}})],1)}))],2)}))],2)],1)],1)],1)],1):e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"secondary ligten-2"}})],1)],1)},a=[],o=i("2ef0"),n=i("c555"),l=i("4e14"),r=i("1d99"),c=i("6633"),p=i("c165"),h=i("d502"),d={mixins:[n["a"],l["a"],c["a"]],props:["config","options","stat"],components:{"dj-list":h["a"],"palette-picker":r["a"]},methods:{generateScaleStyle(){this.options.scale&&this.options.palette.color&&(this.options.scale.length>0&&this.options.palette.color.length>0&&this.options.scale.forEach(t=>{t.color=p["a"].color(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light),t.background=p["a"].background(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light),t.style=`color: ${p["a"].color(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light)} !important;background: ${p["a"].background(this.options.scale,t.value,this.options.palette,this.$vuetify.theme.themes.light)} !important;`}),this.options.undefinedValue={style:`color: ${p["a"].color(this.options.scale,null,this.options.palette,this.$vuetify.theme.themes.light)} !important;background: ${p["a"].background(this.options.scale,null,this.options.palette,this.$vuetify.theme.themes.light)} !important;`})},onChangeEntities(t){this.options.entities=t.map(t=>(t.id=t.id?t.id:this.randomName(),t)),this.$emit("update:options",this.options)},onChangePalette(t){this.options.palette=t,this.$nextTick(()=>{this.generateScaleStyle(),this.$nextTick(()=>{this.$emit("update:options",this.options)})})},onChange(){this.$emit("update:options",this.options)},onSetOptions(){this.generateScaleStyle()},generateScale(t){if(t!=this.options.scale.length){let e=[];for(let i=0;i<t;i++)e.push({value:i+1});this.options.scale=e,this.generateScaleStyle(),this.onChange()}},getChartOptions(t,e){let i=Object(o["find"])(this.statOptions,i=>i.e1.id==t.id&&i.e2.id==e.id);return i?i.chartOptions:null},calculateStat(){if(!this.options)return{};if(!this.options.entities)return{};let t=this.stat.responses.filter(t=>t),e=[];t.forEach(t=>{e=e.concat(t)});let i=[];return this.options.entities.forEach(t=>{this.options.entities.forEach(s=>{i.push({e1:t,e2:s,values:e.filter(e=>e.e1==t.id&&e.e2==s.id&&e.value&&Object(o["find"])(this.options.scale,t=>t.value==e.value)).map(t=>t.value)})})}),i=i.filter(t=>t.values.length>0),i.forEach(t=>{let e=Object(o["countBy"])(t.values);t.data=this.options.scale.map(t=>({title:t.value,value:e[t.value]?e[t.value]:0}))}),i.forEach(t=>{t.chartOptions={color:[this.$vuetify.theme.themes.light.primary],angleAxis:{type:"category",data:this.options.scale.map(t=>t.value),axisLabel:{margin:2,fontSize:8,fontWeight:"bold",color:this.$vuetify.theme.themes.light.secondary}},radiusAxis:{splitNumber:1,axisLine:{show:!1},axisLabel:{show:!1}},polar:{},series:[{type:"bar",itemStyle:{opacity:.5},data:t.data.map(t=>t.value),coordinateSystem:"polar"}]}}),this.height=150,i}},computed:{cellClass(){let t=Math.trunc(10/this.options.entities.length);return t=t>3?3:t,"xs"+t},max:{get(){return this.options.scale.length},set(t){this.generateScale(t)}}},data:()=>({active:null,height:null}),mounted(){this.$emit("init")}},u=d,v=i("2877"),m=i("fef8"),f=i.n(m),b=i("b0af"),g=i("a523"),x=i("ce7e"),y=i("0e8f"),k=i("a722"),$=i("490a"),w=i("b974"),S=i("b73d"),C=i("71a3"),V=i("c671"),_=i("fe57"),E=i("8654"),O=i("a844"),T=Object(v["a"])(u,s,a,!1,null,null,null);e["default"]=T.exports;f()(T,{VCard:b["a"],VContainer:g["a"],VDivider:x["a"],VFlex:y["a"],VLayout:k["a"],VProgressCircular:$["a"],VSelect:w["a"],VSwitch:S["a"],VTab:C["a"],VTabItem:V["a"],VTabs:_["a"],VTextField:E["a"],VTextarea:O["a"]})}}]);
//# sourceMappingURL=chunk-2d0e5ed9.14b7c182.js.map