{"version":3,"sources":["webpack:///./src/components/widgets/question/parts/design/q-influence-design.vue?1d4c","webpack:///src/components/widgets/question/parts/design/q-influence-design.vue","webpack:///./src/components/widgets/question/parts/design/q-influence-design.vue?9079","webpack:///./src/components/widgets/question/parts/design/q-influence-design.vue"],"names":["render","_vm","this","_c","_self","options","model","value","callback","$$v","active","expression","key","attrs","_v","staticClass","on","$event","$emit","$set","factors","onChangeFactors","effects","onChangeEffects","generateScale","max","_l","s","scaleIndex","palette","onChangePalette","staticStyle","e","idx","class","cellClass","style","length","_s","title","f","index1","index2","onSetValue","getChartOptions","height","_e","staticRenderFns","mixins","props","components","methods","scale","color","forEach","v","$vuetify","theme","themes","light","background","undefinedValue","items","map","d","id","randomName","$nextTick","generateScaleStyle","newScale","i","push","onChange","factor","effect","statOptions","chartOptions","stat","responses","filter","a","stats","item","concat","r","values","e1","e2","c","data","primary","angleAxis","type","axisLabel","margin","fontSize","fontWeight","secondary","radiusAxis","splitNumber","axisLine","show","polar","series","itemStyle","opacity","coordinateSystem","computed","width","Math","trunc","component","VCard","VCol","VContainer","VDivider","VFlex","VLayout","VProgressCircular","VRow","VSelect","VSwitch","VTab","VTabItem","VTabs","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-2d0ab545.3dbc4077.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.options)?_c('div',{staticClass:\"text-xs-center\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"secondary ligten-2\"}})],1):_c('v-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('v-tab',{key:\"general\",attrs:{\"ripple\":\"\"}},[_vm._v(\"General\")]),_c('v-tab',{key:\"fe\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Factors & Effects\")]),_c('v-tab',{key:\"scale\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Scale\")]),_c('v-tab',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Statistic\")]),_c('v-tab-item',{key:\"general\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('h3',{staticClass:\"headline\"},[_vm._v(\"Influence\")]),_c('v-switch',{attrs:{\"hint\":(_vm.options.required) ? 'All constraints will be checked' : 'Response validation will be disabled',\"persistent-hint\":\"\",\"label\":\"Required\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.required),callback:function ($$v) {_vm.$set(_vm.options, \"required\", $$v)},expression:\"options.required\"}}),_c('v-divider'),_c('v-textarea',{attrs:{\"label\":\"Question\"},model:{value:(_vm.options.title),callback:function ($$v) {_vm.$set(_vm.options, \"title\", $$v)},expression:\"options.title\"}}),_c('v-textarea',{attrs:{\"label\":\"Note\"},model:{value:(_vm.options.note),callback:function ($$v) {_vm.$set(_vm.options, \"note\", $$v)},expression:\"options.note\"}})],1)],1)],1),_c('v-tab-item',{key:\"fe\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-row',{staticClass:\"mx-0 pa-3\"},[_c('v-col',{staticClass:\"mx-0 pa-3\",attrs:{\"cols\":\"6\"}},[_c('dj-list',{attrs:{\"items\":_vm.options.factors,\"itemField\":\"title\",\"title\":\"Factors\",\"label\":\"Enter factors\",\"draggable\":\"\"},on:{\"update\":_vm.onChangeFactors}})],1),_c('v-col',{staticClass:\"mx-0 pa-3\",attrs:{\"cols\":\"6\"}},[_c('dj-list',{attrs:{\"items\":_vm.options.effects,\"itemField\":\"title\",\"title\":\"Effects\",\"label\":\"Enter effects\",\"draggable\":\"\"},on:{\"update\":_vm.onChangeEffects}})],1)],1)],1)],1),_c('v-tab-item',{key:\"scale\",attrs:{\"ripple\":\"\"}},[_c('v-card',{staticClass:\"mx-0 pa-3\",attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-select',{attrs:{\"items\":[3,5,7,9],\"label\":\"Maximum rate value\"},on:{\"change\":_vm.generateScale},model:{value:(_vm.max),callback:function ($$v) {_vm.max=$$v},expression:\"max\"}}),_vm._l((_vm.options.scale),function(s,scaleIndex){return _c('v-layout',{key:scaleIndex,attrs:{\"row\":\"\"}},[_c('v-text-field',{attrs:{\"label\":`${s.value} title`},on:{\"input\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(s.title),callback:function ($$v) {_vm.$set(s, \"title\", $$v)},expression:\"s.title\"}})],1)}),_c('v-divider'),_c('v-switch',{attrs:{\"label\":\"Show value\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showValue),callback:function ($$v) {_vm.$set(_vm.options, \"showValue\", $$v)},expression:\"options.showValue\"}}),_c('v-divider'),_c('v-switch',{attrs:{\"label\":\"Show title\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showTitle),callback:function ($$v) {_vm.$set(_vm.options, \"showTitle\", $$v)},expression:\"options.showTitle\"}}),_c('v-divider'),_c('palette-picker',{attrs:{\"value\":_vm.options.palette},on:{\"change\":_vm.onChangePalette}})],2)],1)],1),_c('v-tab-item',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_c('v-card',{staticClass:\"mx-0 pa-3\",attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-switch',{attrs:{\"hint\":(_vm.options.showResponsesStat) ? 'Show statistical distribution in production mode' : '',\"persistent-hint\":\"\",\"label\":\"Statistical hints\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showResponsesStat),callback:function ($$v) {_vm.$set(_vm.options, \"showResponsesStat\", $$v)},expression:\"options.showResponsesStat\"}}),_c('v-divider'),_c('v-card',{staticClass:\"mt-3\",attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-layout',{attrs:{\"fill-height\":\"\",\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center headline\",staticStyle:{\"border-left\":\"1px solid #dedede\",\"border-bottom\":\"1px solid #dcdcdc\",\"border-top\":\"1px solid #dcdcdc\"},attrs:{\"xs2\":\"\",\"pa-2\":\"\"}}),_vm._l((_vm.options.effects),function(e,idx){return _c('v-flex',{key:idx,class:`${_vm.cellClass} text-xs-center`,style:(`\n                    min-height:3em; \n                    border-left:1px solid #dedede; \n                    border-bottom:1px solid #dcdcdc;  \n                    border-top:1px solid #dcdcdc;\n                    ${ (idx == (_vm.options.effects.length-1)) ? 'border-right: 1px solid #dcdcdc !important;' : ''}\n                  `)},[_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(e.title))])])})],2),_vm._l((_vm.options.factors),function(f,index1){return _c('v-layout',{key:index1,attrs:{\"fill-height\":\"\",\"row\":\"\"}},[_c('v-flex',{staticClass:\"caption\",staticStyle:{\"border-left\":\"1px solid #dcdcdc\",\"border-bottom\":\"1px solid #dcdcdc\"},attrs:{\"xs2\":\"\",\"pa-2\":\"\",\"align-center\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(f.title)+\"\\n              \")]),_vm._l((_vm.options.effects),function(e,index2){return _c('v-flex',{key:index2,class:`${_vm.cellClass} text-xs-center`,style:(`\n                  min-height:3em; \n                  border-left: 1px solid #dcdcdc;\n                  border-bottom:1px solid #dcdcdc; \n                  ${ (index2 < (_vm.options.effects.length-1)) ? '' :'border-right: 1px solid #dcdcdc !important;'}\n                `),attrs:{\"align-center\":\"\"}},[_c('v-layout',{staticStyle:{\"height\":\"100%\"},attrs:{\"align-center\":\"\"},on:{\"click\":function($event){return _vm.onSetValue($event,f,e)}}},[_c('v-flex',{staticClass:\"text-xs-center body-2\"},[(_vm.getChartOptions(f,e))?_c('echart',{attrs:{\"options\":_vm.getChartOptions(f,e),\"height\":_vm.height}}):_vm._e()],1)],1),_c('v-layout',{staticStyle:{\"height\":\"100%\"}})],1)})],2)})],2)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"!options\" class=\"text-xs-center\">\r\n      <v-progress-circular indeterminate color=\"secondary ligten-2\"></v-progress-circular>\r\n    </div>\r\n    <v-tabs v-else v-model=\"active\">\r\n      <v-tab key=\"general\" ripple>General</v-tab>\r\n      <v-tab key=\"fe\" ripple>Factors & Effects</v-tab>\r\n      <v-tab key=\"scale\" ripple>Scale</v-tab>\r\n      <v-tab key=\"statistic\" ripple>Statistic</v-tab>\r\n      <v-tab-item key=\"general\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <h3 class=\"headline\">Influence</h3>\r\n            <v-switch :hint=\"(options.required) ? 'All constraints will be checked' : 'Response validation will be disabled'\" persistent-hint label=\"Required\" v-model=\"options.required\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-textarea v-model=\"options.title\" label=\"Question\"></v-textarea>\r\n            <v-textarea v-model=\"options.note\" label=\"Note\"></v-textarea>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"fe\" ripple>\r\n        <v-card flat>\r\n            <v-row class=\"mx-0 pa-3\">\r\n              <v-col cols=\"6\" class=\"mx-0 pa-3\">\r\n               <dj-list \r\n                  :items=\"options.factors\"\r\n                  itemField=\"title\" \r\n                  title=\"Factors\"\r\n                  label=\"Enter factors\"  \r\n                  @update=\"onChangeFactors\"\r\n                  draggable\r\n                ></dj-list>\r\n\r\n                <!-- <dj-list :list=\"options.factors\" title=\"factor\" @update=\"onChangeFactors\"></dj-list> -->\r\n              </v-col>\r\n              <v-col cols=\"6\" class=\"mx-0 pa-3\">\r\n                <dj-list \r\n                  :items=\"options.effects\"\r\n                  itemField=\"title\" \r\n                  title=\"Effects\"\r\n                  label=\"Enter effects\"  \r\n                  @update=\"onChangeEffects\"\r\n                  draggable\r\n                ></dj-list>\r\n\r\n                <!-- <dj-list :list=\"options.effects\" title=\"effect\" @update=\"onChangeEffects\"></dj-list> -->\r\n              </v-col>\r\n            </v-row>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"scale\" ripple>\r\n        <v-card flat class=\"mx-0 pa-3\">\r\n          <v-container>\r\n            <v-select :items=\"[3,5,7,9]\" label=\"Maximum rate value\" v-model=\"max\" @change=\"generateScale\">\r\n            </v-select>\r\n            <v-layout row v-for=\"(s, scaleIndex) in options.scale\" :key=\"scaleIndex\">\r\n              <v-text-field :label=\"`${s.value} title`\" v-model=\"s.title\" @input=\"$emit('update:options',options)\"></v-text-field>\r\n            </v-layout>\r\n            <v-divider></v-divider>\r\n            <v-switch label=\"Show value\" v-model=\"options.showValue\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-switch label=\"Show title\" v-model=\"options.showTitle\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <palette-picker :value=\"options.palette\" @change=\"onChangePalette\"></palette-picker>\r\n           \r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"statistic\" ripple>\r\n        <v-card flat class=\"mx-0 pa-3\">\r\n          <v-container>\r\n            <v-switch :hint=\"(options.showResponsesStat) ? 'Show statistical distribution in production mode' : ''\" persistent-hint label=\"Statistical hints\" v-model=\"options.showResponsesStat\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-card flat color=\"transparent\" class=\"mt-3\">\r\n              <v-layout fill-height row>\r\n                <v-flex xs2 pa-2 class=\"text-xs-center headline\" style=\"border-left:1px solid #dedede; border-bottom:1px solid #dcdcdc;  border-top:1px solid #dcdcdc;\">\r\n                </v-flex>\r\n                <v-flex v-for=\"(e, idx) in options.effects\" :key=\"idx\" :class=\"`${cellClass} text-xs-center`\" :style=\"`\r\n                      min-height:3em; \r\n                      border-left:1px solid #dedede; \r\n                      border-bottom:1px solid #dcdcdc;  \r\n                      border-top:1px solid #dcdcdc;\r\n                      ${ (idx == (options.effects.length-1)) ? 'border-right: 1px solid #dcdcdc !important;' : ''}\r\n                    `\">\r\n                  <span class=\"caption\">{{e.title}}</span>\r\n                </v-flex>\r\n              </v-layout>\r\n              <v-layout fill-height row v-for=\"(f, index1) in options.factors\" :key=\"index1\">\r\n                <v-flex xs2 pa-2 class=\"caption\" align-center style=\"border-left: 1px solid #dcdcdc;\r\n                    border-bottom:1px solid #dcdcdc; \">\r\n                  {{f.title}}\r\n                </v-flex>\r\n                <v-flex v-for=\"(e, index2) in options.effects\" :key=\"index2\" :class=\"`${cellClass} text-xs-center`\" :style=\"`\r\n                    min-height:3em; \r\n                    border-left: 1px solid #dcdcdc;\r\n                    border-bottom:1px solid #dcdcdc; \r\n                    ${ (index2 < (options.effects.length-1)) ? '' :'border-right: 1px solid #dcdcdc !important;'}\r\n                  `\" align-center>\r\n                  <v-layout align-center style=\"height:100%;\" @click=\"onSetValue($event,f,e)\">\r\n                    <v-flex class=\"text-xs-center body-2\">\r\n                      <echart v-if=\"getChartOptions(f,e)\" :options=\"getChartOptions(f,e)\" :height=\"height\"></echart>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                  <v-layout style=\"height:100%;\"></v-layout>\r\n                </v-flex>\r\n              </v-layout>\r\n            </v-card>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n    </v-tabs>\r\n    <!--  <pre>\r\n        {{JSON.stringify(options,null,\"\\t\")}}\r\n      </pre>   -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { find, countBy } from \"lodash\"\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport palettePicker from \"@/components/core/ext/palette-picker.vue\"\r\nimport statMixin from \"../mixins/statistic.mixin.js\"\r\nimport colorUtility from \"../../color-utility.js\"\r\nimport djKeyValue from \"@/components/core/ext/dj-field-editor.vue\"\r\n\r\nexport default {\r\n\r\n  mixins: [djvueMixin, listenerMixin, statMixin],\r\n\r\n  props: [\"config\", \"options\", \"stat\"],\r\n\r\n  components: {\r\n    \"dj-list\": djKeyValue,\r\n    \"palette-picker\": palettePicker\r\n  },\r\n\r\n  methods: {\r\n\r\n    generateScaleStyle() {\r\n\r\n      if (!this.options.scale || !this.options.palette.color) return\r\n      if (this.options.scale.length > 0 && this.options.palette.color.length > 0) {\r\n        this.options.scale.forEach(v => {\r\n          v.color = colorUtility.color(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)\r\n          v.background = colorUtility.background(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)\r\n          v.style = `color: ${colorUtility.color(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)} !important;` +\r\n            `background: ${colorUtility.background(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)} !important;`\r\n        })\r\n      }\r\n\r\n      this.options.undefinedValue = {\r\n        style: `color: ${colorUtility.color(this.options.scale, null, this.options.palette, this.$vuetify.theme.themes.light)} !important;` +\r\n          `background: ${colorUtility.background(this.options.scale, null, this.options.palette, this.$vuetify.theme.themes.light)} !important;`\r\n      }\r\n    },\r\n\r\n\r\n\r\n    onChangeFactors(items) {\r\n      this.options.factors = items.map( d => {\r\n        d.id = (d.id) ? d.id : this.randomName()\r\n        return d\r\n      })\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    onChangeEffects(items) {\r\n      this.options.effects = items.map( d => {\r\n        d.id = (d.id) ? d.id : this.randomName()\r\n        return d\r\n      })\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    onChangePalette(palette) {\r\n      this.options.palette = palette\r\n      this.$nextTick(() => {\r\n        // console.log(\"CHANGE PALETTE\")\r\n        this.generateScaleStyle()\r\n        this.$nextTick(() => { this.$emit(\"update:options\", this.options) })\r\n      })\r\n    },\r\n\r\n    onChange() {\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    onSetOptions(){\r\n      // console.log(\"onSetOptions\")\r\n      this.generateScaleStyle()\r\n    },\r\n\r\n    generateScale(value) {\r\n      if (value != this.options.scale.length) {\r\n        let newScale = [];\r\n\r\n        for (let i = 0; i < value; i++) {\r\n          newScale.push({ value: i + 1 })\r\n        }\r\n        this.options.scale = newScale\r\n        this.generateScaleStyle()\r\n        this.onChange()\r\n      }\r\n    },\r\n\r\n    getChartOptions(factor, effect) {\r\n      let f = find(this.statOptions, s => s.factor.id == factor.id && s.effect.id == effect.id)\r\n      if (f) return f.chartOptions\r\n      return null\r\n    },\r\n\r\n    calculateStat() {\r\n      if (!this.options) return {}\r\n      \r\n      if (!this.options.effects || !this.options.factors) return {}\r\n\r\n      let s = this.stat.responses.filter(a => a)\r\n\r\n      let stats = []\r\n      s.forEach(item => {\r\n        stats = stats.concat(item)\r\n      })\r\n\r\n      let r = []\r\n\r\n      this.options.factors.forEach(f => {\r\n        this.options.effects.forEach(e => {\r\n          r.push({\r\n            factor: f,\r\n            effect: e,\r\n            values: stats\r\n              .filter(s => s.e1 == f.id && s.e2 == e.id && s.value && find(this.options.scale, v => v.value == s.value))\r\n              .map(s => s.value)\r\n          })\r\n        })\r\n      })\r\n\r\n      r = r.filter(s => s.values.length > 0)\r\n\r\n      r.forEach(s => {\r\n        let c = countBy(s.values);\r\n        s.data = this.options.scale.map(v => ({\r\n          title: v.value,\r\n          value: (c[v.value]) ? c[v.value] : 0\r\n        }))\r\n      })\r\n\r\n      // r.forEach(s => {\r\n      //   s.chartOptions = {\r\n\r\n      //     tooltip: {\r\n      //       trigger: 'item',\r\n      //       formatter: \"{a} <br/>{b}: {c} ({d}%)\"\r\n      //     },\r\n\r\n      //     color: this.options.scale.map(v => v.background),\r\n      //     series: [{\r\n      //       type: 'pie',\r\n\r\n      //       name: `${s.factor.title} => ${s.effect.title}`,\r\n      //       radius: ['5%', '25%'],\r\n      //       data: s.data.map(d => ({ name: d.title, value: d.value }))\r\n      //     }]\r\n      //   }\r\n      // })\r\n\r\n\r\n\r\n      r.forEach(s => {\r\n        s.chartOptions = {\r\n          color: [this.$vuetify.theme.themes.light.primary],\r\n          angleAxis: {\r\n            type: 'category',\r\n            data: this.options.scale.map(d => d.value),\r\n            axisLabel: {\r\n              margin: 2,\r\n              fontSize: 8,\r\n              fontWeight: \"bold\",\r\n              color: this.$vuetify.theme.themes.light.secondary\r\n            }\r\n          },\r\n          radiusAxis: {\r\n            splitNumber: 1,\r\n            axisLine: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              show: false\r\n            }\r\n          },\r\n          polar: {},\r\n          series: [{\r\n            type: 'bar',\r\n            itemStyle: {\r\n              opacity: 0.5\r\n            },\r\n            data: s.data.map(d => d.value),\r\n            coordinateSystem: 'polar'\r\n          }]\r\n        }\r\n      })\r\n\r\n\r\n      this.height = 150;\r\n\r\n      return r\r\n\r\n    }\r\n\r\n  },\r\n\r\n  computed: {\r\n\r\n    cellClass() {\r\n      let width = Math.trunc(10 / this.options.effects.length);\r\n      width = (width > 3) ? 3 : width;\r\n      return `xs${width}`\r\n    },\r\n\r\n    max: {\r\n      get() {\r\n        return this.options.scale.length\r\n      },\r\n      set(value) {\r\n        this.generateScale(value)\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  data: () => ({\r\n    active: null,\r\n    height: null\r\n  }),\r\n\r\n\r\n  mounted() { this.$emit(\"init\") }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-influence-design.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-influence-design.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./q-influence-design.vue?vue&type=template&id=54870522&\"\nimport script from \"./q-influence-design.vue?vue&type=script&lang=js&\"\nexport * from \"./q-influence-design.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCard,VCol,VContainer,VDivider,VFlex,VLayout,VProgressCircular,VRow,VSelect,VSwitch,VTab,VTabItem,VTabs,VTextField,VTextarea})\n"],"sourceRoot":""}