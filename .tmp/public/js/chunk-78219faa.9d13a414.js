(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78219faa"],{"1ead":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-row",{staticClass:"mx-0"},[e("v-combobox",{attrs:{label:"Default App",items:t.apps,dense:""},scopedSlots:t._u([{key:"selection",fn:function({index:i,item:s}){return[e("v-row",{staticClass:"mx-0 pa-0"},[e("v-col",{staticClass:"pa-0",attrs:{cols:"1"}},[e("v-avatar",{attrs:{size:"24"}},[e("dj-img",{attrs:{src:s.icon,icon:"mdi-application"}})],1)],1),e("v-col",{staticClass:"py-0 mx-2 pl-5"},[e("div",{staticClass:"subtitle-2"},[t._v(t._s(s.name))])])],1)]}},{key:"item",fn:function({index:i,item:s}){return[e("v-row",{staticClass:"mx-0 pa-0"},[e("v-col",{staticClass:"pa-0",attrs:{cols:"1"}},[e("v-avatar",{attrs:{size:"24"}},[e("dj-img",{attrs:{src:s.icon,icon:"mdi-application"}})],1)],1),e("v-col",{staticClass:"py-0 mx-2 pl-5"},[e("div",{staticClass:"subtitle-2"},[t._v(t._s(s.name))])])],1)]}}]),model:{value:t.defaultApp,callback:function(e){t.defaultApp=e},expression:"defaultApp"}})],1),e("v-row",{staticClass:"mx-0"},[e("v-text-field",{attrs:{label:"JACE Pub Service"},model:{value:t.devServiceConfig.pubService,callback:function(e){t.$set(t.devServiceConfig,"pubService",e)},expression:"devServiceConfig.pubService"}})],1),e("dj-list",{staticClass:"pt-5",attrs:{items:t.admins,itemKey:"email",title:"JACE Dev Service Administrators"},on:{select:t.onSelectAmins},scopedSlots:t._u([{key:"menu",fn:function(){return[e("v-btn",{attrs:{icon:"",small:"",color:"primary--text",disabled:0==t.admins_selection.length},on:{click:function(e){return t.removeAdminGrants()}}},[e("v-icon",{staticClass:"primary--text"},[t._v("mdi-trash-can-outline")])],1)]},proxy:!0},{key:"no-data",fn:function(){return[e("span",{staticClass:"title warning--text font-weight-light"},[t._v("Predefined Administrators only.")])]},proxy:!0},{key:"item",fn:function({item:i}){return[e("v-row",{staticClass:"mx-0 pa-0"},[e("v-col",{staticClass:"pa-0",attrs:{cols:"1"}},[e("v-avatar",[e("dj-img",{attrs:{src:i.photo,icon:i.icon?i.icon:"mdi-account"}})],1)],1),e("v-col",{staticClass:"py-0 mx-2 pl-5"},[e("div",{staticClass:"subtitle-2"},[t._v(t._s(i.name))]),e("div",{staticClass:"caption"},[t._v(t._s(i.email))])])],1)]}},{key:"input",fn:function(){return[e("v-combobox",{attrs:{label:"Select User",items:t.pretendents,dense:""},on:{change:t.setAdminGrant},scopedSlots:t._u([{key:"item",fn:function({index:i,item:s}){return[e("v-row",{staticClass:"mx-0 pa-0"},[e("v-col",{staticClass:"pa-0",attrs:{cols:"1"}},[e("v-avatar",[e("dj-img",{attrs:{src:s.photo,icon:s.icon?s.icon:"mdi-account"}})],1)],1),e("v-col",{staticClass:"py-0 mx-2 pl-5"},[e("div",{staticClass:"subtitle-2"},[t._v(t._s(s.name))]),e("div",{staticClass:"caption"},[t._v(t._s(s.email))])])],1)]}}]),model:{value:t.pretendent,callback:function(e){t.pretendent=e},expression:"pretendent"}},[e("template",{slot:"selection"},[t._v(t._s(t.pretendents.length>0?"Select User":"No available users"))])],2)]},proxy:!0}])}),e("v-row",{staticClass:"mx-0"},[e("v-spacer"),e("v-btn",{staticClass:"primary--text",attrs:{text:"",disabled:t.loading},on:{click:function(e){return t.saveDevServiceConfig()}}},[t._v("Save Dev Service Settings")])],1)],1)},n=[],a=i("c555"),l=i("8a23"),o=i("2ef0"),c=i("a3d5");let r={en:{Application_settings:"Application settings"},uk:{Application_settings:"Налаштування застосунку"}};var d={name:"portal-config",props:["config"],mixins:[a["a"],l["a"]],components:{"dj-list":c["a"]},computed:{admins(){return this.users.filter(t=>t.isAdmin)},pretendents(){return this.users.filter(t=>!t.isAdmin)}},data(){return{i18n:r,users:[],apps:[],defaultApp:null,loading:!1,admins_selection:[],pretendent:null,headers:[{text:"Key",value:"key",class:"text-xs-left"},{text:"Value",value:"value",class:"text-xs-left"}],devServiceConfig:{}}},watch:{defaultApp(t){window.devService.config.defaultApp=t.name},"devServiceConfig.pubService"(t){window.devService.config.pubService=t}},methods:{onSelectAmins(t){this.admins_selection=t},setAdminGrant(t){t.isAdmin=!0,t.selected=!0,this.pretendent=null},removeAdminGrants(){this.admins_selection.forEach(t=>{t.selected=!1,t.isAdmin=!1})},saveDevServiceConfig(){this.loading=!0;let t=this.admins.concat(this.pretendents).map(t=>({email:t.email,value:t.isAdmin}));Promise.all(t.map(t=>this.$portal.post("/api/admin/set",t))).then(()=>this.$portal.post("api/app/config/set",window.devService)).then(()=>{this.loading=!1})}},created(){this.devServiceConfig=window.devService.config,this.$portal.get("/api/users/list").then(t=>{this.users=t.data.map(t=>(t.selected=!1,t))}),this.$portal.get("api/app/get-list").then(t=>{this.apps=t.data,this.defaultApp=Object(o["find"])(this.apps,t=>t.name==window.devService.config.defaultApp)})}},h=d,p=i("2877"),u=i("fef8"),m=i.n(u),v=i("8212"),g=i("8336"),f=i("62ad"),x=i("2b5d"),b=i("132d"),S=i("0fd9"),C=i("2fa4"),y=i("8654"),_=Object(p["a"])(h,s,n,!1,null,null,null);e["default"]=_.exports;m()(_,{VAvatar:v["a"],VBtn:g["a"],VCol:f["a"],VCombobox:x["a"],VIcon:b["a"],VRow:S["a"],VSpacer:C["a"],VTextField:y["a"]})},2751:function(t,e,i){},"2b5d":function(t,e,i){"use strict";i("2bfd");var s=i("b974"),n=i("c6a6"),a=i("80d2");e["a"]=n["a"].extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return s["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty(){return null!=this.internalSearch}},methods:{onInternalSearchChanged(t){if(t&&this.multiple&&this.delimiters.length){const e=this.delimiters.find(e=>t.endsWith(e));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const t=n["a"].options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection(t,e){const i=s["a"].options.methods.genChipSelection.call(this,t,e);return this.multiple&&(i.componentOptions.listeners={...i.componentOptions.listeners,dblclick:()=>{this.editingIndex=e,this.internalSearch=this.getText(t),this.selectedIndex=-1}}),i},onChipInput(t){s["a"].options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[a["z"].home,a["z"].end].includes(e)||s["a"].options.methods.onKeyDown.call(this,t),this.multiple&&e===a["z"].left&&0===this.$refs.input.selectionStart?this.updateSelf():e===a["z"].enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();n["a"].options.methods.onTabDown.call(this,t)},selectItem(t){this.editingIndex>-1?this.updateEditing():(n["a"].options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(t){s["a"].options.methods.setValue.call(this,void 0===t?this.internalSearch:t)},updateEditing(){const t=this.internalValue.slice(),e=this.selectedItems.findIndex(t=>this.getText(t)===this.internalSearch);if(e>-1){const i="object"===typeof t[e]?Object.assign({},t[e]):t[e];t.splice(e,1),t.push(i)}else t[this.editingIndex]=this.internalSearch;this.setValue(t),this.editingIndex=-1,this.internalSearch=null},updateCombobox(){if(!this.searchIsDirty)return;this.internalSearch!==this.getText(this.internalValue)&&this.setValue();const t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const t=this.getMenuIndex();if(t<0&&!this.searchIsDirty||!this.internalSearch)return;if(this.editingIndex>-1)return this.updateEditing();const e=this.selectedItems.findIndex(t=>this.internalSearch===this.getText(t)),i=e>-1&&"object"===typeof this.selectedItems[e]?Object.assign({},this.selectedItems[e]):this.internalSearch;if(e>-1){const t=this.internalValue.slice();t.splice(e,1),this.setValue(t)}if(t>-1)return this.internalSearch=null;this.selectItem(i),this.internalSearch=null},onPaste(t){var e;if(this.$emit("paste",t),!this.multiple||this.searchIsDirty)return;const i=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");i&&-1===this.findExistingIndex(i)&&(t.preventDefault(),s["a"].options.methods.selectItem.call(this,i))},clearableCallback(){this.editingIndex=-1,n["a"].options.methods.clearableCallback.call(this)}}})},"6ca7":function(t,e,i){},a3d5:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.items_?e("div",[e("v-col",{staticClass:"pa-0"},[e("v-row",{staticClass:"mx-0 px-2"},[e("div",{staticClass:"primary--text font-weight-light title"},[t._v(t._s(t.title))])]),0==t.items_.length?e("v-row",{staticClass:"d-flex justify-center py-3"},[t._t("no-data")],2):e("div",[t.draggable_?e("v-container",{attrs:{"mt-2":""}},[e("v-row",{staticStyle:{"border-bottom":"1px solid #dedede !important"}},[e("v-col",{staticClass:"py-1 px-5 mx-1",attrs:{cols:"2"}},[e("v-checkbox",{staticStyle:{margin:"0",padding:"0"},attrs:{color:"secondary lighten-3","hide-details":"",indeterminate:t.indeterminate},on:{change:function(e){return t.selectGroup()}},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}})],1),e("v-spacer"),t._t("menu")],2),e("draggable",{staticClass:"list-group",attrs:{element:"div",options:t.dragOptions,move:t.onMove},on:{start:t.onStartDrag,end:t.onEndDrag},model:{value:t.items_,callback:function(e){t.items_=e},expression:"items_"}},[e("transition-group",{attrs:{type:"transition",name:t.title,tag:"div"}},t._l(t.items_,(function(i){return e("v-row",{key:i[t.itemKey],staticClass:"list-group-item",staticStyle:{"padding-bottom":"0.5em","border-bottom":"1px solid #e0e0e0"}},[e("v-col",{staticClass:"py-1",staticStyle:{margin:"auto"},attrs:{cols:"2"}},[e("v-row",[e("v-icon",{staticClass:"handle"},[t._v("more_vert")]),e("v-checkbox",{staticStyle:{margin:"0",padding:"0"},attrs:{color:"secondary lighten-3","hide-details":""},on:{change:function(e){return t.select()}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}})],1)],1),e("v-col",{staticClass:"py-1"},[t._t("item",null,{item:i})],2)],1)})),1)],1)],1):e("v-container",{attrs:{"mt-2":""}},[e("v-row",{staticStyle:{"border-bottom":"1px solid #dedede !important"}},[e("v-col",{staticClass:"py-1 px-5 ml-3",attrs:{cols:"2"}},[e("v-checkbox",{staticStyle:{margin:"0",padding:"0"},attrs:{secondary:"","hide-details":"",indeterminate:t.indeterminate},on:{change:function(e){return t.selectGroup()}},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}})],1),e("v-spacer"),t._t("menu")],2),t._l(t.items_,(function(i){return e("div",{key:i[t.itemKey]},[e("v-row",{staticClass:"mx-0 px-2"},[e("v-col",{staticClass:"py-1",staticStyle:{margin:"auto"},attrs:{cols:"1"}},[e("v-checkbox",{staticStyle:{margin:"0",padding:"0"},attrs:{secondary:"","hide-details":""},on:{change:function(e){return t.select()}},model:{value:i.selected,callback:function(e){t.$set(i,"selected",e)},expression:"item.selected"}})],1),e("v-col",{staticClass:"py-1"},[t._t("item",null,{item:i})],2)],1),e("v-divider")],1)}))],2)],1)],1),e("v-row",{staticClass:"mx-0"},[t._t("input")],2)],1):t._e()},n=[],a=i("c555"),l=i("b76a"),o=i.n(l),c={mixins:[a["a"]],props:["title","items","itemKey","maxLength","fixedLength","draggable"],components:{draggable:o.a},computed:{indeterminate(){return!this.items_||0!=this.selection.length&&this.selection.length<this.items_.$Zlength},dragOptions(){return{animation:150,group:{name:this.title},ghostClass:"ghost",dragClass:"drag",handle:".handle"}}},methods:{onStartDrag(){this.isDragging=!0},onEndDrag(){this.isDragging=!1,this.$emit("update",this.items_)},onMove(){return!0},select(){this.selection=this.items_?this.items_.filter(t=>t.selected):[],this.$emit("select",this.selection)},selectGroup(){this.allSelected?this.items_.forEach(t=>{t.selected=!0}):this.items_.forEach(t=>{t.selected=!1}),this.select()}},data:()=>({selection:[],allSelected:!1,items_:[]}),watch:{items:{handler(t){t?setTimeout(()=>{this.items_=t.map(t=>t)},20):this.items_=[]},deep:!0},selection:{handler(t){this.allSelected=t.length==this.items_.length},deep:!0}},created(){this.draggable_=!(!this.draggable&&""!=this.draggable),this.maxLength_=this.maxLength&&""!=this.draggable?this.maxLength:Number.POSITIVE_INFINITY,this.items_=this.items.map(t=>t)}},r=c,d=(i("c902"),i("2877")),h=i("fef8"),p=i.n(h),u=i("ac7c"),m=i("62ad"),v=i("a523"),g=i("ce7e"),f=i("132d"),x=i("0fd9"),b=i("2fa4"),S=Object(d["a"])(r,s,n,!1,null,"1bc693be",null);e["a"]=S.exports;p()(S,{VCheckbox:u["a"],VCol:m["a"],VContainer:v["a"],VDivider:g["a"],VIcon:f["a"],VRow:x["a"],VSpacer:b["a"]})},a523:function(t,e,i){"use strict";i("20f6"),i("4b85");var s=i("e8f2"),n=i("d9f7");e["a"]=Object(s["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:s}){let a;const{attrs:l}=i;return l&&(i.attrs={},a=Object.keys(l).filter(t=>{if("slot"===t)return!1;const e=l[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,Object(n["a"])(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(a||[])}),s)}})},ac7c:function(t,e,i){"use strict";i("6ca7"),i("ec29");var s=i("9d26"),n=i("c37a"),a=i("fe09");e["a"]=a["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},c902:function(t,e,i){"use strict";i("2751")}}]);
//# sourceMappingURL=chunk-78219faa.9d13a414.js.map