{"version":3,"sources":["webpack:///./src/components/core/ext/dj-field-editor.vue?477e","webpack:///./src/components/core/ext/echart.vue?b856","webpack:///./src/components/core/ext/echart.vue?d5db","webpack:///src/components/core/ext/echart.vue","webpack:///./src/components/core/ext/echart.vue?b538","webpack:///./src/components/core/ext/echart.vue?e824","webpack:///./src/components/widgets/question/parts/mixins/statistic.mixin.js","webpack:///./node_modules/vuetify/lib/components/VDataTable/VEditDialog.js","webpack:///./src/components/widgets/question/parts/design/q-many-many-design.vue?d68d","webpack:///src/components/widgets/question/parts/design/q-many-many-design.vue","webpack:///./src/components/widgets/question/parts/design/q-many-many-design.vue?17d0","webpack:///./src/components/widgets/question/parts/design/q-many-many-design.vue","webpack:///./node_modules/vuetify/lib/components/VGrid/VContainer.js","webpack:///./node_modules/vuetify/lib/components/VCheckbox/VCheckbox.js","webpack:///./node_modules/vuetify/lib/components/VTabs/VTabItem.js","webpack:///./src/components/core/ext/dj-field-editor.vue?1e0f","webpack:///src/components/core/ext/dj-field-editor.vue","webpack:///./src/components/core/ext/dj-field-editor.vue?c044","webpack:///./src/components/core/ext/dj-field-editor.vue?f719"],"names":["render","_vm","this","_c","_self","staticClass","style","staticRenderFns","name","mixins","computed","height","methods","options","chart","echarts","$el","width","resizeHandler","clientWidth","resize","window","attachEvent","addEventListener","setTimeout","setOption","on","params","$emit","event","callback","rule","props","watch","handler","value","deep","initChart","detachEvent","removeEventListener","off","data","component","components","echart","length","toString","substring","statOptions","_temp","JSON","parse","stringify","emit","redrawStat","calculateStat","redraw","extend","cancelText","default","large","Boolean","eager","persistent","saveText","transition","type","String","isActive","val","focus","input","$refs","content","querySelector","fn","text","$createElement","color","light","click","class","genButton","cancel","save","returnValue","keydown","e","keyCode","esc","enter","ref","$slots","h","themeClasses","contentClass","origin","right","closeOnClick","closeOnContentClick","dark","scopedSlots","activator","genContent","genActions","model","$$v","active","expression","key","attrs","_v","$event","$set","_e","maxCustomResponses","staticStyle","directives","rawName","domProps","target","composing","nominals","onChangeNominals","max","min","items","map","d","id","randomName","s","stat","responses","filter","a","stats","forEach","item","concat","result","n","c","title","$vuetify","theme","themes","primary","grid","left","bottom","containLabel","xAxis","yAxis","series","itemStyle","opacity","r","truncate","reverse","VCard","VContainer","VDivider","VFlex","VInput","VLayout","VProgressCircular","VSwitch","VTab","VTabItem","VTabs","VTextarea","functional","tag","fluid","children","classes","Object","keys","startsWith","Array","indeterminate","indeterminateIcon","offIcon","onIcon","inputIndeterminate","call","isDisabled","hasError","shouldValidate","hasSuccess","hasColor","computedColor","$nextTick","checkboxAttrs","attrs$","setTextColor","validationState","dense","computedIcon","genInput","genRipple","rippleState","genCheckbox","genLabel","genWindowItem","_s","items_","reverseSelection","newItemTitle","addItem","selection","deleteItems","dragOptions","onMove","onStartDrag","onEndDrag","_l","$$dj_id","fixedLength_","select","$$dj_edited","onOpen","onSave","_u","$$dj_rules","proxy","label","$$dj_newItem_rules","maxLength_","indexOf","_k","apply","arguments","draggable","animation","group","ghostClass","dragClass","handle","isDragging","$$dj_data","insertedItems","split","trim","newItem","$djvue","$$itemField","push","selected","index","splice","$$dj_saveItem_rules","setValue","savedItem","editedItem","v","$$dj_required","res","length1","length2","delta","$$dj_unique","item$$dj_id","draggable_","fixedLength","required","unique","maxLength","Number","POSITIVE_INFINITY","itemField","prepareItems","requiredCallback","uniqueCallback","rules","uniqueNewItemCallback","uniqueSaveItemCallback","$on","source","VBtn","VCheckbox","VCol","VEditDialog","VIcon","VRow","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-b9bead7c.18f6e770.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--33-1!./dj-field-editor.vue?vue&type=style&index=0&id=7bc60d38&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=style&index=0&id=7d96c1a5&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"echart\",style:(_vm.style)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"echart\" :style=\"style\"></div>\r\n</template>\r\n<script>\r\n\r\nimport * as echarts from 'echarts'\r\n\r\n// import echarts from \"echarts/dist/echarts.esm\"//\"echarts/dist/echarts-en\"\r\n\r\n// import registerWordCloud from \"@/modules/echarts-wordcloud\"\r\n// registerWordCloud(echarts)\r\n\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\"\r\n\r\nexport default {\r\n\r\n  name: \"echart\",\r\n\r\n  mixins: [listenerMixin],\r\n\r\n  computed: {\r\n    style() {\r\n      return {\r\n        height: (this.height || 250) + \"px\"\r\n      }\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n    initChart(options){\r\n      \r\n      this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n      \r\n      this.resizeHandler = () => {\r\n        this.width = this.$el.clientWidth\r\n        this.chart.resize()\r\n      }  \r\n\r\n      if (window.attachEvent) {\r\n        window.attachEvent('onresize', this.resizeHandler);\r\n      } else {\r\n        window.addEventListener('resize', this.resizeHandler);\r\n      }\r\n\r\n      if (options) {\r\n       setTimeout(()=>{\r\n          this.chart.setOption(options)\r\n          this.chart.on('click', params => { \r\n            // console.log(\"echart component\", params)\r\n            this.$emit(\"chart-event\", params)\r\n          })\r\n\r\n        },10)  \r\n      }\r\n\r\n      this.on({\r\n        event: \"slide-start\",\r\n        callback: () => {\r\n          // console.log(this._uid, \"SLIDE START\",this.$el.clientWidth)\r\n         setTimeout(()=>{\r\n         // this.$nextTick(()=>{ \r\n            // console.log(\"Slide start\",this._uid)\r\n            // if(!this.chart && this.$el.clientWidth > 0){\r\n            //   this.initChart(this.options)\r\n            //   return\r\n            //   console.log(\"Create chart\", _uid)\r\n            //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n            // }\r\n            if (this.chart && this.options)\r\n              // console.log(\"Slide start\", this._uid, this.options) \r\n              this.chart.setOption(this.options, true)\r\n              this.chart.resize()\r\n              // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n          }, 10)   \r\n        },\r\n        rule: () => true\r\n      })\r\n\r\n     this.on({\r\n        event: \"update-dialog-view\",\r\n        callback: () => {\r\n          // console.log(this._uid, \"UPDATE-DIALOG-VIEW\")\r\n         setTimeout(()=>{\r\n         // this.$nextTick(()=>{ \r\n            // console.log(\"Slide start\",this._uid)\r\n            // if(!this.chart && this.$el.clientWidth > 0){\r\n            //   this.initChart(this.options)\r\n            //   return\r\n            //   console.log(\"Create chart\", _uid)\r\n            //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n            // }\r\n            if (this.chart && this.options)\r\n              // console.log(\"Slide start\", this._uid, this.options) \r\n              this.chart.setOption(this.options, true)\r\n              this.chart.resize()\r\n              // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n          }, 10)   \r\n        },\r\n        rule: () => true\r\n      })\r\n\r\n    }\r\n  },\r\n\r\n\r\n  props: [\"options\", \"height\"],\r\n\r\n  watch: {\r\n    options: {\r\n      handler: function(value) {\r\n\r\n        if (value) {\r\n          // // this.$nextTick(() => {\r\n          // if(!this.chart && this.$el.clientWidth > 0){\r\n          //   this.initChart()\r\n          //   return\r\n          //   // console.log(\"Create chart\")\r\n          //   // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n          // }\r\n          if (this.chart) {\r\n            setTimeout(()=>{\r\n              // console.log(\"set options\", this._uid, value)\r\n              this.chart.setOption(value, true)\r\n              this.chart.resize()\r\n            },10)\r\n            // this.chart.resize()\r\n          }  \r\n        // })\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n\r\n   \r\n    height(value) {\r\n      // this.$nextTick(() => {\r\n     // if(!this.chart && this.$el.clientWidth > 0){\r\n     //    this.initChart()\r\n     //    return\r\n     //    // console.log(\"Create chart\")\r\n     //    // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n     //  }\r\n      setTimeout(()=>{\r\n        this.chart.resize({\r\n          height: value\r\n        },10)\r\n      })\r\n      \r\n      // })\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n\r\n    // console.log(\"MOUNTED\", this)\r\n    \r\n    // if( this.$el.clientWidth > 0 ) {\r\n      this.initChart(this.options)  \r\n      // this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n      \r\n      // this.resizeHandler = () => {\r\n      //   this.width = this.$el.clientWidth\r\n      //   this.chart.resize()\r\n      // }  \r\n\r\n      // if (window.attachEvent) {\r\n      //   window.attachEvent('onresize', this.resizeHandler);\r\n      // } else {\r\n      //   window.addEventListener('resize', this.resizeHandler);\r\n      // }\r\n\r\n      // if (this.options) {\r\n      //   this.chart.setOption(this.options)\r\n      // }\r\n\r\n      // this.on({\r\n      //   event: \"slide-start\",\r\n      //   callback: () => {\r\n      //     // console.log(this._uid, \"SLIDE START\",this.$el.clientWidth)\r\n      //    setTimeout(()=>{\r\n      //    // this.$nextTick(()=>{ \r\n      //       // console.log(\"Slide start\",this.$el.clientWidth)\r\n      //       if(!this.chart && this.$el.clientWidth > 0){\r\n      //         // console.log(\"Create chart\")\r\n      //         this.chart = echarts.init(this.$el, null, { height: this.height,  width: \"auto\" })\r\n\r\n      //       }\r\n      //       if (this.chart && this.options) \r\n      //           this.chart.setOption(value, true)\r\n      //         // this.chart.resize()\r\n      //         // console.log(this._uid, \"RESIZE\",this.$el.clientWidth)\r\n      //     }, 10)   \r\n      //   },\r\n      //   rule: () => true\r\n      // })\r\n    // }  \r\n\r\n  },\r\n\r\n  beforeDestroy() {\r\n    if (window.attachEvent) {\r\n      window.detachEvent('onresize', this.resizeHandler);\r\n    } else {\r\n      window.removeEventListener('resize', this.resizeHandler, false);\r\n    }\r\n    this.off()\r\n  },\r\n\r\n\r\n  data: () => ({\r\n    chart: null,\r\n    resizeHandler: null\r\n  })\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.echart {\r\n  width: 100% !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./echart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./echart.vue?vue&type=template&id=7d96c1a5&scoped=true&\"\nimport script from \"./echart.vue?vue&type=script&lang=js&\"\nexport * from \"./echart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echart.vue?vue&type=style&index=0&id=7d96c1a5&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d96c1a5\",\n  null\n  \n)\n\nexport default component.exports","import echart from \"@/components/core/ext/echart.vue\";\r\n\r\nexport default {\r\n\r\n  components: { echart },\r\n\r\n  methods: {\r\n\r\n    truncate(value, length) {\r\n      length = length || 50;\r\n      return (value.toString().length <= length) ?\r\n        value.toString() :\r\n        ((value.toString().length - length) > 10) ?\r\n        value.toString().substring(0, length) + '...' :\r\n        value.toString()\r\n    },\r\n\r\n    redrawStat() {\r\n      // console.log(\"REDRAW\",this.config.id, this.statOptions)\r\n      if(this.statOptions){\r\n        let _temp = JSON.parse(JSON.stringify(this.statOptions))\r\n        this.statOptions = null;\r\n          setTimeout(() => {\r\n            this.statOptions = _temp\r\n            // this.statOptions.redraw = !this.statOptions.redraw\r\n          },1000)  \r\n      }\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n    active(value) { \r\n      // console.log(value)\r\n      if(value > 0) {\r\n        this.emit(\"form-get-stat\")\r\n        setTimeout(() => {\r\n          this.redrawStat()\r\n        }, 10)  \r\n      }\r\n    },\r\n\r\n    stat(){\r\n      // console.log(\"STAT\",this.config.id, this.stat)\r\n      this.statOptions = this.calculateStat()\r\n      this.statOptions.redraw = false\r\n      // this.redrawStat()\r\n    }\r\n\r\n  },\r\n\r\n  data: () => ({\r\n    statOptions: null\r\n  })\r\n\r\n  \r\n}\r\n","// Styles\nimport \"../../../src/components/VDataTable/VEditDialog.sass\"; // Mixins\n\nimport Returnable from '../../mixins/returnable';\nimport Themeable from '../../mixins/themeable'; // Utils\n\nimport { keyCodes } from '../../util/helpers'; // Component\n\nimport VBtn from '../VBtn';\nimport VMenu from '../VMenu';\nimport mixins from '../../util/mixins';\n/* @vue/component */\n\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n  props: {\n    cancelText: {\n      default: 'Cancel'\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save'\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition'\n    }\n  },\n\n  data() {\n    return {\n      isActive: false\n    };\n  },\n\n  watch: {\n    isActive(val) {\n      if (val) {\n        this.$emit('open');\n        setTimeout(this.focus, 50); // Give DOM time to paint\n      } else {\n        this.$emit('close');\n      }\n    }\n\n  },\n  methods: {\n    cancel() {\n      this.isActive = false;\n      this.$emit('cancel');\n    },\n\n    focus() {\n      const input = this.$refs.content.querySelector('input');\n      input && input.focus();\n    },\n\n    genButton(fn, text) {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true\n        },\n        on: {\n          click: fn\n        }\n      }, text);\n    },\n\n    genActions() {\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions'\n      }, [this.genButton(this.cancel, this.cancelText), this.genButton(() => {\n        this.save(this.returnValue);\n        this.$emit('save');\n      }, this.saveText)]);\n    },\n\n    genContent() {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: e => {\n            e.keyCode === keyCodes.esc && this.cancel();\n\n            if (e.keyCode === keyCodes.enter) {\n              this.save(this.returnValue);\n              this.$emit('save');\n            }\n          }\n        },\n        ref: 'content'\n      }, [this.$slots.input]);\n    }\n\n  },\n\n  render(h) {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark\n      },\n      on: {\n        input: val => this.isActive = val\n      },\n      scopedSlots: {\n        activator: ({\n          on\n        }) => {\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on\n          }, [h('span', {\n            staticClass: 'v-small-dialog__activator__content'\n          }, this.$slots.default)]);\n        }\n      }\n    }, [this.genContent(), this.large ? this.genActions() : null]);\n  }\n\n});\n//# sourceMappingURL=VEditDialog.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.options)?_c('div',{staticClass:\"text-xs-center\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"secondary ligten-2\"}})],1):_c('v-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('v-tab',{key:\"general\",attrs:{\"ripple\":\"\"}},[_vm._v(\"General\")]),_c('v-tab',{key:\"alt\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Alternatives\")]),_c('v-tab',{key:\"rules\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Rules\")]),_c('v-tab',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Statistic\")]),_c('v-tab-item',{key:\"general\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('h3',{staticClass:\"headline\"},[_vm._v(\"Many of many selection\")]),_c('v-switch',{attrs:{\"hint\":(_vm.options.required) ? 'All constraints will be checked' : 'Response validation will be disabled',\"persistent-hint\":\"\",\"label\":\"Required\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.required),callback:function ($$v) {_vm.$set(_vm.options, \"required\", $$v)},expression:\"options.required\"}}),_c('v-divider'),_c('v-textarea',{attrs:{\"label\":\"Question\"},model:{value:(_vm.options.title),callback:function ($$v) {_vm.$set(_vm.options, \"title\", $$v)},expression:\"options.title\"}}),_c('v-textarea',{attrs:{\"label\":\"Note\"},model:{value:(_vm.options.note),callback:function ($$v) {_vm.$set(_vm.options, \"note\", $$v)},expression:\"options.note\"}})],1)],1)],1),_c('v-tab-item',{key:\"alt\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\",\"pl-3\":\"\"}},[_c('v-switch',{attrs:{\"hint\":(_vm.options.addEnabled) ? 'Respondent can add new variants' : '',\"persistent-hint\":\"\",\"label\":\"Custom response\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.addEnabled),callback:function ($$v) {_vm.$set(_vm.options, \"addEnabled\", $$v)},expression:\"options.addEnabled\"}}),(_vm.options.addEnabled)?_c('v-divider'):_vm._e(),(_vm.options.addEnabled)?_c('v-input',{staticClass:\"mt-3\",attrs:{\"label\":\"Max count of custom responses\",\"persistent-hint\":\"\",\"hint\":`Respondent can add max ${_vm.options.maxCustomResponses} responses`}},[_c('div',{staticStyle:{\"padding\":\"0 0 0 1em\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.maxCustomResponses),expression:\"options.maxCustomResponses\"}],staticStyle:{\"border\":\"1px solid #e0e0e0\"},attrs:{\"type\":\"number\",\"min\":1},domProps:{\"value\":(_vm.options.maxCustomResponses)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.options, \"maxCustomResponses\", $event.target.value)},function($event){return _vm.$emit('update:options', _vm.options)}]}})])]):_vm._e(),_c('v-divider'),(_vm.options.addEnabled)?_c('v-switch',{attrs:{\"hint\":(_vm.options.showUserInfo) ? 'Show info about respondents' : '',\"persistent-hint\":\"\",\"label\":\"Show respondent info\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showUserInfo),callback:function ($$v) {_vm.$set(_vm.options, \"showUserInfo\", $$v)},expression:\"options.showUserInfo\"}}):_vm._e(),(_vm.options.addEnabled)?_c('v-divider'):_vm._e(),(_vm.options.addEnabled)?_c('v-switch',{attrs:{\"hint\":(_vm.options.userCollaboration) ? 'Respondents will collaborate' : 'Respondents will be isolated',\"persistent-hint\":\"\",\"label\":\"Users collaboration\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.userCollaboration),callback:function ($$v) {_vm.$set(_vm.options, \"userCollaboration\", $$v)},expression:\"options.userCollaboration\"}}):_vm._e(),(_vm.options.addEnabled)?_c('v-divider'):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-container',{attrs:{\"pa-3\":\"\",\"ma-0\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('dj-list',{attrs:{\"items\":_vm.options.nominals,\"itemField\":\"title\",\"title\":\"Alternatives\",\"label\":\"Enter alternative\",\"draggable\":\"\"},on:{\"update\":_vm.onChangeNominals}})],1)],1)],1)],1)],1)],1)],1),_c('v-tab-item',{key:\"rules\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-input',{attrs:{\"label\":\"Min\",\"persistent-hint\":\"\",\"hint\":\"Min alternatives shuld be selected\"}},[_c('div',{staticStyle:{\"padding\":\"0 0 0 1em\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.rule.min),expression:\"options.rule.min\"}],staticStyle:{\"border\":\"1px solid #e0e0e0\"},attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":_vm.options.rule.max},domProps:{\"value\":(_vm.options.rule.min)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.options.rule, \"min\", $event.target.value)},function($event){return _vm.$emit('update:options', _vm.options)}]}})])]),_c('v-divider'),_c('v-input',{staticClass:\"mt-2\",attrs:{\"label\":\"Max\",\"persistent-hint\":\"\",\"hint\":\"Max alternatives may be selected\"}},[_c('div',{staticStyle:{\"padding\":\"0 0 0 1em\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.rule.max),expression:\"options.rule.max\"}],staticStyle:{\"border\":\"1px solid #e0e0e0\"},attrs:{\"type\":\"number\",\"min\":_vm.options.rule.min,\"max\":(_vm.options.nominals) ? _vm.options.nominals.length : 0},domProps:{\"value\":(_vm.options.rule.max)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.options.rule, \"max\", $event.target.value)},function($event){return _vm.$emit('update:options', _vm.options)}]}})])]),_c('v-divider')],1)],1)],1),_c('v-tab-item',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-switch',{attrs:{\"hint\":(_vm.options.showResponsesStat) ? 'Show statistical distribution in production mode' : '',\"persistent-hint\":\"\",\"label\":\"Statistical hints\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showResponsesStat),callback:function ($$v) {_vm.$set(_vm.options, \"showResponsesStat\", $$v)},expression:\"options.showResponsesStat\"}}),_c('v-divider'),_c('echart',{attrs:{\"options\":_vm.statOptions,\"height\":_vm.height}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"!options\" class=\"text-xs-center\">\r\n      <v-progress-circular indeterminate color=\"secondary ligten-2\"></v-progress-circular>\r\n    </div>\r\n    <v-tabs v-else v-model=\"active\">\r\n      <v-tab key=\"general\" ripple>General</v-tab>\r\n      <v-tab key=\"alt\" ripple>Alternatives</v-tab>\r\n      <v-tab key=\"rules\" ripple>Rules</v-tab>\r\n      <v-tab key=\"statistic\" ripple>Statistic</v-tab>\r\n      <v-tab-item key=\"general\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <h3 class=\"headline\">Many of many selection</h3>\r\n            <v-switch :hint=\"(options.required) ? 'All constraints will be checked' : 'Response validation will be disabled'\" persistent-hint label=\"Required\" v-model=\"options.required\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-textarea v-model=\"options.title\" label=\"Question\"></v-textarea>\r\n            <v-textarea v-model=\"options.note\" label=\"Note\"></v-textarea>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"alt\" ripple>\r\n        <v-card flat>\r\n          <v-container fluid grid-list-md pl-3>\r\n            <v-switch :hint=\"(options.addEnabled) ? 'Respondent can add new variants' : ''\" persistent-hint label=\"Custom response\" v-model=\"options.addEnabled\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider v-if=\"options.addEnabled\"></v-divider>\r\n            <v-input v-if=\"options.addEnabled\" label=\"Max count of custom responses\" persistent-hint :hint=\"`Respondent can add max ${options.maxCustomResponses} responses`\" class=\"mt-3\">\r\n              <div style=\"padding: 0 0 0 1em;\">\r\n                <input type=\"number\" style=\"border: 1px solid #e0e0e0;\" v-model=\"options.maxCustomResponses\" :min=\"1\" @input=\"$emit('update:options', options)\" />\r\n              </div>\r\n            </v-input>\r\n            <v-divider></v-divider>\r\n            <v-switch v-if=\"options.addEnabled\" :hint=\"(options.showUserInfo) ? 'Show info about respondents' : ''\" persistent-hint label=\"Show respondent info\" v-model=\"options.showUserInfo\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider v-if=\"options.addEnabled\"></v-divider>\r\n            <v-switch v-if=\"options.addEnabled\" :hint=\"(options.userCollaboration) ? 'Respondents will collaborate' : 'Respondents will be isolated'\" persistent-hint label=\"Users collaboration\" v-model=\"options.userCollaboration\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider v-if=\"options.addEnabled\"></v-divider>\r\n            <v-layout row wrap>\r\n              <v-flex xs12>\r\n                <v-container pa-3 ma-0>\r\n                  <v-layout column>\r\n                    <dj-list :items=\"options.nominals\" itemField=\"title\" title=\"Alternatives\" label=\"Enter alternative\" @update=\"onChangeNominals\" draggable></dj-list>\r\n                  </v-layout>\r\n                </v-container>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"rules\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <v-input label=\"Min\" persistent-hint hint=\"Min alternatives shuld be selected\">\r\n              <div style=\"padding: 0 0 0 1em;\">\r\n                <input type=\"number\" style=\"border: 1px solid #e0e0e0;\" v-model=\"options.rule.min\" min=0 :max=\"options.rule.max\" @input=\"$emit('update:options', options)\" />\r\n              </div>\r\n            </v-input>\r\n            <v-divider></v-divider>\r\n            <v-input class=\"mt-2\" label=\"Max\" persistent-hint hint=\"Max alternatives may be selected\">\r\n              <div style=\"padding: 0 0 0 1em;\">\r\n                <input type=\"number\" style=\"border: 1px solid #e0e0e0;\" v-model=\"options.rule.max\" :min=\"options.rule.min\" :max=\"(options.nominals) ? options.nominals.length : 0\" @input=\"$emit('update:options', options)\" />\r\n              </div>\r\n            </v-input>\r\n            <v-divider></v-divider>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"statistic\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <v-switch :hint=\"(options.showResponsesStat) ? 'Show statistical distribution in production mode' : ''\" persistent-hint label=\"Statistical hints\" v-model=\"options.showResponsesStat\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <echart :options=\"statOptions\" :height=\"height\"></echart>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n    </v-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { countBy } from \"lodash\"\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport djKeyValue from \"@/components/core/ext/dj-field-editor.vue\"\r\nimport statMixin from \"../mixins/statistic.mixin.js\"\r\n\r\nexport default {\r\n\r\n  mixins: [djvueMixin, listenerMixin, statMixin],\r\n\r\n  props: [\"config\", \"options\", \"stat\"],\r\n\r\n  components: {\r\n    \"dj-list\": djKeyValue\r\n  },\r\n\r\n\r\n  methods: {\r\n\r\n    onChangeNominals(items) {\r\n      this.options.nominals = items.map(d => {\r\n        d.id = (d.id) ? d.id : this.randomName()\r\n        return d\r\n      })\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n\r\n    onChange() {\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    calculateStat() {\r\n      if (!this.options) return {}\r\n      \r\n      if (!this.options.nominals) return {}\r\n      // console.log(JSON.stringify(this.stat.responses, null, \"\\t\"))\r\n      let s = this.stat.responses.filter(a => a) // &&  find(this.options.nominals, n => n.id == a[0]))\r\n      let stats = []\r\n      s.forEach(item => {\r\n        stats = stats.concat(item)\r\n      })\r\n      let result = this.options.nominals.map(n => {\r\n        let c = countBy(stats)[n.id]\r\n        return {\r\n          id: n.id,\r\n          title: n.title,\r\n          value: ((c) ? c : 0) / ((stats.length == 0) ? 1 : stats.length)\r\n        }\r\n      })\r\n      let statOptions = {\r\n        color: [this.$vuetify.theme.themes.light.primary],\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          min: 0,\r\n          max: 1.0\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        series: [{\r\n          name: '',\r\n          type: 'bar',\r\n          data: [],\r\n          itemStyle: {\r\n            opacity: 0.5\r\n          }\r\n        }]\r\n      }\r\n\r\n      statOptions.yAxis.data = result.map(r => this.truncate(r.title)).reverse()\r\n      statOptions.series[0].data = result.map(r => r.value).reverse()\r\n      // statOptions.color = [this.$vuetify.theme.primary]\r\n\r\n      // this.statOptions = statOptions\r\n      this.height = (this.options.nominals) ? this.options.nominals.length * 36 + 70 : 70\r\n      return statOptions\r\n    }\r\n  },\r\n\r\n\r\n\r\n\r\n  data: () => ({\r\n    active: null,\r\n    height: null\r\n  }),\r\n\r\n\r\n  mounted() { this.$emit(\"init\") }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-many-many-design.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-many-many-design.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./q-many-many-design.vue?vue&type=template&id=07c4b2a2&\"\nimport script from \"./q-many-many-design.vue?vue&type=script&lang=js&\"\nexport * from \"./q-many-many-design.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VInput } from 'vuetify/lib/components/VInput';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCard,VContainer,VDivider,VFlex,VInput,VLayout,VProgressCircular,VSwitch,VTab,VTabItem,VTabs,VTextarea})\n","import \"../../../src/components/VGrid/_grid.sass\";\nimport \"../../../src/components/VGrid/VGrid.sass\";\nimport Grid from './grid';\nimport mergeData from '../../util/mergeData';\n/* @vue/component */\n\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    fluid: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  render(h, {\n    props,\n    data,\n    children\n  }) {\n    let classes;\n    const {\n      attrs\n    } = data;\n\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {};\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false;\n        const value = attrs[key]; // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n\n        if (key.startsWith('data-')) {\n          data.attrs[key] = value;\n          return false;\n        }\n\n        return value || typeof value === 'string';\n      });\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {};\n      data.domProps.id = props.id;\n    }\n\n    return h(props.tag, mergeData(data, {\n      staticClass: 'container',\n      class: Array({\n        'container--fluid': props.fluid\n      }).concat(classes || [])\n    }), children);\n  }\n\n});\n//# sourceMappingURL=VContainer.js.map","// Styles\nimport \"../../../src/components/VCheckbox/VCheckbox.sass\";\nimport \"../../../src/styles/components/_selection-controls.sass\"; // Components\n\nimport VIcon from '../VIcon';\nimport VInput from '../VInput'; // Mixins\n\nimport Selectable from '../../mixins/selectable';\n/* @vue/component */\n\nexport default Selectable.extend({\n  name: 'v-checkbox',\n  props: {\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate'\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff'\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn'\n    }\n  },\n\n  data() {\n    return {\n      inputIndeterminate: this.indeterminate\n    };\n  },\n\n  computed: {\n    classes() {\n      return { ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls': true,\n        'v-input--checkbox': true,\n        'v-input--indeterminate': this.inputIndeterminate\n      };\n    },\n\n    computedIcon() {\n      if (this.inputIndeterminate) {\n        return this.indeterminateIcon;\n      } else if (this.isActive) {\n        return this.onIcon;\n      } else {\n        return this.offIcon;\n      }\n    },\n\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState() {\n      if (this.isDisabled && !this.inputIndeterminate) return undefined;\n      if (this.hasError && this.shouldValidate) return 'error';\n      if (this.hasSuccess) return 'success';\n      if (this.hasColor !== null) return this.computedColor;\n      return undefined;\n    }\n\n  },\n  watch: {\n    indeterminate(val) {\n      // https://github.com/vuetifyjs/vuetify/issues/8270\n      this.$nextTick(() => this.inputIndeterminate = val);\n    },\n\n    inputIndeterminate(val) {\n      this.$emit('update:indeterminate', val);\n    },\n\n    isActive() {\n      if (!this.indeterminate) return;\n      this.inputIndeterminate = false;\n    }\n\n  },\n  methods: {\n    genCheckbox() {\n      const {\n        title,\n        ...checkboxAttrs\n      } = this.attrs$;\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input'\n      }, [this.$createElement(VIcon, this.setTextColor(this.validationState, {\n        props: {\n          dense: this.dense,\n          dark: this.dark,\n          light: this.light\n        }\n      }), this.computedIcon), this.genInput('checkbox', { ...checkboxAttrs,\n        'aria-checked': this.inputIndeterminate ? 'mixed' : this.isActive.toString()\n      }), this.genRipple(this.setTextColor(this.rippleState))]);\n    },\n\n    genDefaultSlot() {\n      return [this.genCheckbox(), this.genLabel()];\n    }\n\n  }\n});\n//# sourceMappingURL=VCheckbox.js.map","// Extensions\nimport VWindowItem from '../VWindow/VWindowItem';\n/* @vue/component */\n\nexport default VWindowItem.extend({\n  name: 'v-tab-item',\n  props: {\n    id: String\n  },\n  methods: {\n    genWindowItem() {\n      const item = VWindowItem.options.methods.genWindowItem.call(this);\n      item.data.domProps = item.data.domProps || {};\n      item.data.domProps.id = this.id || this.value;\n      return item;\n    }\n\n  }\n});\n//# sourceMappingURL=VTabItem.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-col',[_c('v-row',{staticClass:\"mx-0 px-2\"},[_c('div',{staticClass:\"primary--text font-weight-light title\"},[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary--text\",\"disabled\":_vm.items_.length == 0},on:{\"click\":function($event){return _vm.reverseSelection()}}},[_c('v-icon',{staticClass:\"primary--text\"},[_vm._v(\"mdi-check\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary--text\",\"disabled\":!_vm.newItemTitle},on:{\"click\":function($event){return _vm.addItem()}}},[_c('v-icon',{staticClass:\"primary--text\"},[_vm._v(\"mdi-plus\")])],1),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"vertical\":\"\"}}),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary--text\",\"disabled\":_vm.selection.length == 0},on:{\"click\":_vm.deleteItems}},[_c('v-icon',{staticClass:\"primary--text\"},[_vm._v(\"mdi-trash-can-outline\")])],1)],1),_c('v-divider'),(_vm.items_.length == 0)?_c('v-row',{staticClass:\"d-flex justify-center py-3\"},[_c('span',{staticClass:\"body-2 secondary--text\"},[_vm._v(\"No data available.\")])]):_c('div',[(_vm.draggable_)?_c('v-container',{attrs:{\"mt-2\":\"\"}},[_c('draggable',{staticClass:\"list-group\",attrs:{\"element\":\"div\",\"options\":_vm.dragOptions,\"move\":_vm.onMove},on:{\"start\":_vm.onStartDrag,\"end\":_vm.onEndDrag},model:{value:(_vm.items_),callback:function ($$v) {_vm.items_=$$v},expression:\"items_\"}},[_c('transition-group',{attrs:{\"type\":\"transition\",\"name\":_vm.title,\"tag\":\"div\"}},_vm._l((_vm.items_),function(item){return _c('v-row',{key:item.$$dj_id,staticClass:\"list-group-item\",staticStyle:{\"padding-bottom\":\"0.5em\",\"border-bottom\":\"1px solid #e0e0e0\"}},[(!_vm.fixedLength_)?_c('v-col',{staticClass:\"py-1\",staticStyle:{\"margin\":\"auto\"}},[_c('v-row',[_c('v-icon',{staticClass:\"handle\"},[_vm._v(\"more_vert\")]),_c('v-checkbox',{staticStyle:{\"margin\":\"0\",\"padding\":\"0\"},attrs:{\"secondary\":\"\",\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.select()}},model:{value:(item.selected),callback:function ($$v) {_vm.$set(item, \"selected\", $$v)},expression:\"item.selected\"}})],1)],1):_vm._e(),_c('v-col',{staticClass:\"py-1\",staticStyle:{\"margin\":\"auto\"},attrs:{\"cols\":\"10\"}},[(_vm.readOnly)?_c('span',[_vm._v(_vm._s(item.$$dj_edited))]):_c('v-edit-dialog',{attrs:{\"return-value\":_vm.value},on:{\"update:returnValue\":function($event){_vm.value=$event},\"update:return-value\":function($event){_vm.value=$event},\"open\":function($event){return _vm.onOpen(item)},\"save\":function($event){return _vm.onSave(item)}},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('v-text-field',{attrs:{\"required\":\"\",\"rules\":_vm.$$dj_rules,\"label\":\"Edit\",\"single-line\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true}],null,true)},[_vm._v(\"\\n                  \"+_vm._s(item.$$dj_edited)+\"\\n                  \")])],1)],1)}),1)],1)],1):_c('v-container',{attrs:{\"mt-2\":\"\"}},_vm._l((_vm.items_),function(item){return _c('div',{key:item.$$dj_id},[_c('v-row',{staticClass:\"mx-0 px-2\"},[(!_vm.fixedLength_)?_c('v-col',{staticClass:\"py-1\",staticStyle:{\"margin\":\"auto\"},attrs:{\"cols\":\"1\"}},[_c('v-checkbox',{staticStyle:{\"margin\":\"0\",\"padding\":\"0\"},attrs:{\"secondary\":\"\",\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.select()}},model:{value:(item.selected),callback:function ($$v) {_vm.$set(item, \"selected\", $$v)},expression:\"item.selected\"}})],1):_vm._e(),_c('v-col',{staticClass:\"py-1\",staticStyle:{\"margin\":\"auto\"},attrs:{\"cols\":\"10\"}},[(_vm.readOnly)?_c('span',[_vm._v(_vm._s(item.$$dj_edited))]):_c('v-edit-dialog',{attrs:{\"return-value\":_vm.value},on:{\"update:returnValue\":function($event){_vm.value=$event},\"update:return-value\":function($event){_vm.value=$event},\"open\":function($event){return _vm.onOpen(item)},\"save\":function($event){return _vm.onSave(item)}},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('v-text-field',{attrs:{\"rules\":_vm.$$dj_rules,\"label\":\"Edit\",\"single-line\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true}],null,true)},[_vm._v(\"\\n                \"+_vm._s(item.$$dj_edited)+\"\\n                \")])],1)],1),_c('v-divider')],1)}),0)],1)],1),(!_vm.fixedLength_)?_c('v-textarea',{attrs:{\"label\":_vm.label,\"rules\":_vm.$$dj_newItem_rules,\"disabled\":_vm.items_.length >= this.maxLength_,\"auto-grow\":\"\",\"outlined\":\"\",\"rows\":1},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addItem.apply(null, arguments)}},model:{value:(_vm.newItemTitle),callback:function ($$v) {_vm.newItemTitle=$$v},expression:\"newItemTitle\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-col>\r\n      <v-row class=\"mx-0 px-2\">\r\n        <div class=\"primary--text font-weight-light title\">{{title}}</div>\r\n        <v-spacer></v-spacer>\r\n        <v-btn icon small color=\"primary--text\" @click=\"reverseSelection()\" :disabled=\"items_.length == 0\">\r\n          <v-icon class=\"primary--text\">mdi-check</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small color=\"primary--text\" @click=\"addItem()\" :disabled=\"!newItemTitle\">\r\n          <v-icon class=\"primary--text\">mdi-plus</v-icon>\r\n        </v-btn>\r\n        <v-divider vertical class=\"mx-2\"></v-divider>\r\n        <v-btn icon small color=\"primary--text\" @click=\"deleteItems\" :disabled=\"selection.length == 0\">\r\n          <v-icon class=\"primary--text\">mdi-trash-can-outline</v-icon>\r\n        </v-btn>\r\n      </v-row>\r\n      <v-divider></v-divider>\r\n      <v-row v-if=\"items_.length == 0\" class=\"d-flex justify-center py-3\">\r\n        <span class=\"body-2 secondary--text\">No data available.</span>\r\n      </v-row>\r\n      <div v-else>\r\n        <v-container v-if=\"draggable_\" mt-2>\r\n          <draggable class=\"list-group\" element=\"div\" v-model=\"items_\" :options=\"dragOptions\" :move=\"onMove\" @start=\"onStartDrag\" @end=\"onEndDrag\">\r\n            <transition-group type=\"transition\" :name=\"title\" tag=\"div\">\r\n              <v-row v-for=\"item in items_\" :key=\"item.$$dj_id\" class=\"list-group-item\" style=\"padding-bottom:0.5em; border-bottom:1px solid #e0e0e0;\">\r\n                <v-col class=\"py-1\" v-if=\"!fixedLength_\" style=\"margin:auto;\">\r\n                  <v-row>\r\n                    <v-icon class=\"handle\">more_vert</v-icon>\r\n                    <v-checkbox secondary hide-details v-model=\"item.selected\" style=\"margin:0; padding:0;\" @change=\"select()\"></v-checkbox>\r\n                  </v-row>\r\n                </v-col>\r\n                <v-col cols=\"10\" class=\"py-1\" style=\"margin:auto;\">\r\n                  <span v-if=\"readOnly\">{{item.$$dj_edited}}</span>\r\n                  <v-edit-dialog v-else :return-value.sync=\"value\" @open=\"onOpen(item)\" @save=\"onSave(item)\">\r\n                    {{item.$$dj_edited}}\r\n                    <template v-slot:input>\r\n                      <v-text-field v-model=\"value\" required :rules=\"$$dj_rules\" label=\"Edit\" single-line></v-text-field>\r\n                    </template>\r\n                  </v-edit-dialog>\r\n                </v-col>\r\n              </v-row>\r\n            </transition-group>\r\n          </draggable>\r\n        </v-container>\r\n        <v-container v-else mt-2>\r\n          <div v-for=\"item in items_\" :key=\"item.$$dj_id\">\r\n            <v-row class=\"mx-0 px-2\">\r\n              <v-col class=\"py-1\" cols=1 v-if=\"!fixedLength_\" style=\"margin:auto;\">\r\n                <v-checkbox secondary hide-details v-model=\"item.selected\" style=\"margin:0; padding:0;\" @change=\"select()\"></v-checkbox>\r\n              </v-col>\r\n              <v-col class=\"py-1\" cols=10 style=\"margin:auto;\">\r\n                <span v-if=\"readOnly\">{{item.$$dj_edited}}</span>\r\n                <v-edit-dialog v-else :return-value.sync=\"value\" @open=\"onOpen(item)\" @save=\"onSave(item)\">\r\n                  {{item.$$dj_edited}}\r\n                  <template v-slot:input>\r\n                    <v-text-field v-model=\"value\" :rules=\"$$dj_rules\" label=\"Edit\" single-line></v-text-field>\r\n                  </template>\r\n                </v-edit-dialog>\r\n              </v-col>\r\n            </v-row>\r\n            <v-divider></v-divider>\r\n          </div>\r\n        </v-container>\r\n      </div>\r\n    </v-col>\r\n    <v-textarea v-if=\"!fixedLength_\" v-model=\"newItemTitle\" :label=\"label\" :rules=\"$$dj_newItem_rules\" @keyup.enter=\"addItem\" :disabled=\"items_.length >= this.maxLength_\" auto-grow outlined :rows=\"1\">\r\n    </v-textarea>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { isNull, isUndefined, isArray, uniq } from \"lodash\"\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport draggable from \"vuedraggable\";\r\n\r\nexport default {\r\n\r\n  mixins: [djvueMixin],\r\n\r\n  props: [\r\n    \"items\",\r\n    \"itemField\",\r\n    \"title\",\r\n    \"label\",\r\n    \"maxLength\",\r\n    \"fixedLength\",\r\n    \"readOnly\",\r\n    \"draggable\",\r\n    \"rules\",\r\n    \"required\",\r\n    \"unique\"\r\n  ],\r\n\r\n  components: {\r\n    draggable\r\n  },\r\n\r\n  computed: {\r\n\r\n    dragOptions() {\r\n      return {\r\n        animation: 150,\r\n        group: {\r\n          name: this.title\r\n        },\r\n        ghostClass: \"ghost\",\r\n        dragClass: \"drag\",\r\n        handle: \".handle\"\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    onStartDrag() {\r\n      this.isDragging = true\r\n    },\r\n\r\n    onEndDrag() {\r\n      this.isDragging = false\r\n      this.$emit(\"update\", this.items_.map(d => d.$$dj_data))\r\n    },\r\n\r\n    onMove() {\r\n      return true\r\n    },\r\n\r\n    addItem() {\r\n\r\n      let insertedItems = this.newItemTitle.split(\"\\n\").map(d => d.trim()).filter(d => d)\r\n      if (insertedItems.length == 0) return\r\n\r\n      this.newItemTitle = null\r\n\r\n      insertedItems.forEach(item => {\r\n        if (this.$$dj_newItem_rules.map(r => r(item)).filter(r => r != true).length > 0) return\r\n        if (this.items_.length >= this.maxLength_) return;\r\n        let newItem = {\r\n          $$dj_id: this.$djvue.randomName(),\r\n          $$dj_edited: item\r\n        }\r\n        if (this.$$itemField) {\r\n          newItem.$$dj_data = {}\r\n          newItem.$$dj_data[this.$$itemField] = item\r\n        } else {\r\n          newItem.$$dj_data = item\r\n        }\r\n\r\n        this.items_ = this.items_ || []\r\n        this.items_.push(newItem)\r\n      })\r\n\r\n      this.$emit(\"update\", this.items_.map(d => d.$$dj_data))\r\n    },\r\n\r\n    select() {\r\n      this.selection = (this.items_) ? this.items_.filter(n => n.selected) : []\r\n    },\r\n\r\n    reverseSelection() {\r\n      this.items_.forEach(n => {\r\n        n.selected = !n.selected\r\n      })\r\n      this.select()\r\n    },\r\n\r\n    deleteItems() {\r\n      this.selection.forEach(s => {\r\n        const index = this.items_.indexOf(s)\r\n        this.items_.splice(index, 1)\r\n      })\r\n      this.selection = []\r\n      this.$emit(\"update\", this.items_.map(d => d.$$dj_data))\r\n    },\r\n\r\n    setValue(item, value) {\r\n\r\n      if (isNull(value) || isUndefined(value)) return\r\n\r\n      value = value.trim()\r\n\r\n      if (this.$$dj_saveItem_rules.map(r => r(value, item)).filter(d => d != true).length > 0) return\r\n      if (this.$$itemField) {\r\n        item.$$dj_data[this.$$itemField] = value\r\n      } else {\r\n        item.$$dj_data = value\r\n      }\r\n      item.$$dj_edited = value\r\n      this.$emit(\"update\", this.items_.map(d => d.$$dj_data))\r\n    },\r\n\r\n    onSave(item) {\r\n      this.setValue(item, this.value)\r\n      this.savedItem = null\r\n    },\r\n\r\n\r\n    onOpen(item) {\r\n      if (this.savedItem) this.setValue(this.savedItem, this.value)\r\n\r\n      this.savedItem = (this.editedItem) ? this.editedItem : item\r\n      this.editedItem = item\r\n      this.$nextTick(() => { this.$emit(\"updateValue\", this.editedItem) })\r\n\r\n    },\r\n\r\n    requiredCallback(v) {\r\n      return (!!v && v != \"\") || (this.$$dj_required || \"Required.\")\r\n    },\r\n\r\n    uniqueNewItemCallback(v) {\r\n      if (!v) return true\r\n      let res = v\r\n        .split(\"\\n\")\r\n        .map(d => d.trim())\r\n        .filter(d => d)\r\n      res = res.concat(this.items_.map(d => d.$$dj_edited))\r\n      let length1 = res.length\r\n      res = uniq(res)\r\n      let length2 = res.length\r\n\r\n      let delta = length1 - length2\r\n\r\n      return (delta == 0) || (this.$$dj_unique || \"Doublicates detected.\")\r\n    },\r\n\r\n    uniqueCallback(v) {\r\n\r\n      if (!this.editedItem) return true\r\n      return this.items_.filter(d => {\r\n        return d.$$dj_id != this.editedItem.$$dj_id && d.$$dj_edited == v\r\n      }).length == 0 || (this.$$dj_unique || 'Doublicate.')\r\n\r\n    },\r\n\r\n    uniqueSaveItemCallback(v) {\r\n\r\n      return this.items_.filter(d => {\r\n        return d.$$dj_id != this.item$$dj_id && d.$$dj_edited == v\r\n      }).length == 0 || (this.$$dj_unique || 'Doublicate.')\r\n\r\n    },\r\n\r\n\r\n\r\n    prepareItems() {\r\n      this.items_ = this.items.map(d => ({\r\n        $$dj_id: this.randomName(),\r\n        $$dj_data: d,\r\n        $$dj_edited: (this.$$itemField) ? d[this.$$itemField].trim() : d.trim()\r\n      })) || []\r\n\r\n      this.editedItem = null\r\n    }\r\n\r\n\r\n\r\n  },\r\n\r\n  data: () => ({\r\n    newItemTitle: null,\r\n    selection: [],\r\n    items_: null,\r\n    editedItem: null,\r\n    savedItem: null,\r\n    value: null\r\n  }),\r\n\r\n\r\n\r\n  created() {\r\n\r\n    this.selection = []\r\n    this.draggable_ = (this.draggable || this.draggable == \"\") ? true : false\r\n    this.fixedLength_ = (this.fixedLength || this.fixedLength == \"\") ? true : false\r\n\r\n    this.$$dj_required = (this.required || this.required == \"\") ? this.required : false\r\n\r\n    this.$$dj_unique = (this.unique || this.unique == \"\") ? this.unique : false\r\n\r\n    this.maxLength_ = (this.maxLength && this.draggable != \"\") ? this.maxLength : Number.POSITIVE_INFINITY\r\n    this.$$itemField = (this.itemField && this.itemField != \"\") ? this.itemField : null\r\n\r\n    this.prepareItems()\r\n\r\n    this.$$dj_rules = []\r\n    if (this.$$dj_required) this.$$dj_rules.push(this.requiredCallback)\r\n    if (this.$$dj_unique) this.$$dj_rules.push(this.uniqueCallback)\r\n    if (this.rules && isArray(this.rules)) this.$$dj_rules = this.$$dj_rules.concat(this.rules)\r\n\r\n    this.$$dj_newItem_rules = []\r\n    if (this.$$dj_unique) this.$$dj_newItem_rules.push(this.uniqueNewItemCallback)\r\n    if (this.rules && isArray(this.rules)) this.$$dj_newItem_rules = this.$$dj_newItem_rules.concat(this.rules)\r\n\r\n    this.$$dj_saveItem_rules = []\r\n    if (this.$$dj_required) this.$$dj_saveItem_rules.push(this.requiredCallback)\r\n    if (this.$$dj_unique) this.$$dj_saveItem_rules.push(this.uniqueSaveItemCallback)\r\n    if (this.rules && isArray(this.rules)) this.$$dj_saveItem_rules = this.$$dj_saveItem_rules.concat(this.rules)\r\n\r\n    this.$on(\"updateValue\", (source) => {\r\n      setTimeout(() => {\r\n        this.value = (this.$$itemField) ? source.$$dj_data[this.$$itemField] : source.$$dj_data\r\n        this.savedItem = source\r\n      }, 100)\r\n    })\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.drag {\r\n  opacity: 0.3;\r\n}\r\n\r\n.flip-list-move {\r\n  transition: transform 0.5s;\r\n}\r\n\r\n.no-move {\r\n  transition: transform 0s;\r\n}\r\n\r\n.ghost {\r\n  opacity: 0 !important;\r\n}\r\n\r\n.list-group {\r\n  /*min-height: 20px;*/\r\n}\r\n\r\n.list-group-item {}\r\n\r\n.list-group-item i {}\r\n\r\n</style>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./dj-field-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./dj-field-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dj-field-editor.vue?vue&type=template&id=7bc60d38&scoped=true&\"\nimport script from \"./dj-field-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./dj-field-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dj-field-editor.vue?vue&type=style&index=0&id=7bc60d38&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bc60d38\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VEditDialog } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCheckbox,VCol,VContainer,VDivider,VEditDialog,VIcon,VRow,VSpacer,VTextField,VTextarea})\n"],"sourceRoot":""}