{"version":3,"sources":["webpack:///./src/components/widgets/question/question.vue?66a9","webpack:///./src/components/widgets/question/parts/index.js","webpack:///src/components/widgets/question/question.vue","webpack:///./src/components/widgets/question/question.vue?163d","webpack:///./src/components/widgets/question/question.vue"],"names":["render","_vm","this","_c","_self","staticClass","style","config","question","type","directives","name","rawName","value","disabled","expression","ref","tag","attrs","options","answer","stat","on","onInitChild","onOptionsUpdate","onAnswerUpdate","onOptionsExtend","staticRenderFns","icon","mixins","components","computed","isProductionMode","methods","$emit","emit","id","setNeedSave","wrapper","$refs","content","onSlideStart","props","data","allStat","display","event","callback","questions","founded","q","onSetOptions","$nextTick","rule","JSON","parse","stringify","answers","a","title","off","component"],"mappings":"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","file":"js/chunk-2d0e26c8.c05c6851.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mb-1\",style:((_vm.display) ? 'border:1px solid #dedede;  background:white;' : '')},[_c(_vm.config.question.type[(_vm.production) ? 'production' : 'design'],{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.config && !_vm.disabled),expression:\"config && !disabled\"}],ref:\"content\",tag:\"component\",attrs:{\"config\":_vm.config,\"options\":_vm.options,\"answer\":_vm.answer,\"stat\":_vm.stat},on:{\"init\":_vm.onInitChild,\"update:options\":_vm.onOptionsUpdate,\"update:answer\":_vm.onAnswerUpdate,\"extend:options\":_vm.onOptionsExtend}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n  \"q-one-many-production\": () => import(\"./production/q-one-many-production.vue\"),\r\n  \"q-one-many-design\": () => import(\"./design/q-one-many-design.vue\"),\r\n\r\n  \"q-many-many-production\": () => import(\"./production/q-many-many-production.vue\"),\r\n  \"q-many-many-design\": () => import(\"./design/q-many-many-design.vue\"),\r\n\r\n  \"q-rate-production\": () => import(\"./production/q-rate-production.vue\"),\r\n  \"q-rate-design\": () => import(\"./design/q-rate-design.vue\"),\r\n\r\n  \"q-range-production\": () => import(\"./production/q-range-production.vue\"),\r\n  \"q-range-design\": () => import(\"./design/q-range-design.vue\"),\r\n\r\n  \"q-date-production\": () => import(\"./production/q-date-production.vue\"),\r\n  \"q-date-design\": () => import(\"./design/q-date-design.vue\"),\r\n\r\n  \"q-influence-production\": () => import(\"./production/q-influence-production.vue\"),\r\n  \"q-influence-design\": () => import(\"./design/q-influence-design.vue\"),\r\n\r\n  \"q-association-production\": () => import(\"./production/q-association-production.vue\"),\r\n  \"q-association-design\": () => import(\"./design/q-association-design.vue\"),\r\n\r\n  \"q-priority-production\": () => import(\"./production/q-priority-production.vue\"),\r\n  \"q-priority-design\": () => import(\"./design/q-priority-design.vue\")\r\n\r\n\r\n}\r\n","<template>\r\n  <div class=\"mb-1\" :style=\"(display) ? 'border:1px solid #dedede;  background:white;' : '' \">\r\n    <component ref=\"content\" v-show=\"config && !disabled\" :is=\"config.question.type[(production) ? 'production' : 'design']\" :config=\"config\" :options=\"options\" :answer=\"answer\" :stat=\"stat\" @init=\"onInitChild\" @update:options=\"onOptionsUpdate\" @update:answer=\"onAnswerUpdate\" @extend:options=\"onOptionsExtend\"></component>\r\n  </div>\r\n</template>\r\n<script>\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport components from \"./parts/index.js\"\r\nimport { find, isFunction } from \"lodash\"\r\n\r\nexport default {\r\n\r\n  name: \"question-widget\",\r\n\r\n  icon: \"mdi-help-circle-outline\",\r\n\r\n  mixins: [djvueMixin, listenerMixin],\r\n\r\n  components,\r\n  computed: {\r\n    production() {\r\n      return this.isProductionMode\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onInitChild() {\r\n      this.$emit(\"init\")\r\n    },\r\n\r\n    onDelete() {\r\n      this.emit(\"form-delete-question\", this.config.id)\r\n    },\r\n\r\n    onOptionsUpdate() {\r\n      this.setNeedSave(true)\r\n    },\r\n\r\n    onAnswerUpdate() {\r\n      this.emit(\"form-update-answer\", this.answer)\r\n    },\r\n\r\n    onOptionsExtend() {\r\n      this.emit(\"form-extend\")\r\n    },\r\n\r\n    onSlideStart(wrapper){\r\n      if(this.$refs.content && this.$refs.content.onSlideStart) this.$refs.content.onSlideStart(wrapper)\r\n      // this.$forceUpdate()\r\n    \r\n    }\r\n\r\n\r\n  },\r\n\r\n\r\n  props: [\"config\"],\r\n\r\n  data: () => ({\r\n    options: null,\r\n    answer: null,\r\n    stat: null,\r\n    allStat:null,\r\n    display: false,\r\n    disabled: false\r\n  }),\r\n\r\n  created() {\r\n    // console.log(\"CREATE\", this.config.id, this.config.question.options)\r\n\r\n    // if (this.config.question.options) {\r\n    this.emit(\"form-insert-question\", {\r\n      id: this.config.id,\r\n      options: this.config.question.options\r\n    })\r\n    // this.config.question.options = undefined\r\n    // }\r\n\r\n    this.on({\r\n      event: \"question-set-options\",\r\n      callback: (questions) => {\r\n        // console.log(\"SET OPTIONS\", this.config.id)\r\n        let founded = find(questions, q => q.id == this.config.id)\r\n        this.options = (founded) ? founded.options : this.config.question.options\r\n        if(this.$refs.content)\r\n          if(this.$refs.content.onSetOptions) this.$nextTick( () => {\r\n            if (this.$refs.content && isFunction(this.$refs.content.onSetOptions)) this.$refs.content.onSetOptions(this.options)\r\n          })  \r\n        // console.log(this.options)\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"question-set-stat\",\r\n      callback: (stat) => {\r\n        // console.log(\"SET STAT\")\r\n        this.allStat = stat\r\n        let founded = find(this.allStat.questions, q => q.id == this.config.id)\r\n        // if (!this.stat){\r\n        this.stat = (founded) ? JSON.parse(JSON.stringify(founded)) : null\r\n        // console.log(\"SET STAT\",this.config.id, this.stat)  \r\n        // }\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"question-set-answers\",\r\n\r\n      callback: (answers) => {\r\n        // console.log(\"set answer\", this.config.id, answers.map(a=>a.id))\r\n        let founded = find(answers, a => a.id == this.config.id)\r\n        // console.log(\"Founded\", JSON.stringify(founded,null,\"\\t\"))\r\n        this.answer = (founded) ?\r\n          founded : {\r\n            id: this.config.id,\r\n            type: this.config.question.type.title,\r\n            data: JSON.parse(JSON.stringify(this.config.question.answer.data))\r\n          }\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"question-access\",\r\n      callback: (value) => {\r\n        this.display = value || !this.isProductionMode\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n    this.on({\r\n      event: \"question-set-disable\",\r\n      callback: (value) => {\r\n        this.disabled = value\r\n      },\r\n      rule: () => true\r\n    })\r\n\r\n  },\r\n\r\n  beforeDestroy() {\r\n    this.off()\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./question.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../build/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../build/jace-loader/src/parser.js??ref--33-1!./question.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./question.vue?vue&type=template&id=7c5fed6f&\"\nimport script from \"./question.vue?vue&type=script&lang=js&\"\nexport * from \"./question.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}