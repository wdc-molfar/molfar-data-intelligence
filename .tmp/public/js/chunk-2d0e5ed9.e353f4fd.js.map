{"version":3,"sources":["webpack:///./src/components/widgets/question/parts/design/q-association-design.vue?6faa","webpack:///src/components/widgets/question/parts/design/q-association-design.vue","webpack:///./src/components/widgets/question/parts/design/q-association-design.vue?4a34","webpack:///./src/components/widgets/question/parts/design/q-association-design.vue"],"names":["render","_vm","this","_c","_self","options","model","value","callback","$$v","active","expression","key","attrs","_v","staticClass","on","$event","$emit","$set","entities","onChangeEntities","max","_l","s","scaleIndex","palette","onChangePalette","staticStyle","e","idx","class","cellClass","style","length","_s","title","f","index1","index2","getChartOptions","height","_e","staticRenderFns","mixins","props","components","methods","scale","color","forEach","v","$vuetify","theme","themes","light","background","undefinedValue","items","map","d","id","randomName","$nextTick","generateScaleStyle","newScale","i","push","onChange","e1","e2","statOptions","chartOptions","stat","responses","filter","a","stats","item","concat","r","values","c","data","primary","angleAxis","type","axisLabel","margin","fontSize","fontWeight","secondary","radiusAxis","splitNumber","axisLine","show","polar","series","itemStyle","opacity","coordinateSystem","computed","width","Math","trunc","generateScale","component","VCard","VContainer","VDivider","VFlex","VLayout","VProgressCircular","VSelect","VSwitch","VTab","VTabItem","VTabs","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-2d0e5ed9.e353f4fd.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.options)?_c('div',{staticClass:\"text-xs-center\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"secondary ligten-2\"}})],1):_c('v-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('v-tab',{key:\"general\",attrs:{\"ripple\":\"\"}},[_vm._v(\"General\")]),_c('v-tab',{key:\"fe\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Entities\")]),_c('v-tab',{key:\"scale\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Scale\")]),_c('v-tab',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_vm._v(\"Statistic\")]),_c('v-tab-item',{key:\"general\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('h3',{staticClass:\"headline\"},[_vm._v(\"Association\")]),_c('v-switch',{attrs:{\"hint\":(_vm.options.required) ? 'All constraints will be checked' : 'Response validation will be disabled',\"persistent-hint\":\"\",\"label\":\"Required\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.required),callback:function ($$v) {_vm.$set(_vm.options, \"required\", $$v)},expression:\"options.required\"}}),_c('v-divider'),_c('v-textarea',{attrs:{\"label\":\"Question\"},model:{value:(_vm.options.title),callback:function ($$v) {_vm.$set(_vm.options, \"title\", $$v)},expression:\"options.title\"}}),_c('v-textarea',{attrs:{\"label\":\"Note\"},model:{value:(_vm.options.note),callback:function ($$v) {_vm.$set(_vm.options, \"note\", $$v)},expression:\"options.note\"}})],1)],1)],1),_c('v-tab-item',{key:\"fe\",attrs:{\"ripple\":\"\"}},[_c('v-card',{staticClass:\"mx-2 pa-2\",attrs:{\"flat\":\"\"}},[_c('dj-list',{attrs:{\"items\":_vm.options.entities,\"itemField\":\"title\",\"title\":\"Entities\",\"label\":\"Enter entites\",\"draggable\":\"\"},on:{\"update\":_vm.onChangeEntities}})],1)],1),_c('v-tab-item',{key:\"scale\",attrs:{\"ripple\":\"\"}},[_c('v-card',{staticClass:\"mx-2 pa-2\",attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-select',{attrs:{\"items\":[3,5,7,9],\"label\":\"Maximum rate value\"},model:{value:(_vm.max),callback:function ($$v) {_vm.max=$$v},expression:\"max\"}}),_vm._l((_vm.options.scale),function(s,scaleIndex){return _c('v-layout',{key:scaleIndex,attrs:{\"row\":\"\"}},[_c('v-text-field',{attrs:{\"label\":`${s.value} title`},on:{\"input\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(s.title),callback:function ($$v) {_vm.$set(s, \"title\", $$v)},expression:\"s.title\"}})],1)}),_c('v-divider'),_c('v-switch',{attrs:{\"label\":\"Show value\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showValue),callback:function ($$v) {_vm.$set(_vm.options, \"showValue\", $$v)},expression:\"options.showValue\"}}),_c('v-divider'),_c('v-switch',{attrs:{\"label\":\"Show title\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showTitle),callback:function ($$v) {_vm.$set(_vm.options, \"showTitle\", $$v)},expression:\"options.showTitle\"}}),_c('v-divider'),_c('palette-picker',{attrs:{\"value\":_vm.options.palette},on:{\"change\":_vm.onChangePalette}})],2)],1)],1),_c('v-tab-item',{key:\"statistic\",attrs:{\"ripple\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-container',[_c('v-switch',{attrs:{\"hint\":(_vm.options.showResponsesStat) ? 'Show statistical distribution in production mode' : '',\"persistent-hint\":\"\",\"label\":\"Statistical hints\"},on:{\"change\":function($event){return _vm.$emit('update:options',_vm.options)}},model:{value:(_vm.options.showResponsesStat),callback:function ($$v) {_vm.$set(_vm.options, \"showResponsesStat\", $$v)},expression:\"options.showResponsesStat\"}}),_c('v-divider'),_c('v-card',{staticClass:\"mt-3\",attrs:{\"flat\":\"\",\"color\":\"transparent\"}},[_c('v-layout',{attrs:{\"fill-height\":\"\",\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center headline\",staticStyle:{\"border-left\":\"1px solid #dedede\",\"border-bottom\":\"1px solid #dcdcdc\",\"border-top\":\"1px solid #dcdcdc\"},attrs:{\"xs2\":\"\",\"pa-2\":\"\"}}),_vm._l((_vm.options.entities),function(e,idx){return _c('v-flex',{key:idx,class:`${_vm.cellClass} text-xs-center`,style:(`\n                    min-height:3em; \n                    border-left:1px solid #dedede; \n                    border-bottom:1px solid #dcdcdc;  \n                    border-top:1px solid #dcdcdc;\n                    ${ (idx == (_vm.options.entities.length-1)) ? 'border-right: 1px solid #dcdcdc !important;' : ''}\n                  `)},[_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(e.title))])])})],2),_vm._l((_vm.options.entities),function(f,index1){return _c('v-layout',{key:index1,attrs:{\"fill-height\":\"\",\"row\":\"\"}},[_c('v-flex',{staticClass:\"caption\",staticStyle:{\"border-left\":\"1px solid #dcdcdc\",\"border-bottom\":\"1px solid #dcdcdc\"},attrs:{\"xs2\":\"\",\"pa-2\":\"\",\"align-center\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(f.title)+\"\\n              \")]),_vm._l((_vm.options.entities),function(e,index2){return _c('v-flex',{key:index2,class:`${_vm.cellClass} text-xs-center`,style:(`\n                  min-height:3em; \n                  border-left: 1px solid #dcdcdc;\n                  border-bottom:1px solid #dcdcdc; \n                  ${ (index2 < (_vm.options.entities.length-1)) ? '' :'border-right: 1px solid #dcdcdc !important;'}\n                `),attrs:{\"align-center\":\"\"}},[(index2 > index1)?_c('v-layout',{staticStyle:{\"height\":\"100%\"},attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center body-2\"},[(_vm.getChartOptions(f,e))?_c('echart',{attrs:{\"options\":_vm.getChartOptions(f,e),\"height\":_vm.height}}):_vm._e()],1)],1):_vm._e(),_c('v-layout',{staticStyle:{\"height\":\"100%\"}})],1)})],2)})],2)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"!options\" class=\"text-xs-center\">\r\n      <v-progress-circular indeterminate color=\"secondary ligten-2\"></v-progress-circular>\r\n    </div>\r\n    <v-tabs v-else v-model=\"active\">\r\n      <v-tab key=\"general\" ripple>General</v-tab>\r\n      <v-tab key=\"fe\" ripple>Entities</v-tab>\r\n      <v-tab key=\"scale\" ripple>Scale</v-tab>\r\n      <v-tab key=\"statistic\" ripple>Statistic</v-tab>\r\n      <v-tab-item key=\"general\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <h3 class=\"headline\">Association</h3>\r\n            <v-switch :hint=\"(options.required) ? 'All constraints will be checked' : 'Response validation will be disabled'\" persistent-hint label=\"Required\" v-model=\"options.required\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-textarea v-model=\"options.title\" label=\"Question\"></v-textarea>\r\n            <v-textarea v-model=\"options.note\" label=\"Note\"></v-textarea>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"fe\" ripple>\r\n        <v-card flat class=\"mx-2 pa-2\">\r\n          <dj-list \r\n            :items=\"options.entities\"\r\n            itemField=\"title\" \r\n            title=\"Entities\"\r\n            label=\"Enter entites\"  \r\n            @update=\"onChangeEntities\"\r\n            draggable\r\n          ></dj-list>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"scale\" ripple>\r\n        <v-card flat class=\"mx-2 pa-2\">\r\n          <v-container>\r\n            <v-select :items=\"[3,5,7,9]\" label=\"Maximum rate value\" v-model=\"max\">\r\n            </v-select>\r\n            <v-layout row v-for=\"(s, scaleIndex) in options.scale\" :key=\"scaleIndex\">\r\n              <v-text-field :label=\"`${s.value} title`\" v-model=\"s.title\" @input=\"$emit('update:options',options)\"></v-text-field>\r\n            </v-layout>\r\n            <v-divider></v-divider>\r\n            <v-switch label=\"Show value\" v-model=\"options.showValue\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-switch label=\"Show title\" v-model=\"options.showTitle\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <palette-picker :value=\"options.palette\" @change=\"onChangePalette\"></palette-picker>\r\n          </v-container>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <v-tab-item key=\"statistic\" ripple>\r\n        <v-card flat>\r\n          <v-container>\r\n            <v-switch :hint=\"(options.showResponsesStat) ? 'Show statistical distribution in production mode' : ''\" persistent-hint label=\"Statistical hints\" v-model=\"options.showResponsesStat\" @change=\"$emit('update:options',options)\"></v-switch>\r\n            <v-divider></v-divider>\r\n            <v-card flat color=\"transparent\" class=\"mt-3\">\r\n              <v-layout fill-height row>\r\n                <v-flex xs2 pa-2 class=\"text-xs-center headline\" style=\"border-left:1px solid #dedede; border-bottom:1px solid #dcdcdc;  border-top:1px solid #dcdcdc;\">\r\n                </v-flex>\r\n                <v-flex v-for=\"(e, idx) in options.entities\" :key=\"idx\" :class=\"`${cellClass} text-xs-center`\" :style=\"`\r\n                      min-height:3em; \r\n                      border-left:1px solid #dedede; \r\n                      border-bottom:1px solid #dcdcdc;  \r\n                      border-top:1px solid #dcdcdc;\r\n                      ${ (idx == (options.entities.length-1)) ? 'border-right: 1px solid #dcdcdc !important;' : ''}\r\n                    `\">\r\n                  <span class=\"caption\">{{e.title}}</span>\r\n                </v-flex>\r\n              </v-layout>\r\n              <v-layout fill-height row v-for=\"(f, index1) in options.entities\" :key=\"index1\">\r\n                <v-flex xs2 pa-2 class=\"caption\" align-center style=\"border-left: 1px solid #dcdcdc;\r\n                    border-bottom:1px solid #dcdcdc; \">\r\n                  {{f.title}}\r\n                </v-flex>\r\n                <v-flex v-for=\"(e, index2) in options.entities\" :key=\"index2\" :class=\"`${cellClass} text-xs-center`\" :style=\"`\r\n                    min-height:3em; \r\n                    border-left: 1px solid #dcdcdc;\r\n                    border-bottom:1px solid #dcdcdc; \r\n                    ${ (index2 < (options.entities.length-1)) ? '' :'border-right: 1px solid #dcdcdc !important;'}\r\n                  `\" align-center>\r\n                  <v-layout v-if=\"index2 > index1\" align-center style=\"height:100%;\">\r\n                    <v-flex class=\"text-xs-center body-2\">\r\n                      <echart v-if=\"getChartOptions(f,e)\" :options=\"getChartOptions(f,e)\" :height=\"height\"></echart>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                  <v-layout style=\"height:100%;\"></v-layout>\r\n                </v-flex>\r\n              </v-layout>\r\n            </v-card>\r\n          </v-container>\r\n        </v-card>    \r\n      </v-tab-item>\r\n    </v-tabs>\r\n    \r\n  </div>\r\n</template>\r\n<script>\r\nimport { find, countBy } from \"lodash\"\r\n\r\nimport djvueMixin from \"@/mixins/core/djvue.mixin.js\";\r\nimport listenerMixin from \"@/mixins/core/listener.mixin.js\";\r\nimport palettePicker from \"@/components/core/ext/palette-picker.vue\"\r\nimport statMixin from \"../mixins/statistic.mixin.js\"\r\nimport colorUtility from \"../../color-utility.js\"\r\nimport djKeyValue from \"@/components/core/ext/dj-field-editor.vue\"\r\n\r\nexport default {\r\n\r\n  mixins: [djvueMixin, listenerMixin, statMixin],\r\n\r\n  props: [\"config\", \"options\", \"stat\"],\r\n\r\n  components: {\r\n    \"dj-list\": djKeyValue,\r\n    \"palette-picker\": palettePicker\r\n  },\r\n\r\n  methods: {\r\n\r\n    generateScaleStyle() {\r\n\r\n      if (!this.options.scale || !this.options.palette.color) return\r\n      if (this.options.scale.length > 0 && this.options.palette.color.length > 0) {\r\n        this.options.scale.forEach(v => {\r\n          v.color = colorUtility.color(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)\r\n          v.background = colorUtility.background(this.options.scale, v.value, this.options.palette, this.$vuetify.theme.themes.light)\r\n          v.style = `color: ${colorUtility.color(\r\n              this.options.scale, \r\n              v.value, \r\n              this.options.palette, \r\n              this.$vuetify.theme.themes.light\r\n            )} !important;` +\r\n            `background: ${colorUtility.background(\r\n              this.options.scale, \r\n              v.value, \r\n              this.options.palette, \r\n              this.$vuetify.theme.themes.light\r\n            )} !important;`\r\n        })\r\n      }\r\n\r\n\r\n      this.options.undefinedValue = {\r\n        style: `color: ${colorUtility.color(\r\n            this.options.scale, \r\n            null, \r\n            this.options.palette, \r\n            this.$vuetify.theme.themes.light\r\n          )} !important;` +\r\n          `background: ${colorUtility.background(\r\n              this.options.scale, \r\n              null, \r\n              this.options.palette, \r\n              this.$vuetify.theme.themes.light\r\n            )} !important;`\r\n      }\r\n    },\r\n\r\n\r\n    onChangeEntities(items) {\r\n      this.options.entities = items.map( d => {\r\n        d.id = (d.id) ? d.id : this.randomName()\r\n        return d\r\n      })\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    onChangePalette(palette) {\r\n      this.options.palette = palette\r\n      this.$nextTick(() => {\r\n        // console.log(\"CHANGE PALETTE\")\r\n        this.generateScaleStyle()\r\n        this.$nextTick(() => { this.$emit(\"update:options\", this.options) })\r\n      })\r\n    },\r\n\r\n    onChange() {\r\n      this.$emit(\"update:options\", this.options)\r\n    },\r\n\r\n    onSetOptions(){\r\n      // console.log(\"onSetOptions\")\r\n      this.generateScaleStyle()\r\n    },\r\n\r\n\r\n    generateScale(value) {\r\n      if (value != this.options.scale.length) {\r\n        let newScale = [];\r\n\r\n        for (let i = 0; i < value; i++) {\r\n          newScale.push({ value: i + 1 })\r\n        }\r\n        this.options.scale = newScale\r\n        this.generateScaleStyle()\r\n        this.onChange()\r\n      }\r\n    },\r\n\r\n    getChartOptions(e1, e2) {\r\n      let f = find(this.statOptions, s => s.e1.id == e1.id && s.e2.id == e2.id)\r\n      if (f) return f.chartOptions\r\n      return null\r\n    },\r\n\r\n    calculateStat() {\r\n      if (!this.options) return {}\r\n      if (!this.options.entities) return {}\r\n\r\n      let s = this.stat.responses.filter(a => a)\r\n\r\n      let stats = []\r\n      s.forEach(item => {\r\n        stats = stats.concat(item)\r\n      })\r\n\r\n      let r = []\r\n\r\n      this.options.entities.forEach(f => {\r\n        this.options.entities.forEach(e => {\r\n          r.push({\r\n            e1: f,\r\n            e2: e,\r\n            values: stats\r\n              .filter(s => s.e1 == f.id && s.e2 == e.id && s.value && find(this.options.scale, v => v.value == s.value))\r\n              .map(s => s.value)\r\n          })\r\n        })\r\n      })\r\n\r\n      r = r.filter(s => s.values.length > 0)\r\n\r\n      r.forEach(s => {\r\n        let c = countBy(s.values);\r\n        s.data = this.options.scale.map(v => ({\r\n          title: v.value,\r\n          value: (c[v.value]) ? c[v.value] : 0\r\n        }))\r\n      })\r\n\r\n      r.forEach(s => {\r\n        s.chartOptions = {\r\n          color: [this.$vuetify.theme.themes.light.primary],\r\n\r\n          angleAxis: {\r\n            type: 'category',\r\n            data: this.options.scale.map(d => d.value),\r\n            axisLabel: {\r\n              margin: 2,\r\n              fontSize: 8,\r\n              fontWeight: \"bold\",\r\n              color: this.$vuetify.theme.themes.light.secondary\r\n            }\r\n          },\r\n          radiusAxis: {\r\n            splitNumber: 1,\r\n            axisLine: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              show: false\r\n            }\r\n          },\r\n          polar: {},\r\n          series: [{\r\n            type: 'bar',\r\n            itemStyle: {\r\n              opacity: 0.5\r\n            },\r\n            data: s.data.map(d => d.value),\r\n            coordinateSystem: 'polar'\r\n          }]\r\n        }\r\n      })\r\n\r\n\r\n      this.height = 150;\r\n\r\n      return r\r\n\r\n    }\r\n  },\r\n\r\n\r\n  computed: {\r\n\r\n    cellClass() {\r\n      let width = Math.trunc(10 / this.options.entities.length);\r\n      width = (width > 3) ? 3 : width;\r\n      return `xs${width}`\r\n    },\r\n\r\n    max: {\r\n      get() {\r\n        return this.options.scale.length\r\n      },\r\n      set(value) {\r\n        this.generateScale(value)\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n\r\n\r\n  data: () => ({\r\n    active: null,\r\n    height: null\r\n  }),\r\n\r\n  // created(){\r\n  //   this.generateScaleStyle()\r\n  // },\r\n\r\n  mounted() { this.$emit(\"init\") }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-association-design.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../build/vuetify-loader/lib/loader.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../build/jace-loader/src/parser.js??ref--20-3!../../../../../../build/jace-loader/src/parser.js??ref--18-1!../../../../../../build/jace-loader/src/parser.js??ref--33-1!./q-association-design.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./q-association-design.vue?vue&type=template&id=34142c2e&\"\nimport script from \"./q-association-design.vue?vue&type=script&lang=js&\"\nexport * from \"./q-association-design.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../build/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCard,VContainer,VDivider,VFlex,VLayout,VProgressCircular,VSelect,VSwitch,VTab,VTabItem,VTabs,VTextField,VTextarea})\n"],"sourceRoot":""}